{"version":3,"file":"Tabs.stories-e1569135.js","sources":["../../src/layout/Tabs/docs/component.md?raw","../../src/layout/Tabs/Tabs.svelte","../../src/layout/Tabs/Tab.svelte","../../src/layout/Tabs/Tabs.stories.svelte"],"sourcesContent":["export default \"Use tabs to help users navigate between short sections of related content within a single page, showing one section at a time.\\n\\nBased on [this ONS Design System component](https://service-manual.ons.gov.uk/design-system/components/tabs).\\n\\n<!-- prettier-ignore -->\\n```html\\n<script>\\n  import { Tab, Tabs } from \\\"@onsvisual/svelte-components\\\";\\n</script>\\n\\n<Tabs>\\n  <Tab title=\\\"Tab one\\\">Contents of tab panel one.</Tab>\\n  <Tab title=\\\"Tab two\\\">Contents of tab panel two.</Tab>\\n  <Tab title=\\\"Tab three\\\">Contents of tab panel three.</Tab>\\n</Tabs>\\n```\\n\"","<script>\n  import { setContext } from \"svelte\";\n  import { writable } from \"svelte/store\";\n\n  /**\n   * Make tabs smaller/more compact\n   */\n  export let compact = false;\n\n  const sections = writable([]);\n  setContext(\"sections\", sections);\n\n  const selected = writable(null);\n  setContext(\"selected\", selected);\n\n  function showSection(id) {\n    $selected = id;\n    [...$sections].forEach(\n      (s) =>\n        (s.el.className =\n          s.id === id ? \"ons-tabs__panel\" : \"ons-tabs__panel ons-tabs__panel--hidden\")\n    );\n  }\n</script>\n\n<section class=\"ons-tabs\">\n  <h2 class=\"ons-tabs__title ons-u-fs-r--b ons-u-mt-no ons-u-vh\">Contents</h2>\n  <div class=\"ons-tabs__container\">\n    <ul class=\"ons-tabs__list ons-tabs__list--row\" role=\"tablist\">\n      {#each $sections as section}\n        <li\n          id=\"tab_{section.id}\"\n          class=\"ons-tab__list-item ons-tab__list-item--row\"\n          role=\"presentation\"\n        >\n          <a\n            href=\"#{section.id}\"\n            class=\"ons-tab ons-tab--row\"\n            class:ons-tab--compact=\"{compact}\"\n            class:ons-tab--selected=\"{section.id === selected}\"\n            data-ga=\"click\"\n            data-ga-category=\"tabs\"\n            data-ga-action=\"Show: {section.title}\"\n            data-ga-label=\"Show: {section.title}\"\n            aria-selected=\"{section.id === $selected ? 'true' : 'false'}\"\n            on:click|preventDefault=\"{() => showSection(section.id)}\">{section.title}</a\n          >\n        </li>\n      {/each}\n    </ul>\n  </div>\n  <slot />\n</section>\n\n<style>\n  .ons-tabs__list::after {\n    content: none;\n  }\n  .ons-tab--compact {\n    font-size: 16px;\n    height: 36px;\n    padding: 0 12px;\n    line-height: 2;\n  }\n  .ons-tab {\n    text-underline-offset: 0;\n    border-color: var(--hinted, #e2e2e3);\n  }\n  .ons-tab[aria-selected=\"true\"] {\n    border-color: var(--ons-color-borders);\n  }\n  .ons-tab:focus {\n    box-shadow: inset 0 0 0 4px var(--hinted, #e2e2e3), inset 12px 0 0 0 var(--hinted, #e2e2e3),\n      inset -12px 0 0 0 var(--hinted, #e2e2e3), inset 0 -8px 0 0 #222;\n  }\n  .ons-tab[aria-selected=\"true\"]:focus {\n    box-shadow: inset 0 0 0 4px var(--background, white), inset 12px 0 0 0 var(--background, white),\n      inset -12px 0 0 0 var(--background, white), inset 0 -8px 0 0 #222;\n  }\n  .ons-tab--row {\n    background: var(--hinted, #e2e2e3);\n  }\n  .ons-tab[aria-selected=\"true\"]:not(:focus) {\n    background-color: var(--background, white);\n  }\n</style>\n","<script>\n  import { onMount, onDestroy, getContext } from \"svelte\";\n  import { slugify } from \"../../js/utils.js\";\n\n  /**\n   * Title of tab/panel\n   * @type {string}\n   */\n  export let title = \"Tab title\";\n  /**\n   * Hide the title within the panel\n   * @type {boolean}\n   */\n  export let hideTitle = false;\n  /**\n   * ID/slug for tab (auto-generated from title if not set)\n   * @type {string}\n   */\n  export let id = slugify(title);\n\n  const sections = getContext(\"sections\");\n  const selected = getContext(\"selected\");\n\n  let el;\n\n  onMount(() => {\n    if (sections) {\n      if (!$sections[0] && ($selected || $selected === null)) $selected = id;\n      $sections = [...$sections, { title, id, el }];\n    }\n  });\n\n  onDestroy(() => {\n    if (sections) {\n      $sections = $sections.filter((s) => s.id !== id);\n    }\n  });\n</script>\n\n<section\n  id=\"{id}\"\n  class=\"ons-tabs__panel\"\n  bind:this=\"{el}\"\n  class:ons-tabs__panel--hidden=\"{$selected !== id}\"\n>\n  <h2 id=\"{id}-content-title\" class=\"ons-u-vh\" class:ons-u-vh=\"{hideTitle}\">{title}</h2>\n  <slot />\n</section>\n","<script>\n  import { Meta, Template, Story } from \"@storybook/addon-svelte-csf\";\n\n  // @ts-ignore\n  import componentDocs from \"./docs/component.md?raw\";\n  import Tabs from \"./Tabs.svelte\";\n  import Tab from \"./Tab.svelte\";\n  import { withComponentDocs } from \"../../js/withParams.js\";\n</script>\n\n<Meta\n  title=\"Layout/Tabs\"\n  component=\"{Tabs}\"\n  argTypes=\"{{}}\"\n  {...withComponentDocs(componentDocs)}\n/>\n\n<Template let:args>\n  <div style:padding=\"12px\">\n    <Tabs {...args}>\n      <Tab title=\"Tab one\" hideTitle=\"{args.hideTitle}\">Contents of tab panel one.</Tab>\n      <Tab title=\"Tab two\" hideTitle=\"{args.hideTitle}\">Contents of tab panel two.</Tab>\n      <Tab title=\"Tab three\" hideTitle=\"{args.hideTitle}\">Contents of tab panel three.</Tab>\n    </Tabs>\n  </div>\n</Template>\n\n<Story name=\"Default\" args=\"{{}}\" />\n\n<Story name=\"Compact, hidden titles\" args=\"{{ compact: true, hideTitle: true }}\" />\n"],"names":["componentDocs","t0_value","ctx","attr","a","a_href_value","a_data_ga_action_value","a_data_ga_label_value","li","li_id_value","insert","target","anchor","append","dirty","set_data","t0","i","section","h2","div","ul","compact","$$props","sections","writable","setContext","selected","showSection","id","set_store_value","$selected","$sections","s","toggle_class","title","hideTitle","slugify","getContext","el","onMount","onDestroy","$$value","tab0_changes","tab1_changes","tab2_changes","Tabs","withComponentDocs","get_spread_object"],"mappings":"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"}