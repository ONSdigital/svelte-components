import{S as U,i as X,s as Y,w as k,x as D,y as f,z as y,a as w,A as g,B as O,d as T,C as B,D as N,E as V,e as ee,F as j,G as te,p as Z,j as S,m as C,k as $,l as x,b as M,t as A,n as I,H as ae}from"./index-be4a2627.js";import{p as le,w as q,M as ne,T as se,S as F}from"./collect-stories-c7256c69.js";import{c as oe,a as ie,d as re}from"./utils-dfca2a5c.js";const G=`An table component with various customisation options.

\`\`\`html
<script>
  import { Table } from "@onsvisual/svelte-components";

  const data = [
    {col1: "Item one", col2: 10},
    {col1: "Item two", col2: 20},
    {col1: "Item three", col2: 30},
  ];
  const columns = [
    {key: "col1", label: "Text column"},
    {key: "col2", label: "Numeric column", numeric: true, sortable: true},
  ];
<\/script>

<Table {data} {columns} />
\`\`\`
`;function L(a,e,l){const n=a.slice();return n[11]=e[l],n}function P(a,e,l){const n=a.slice();return n[14]=e[l],n}function R(a,e,l){const n=a.slice();return n[14]=e[l],n[18]=l,n}function W(a){let e,l;return{c(){e=k("caption"),l=N(a[0]),f(e,"class","ons-table__caption")},m(n,s){w(n,e,s),g(e,l)},p(n,s){s&1&&V(l,n[0])},d(n){n&&T(e)}}}function ce(a){let e,l,n=a[14].label+"",s,t;return{c(){e=k("th"),l=k("span"),s=N(n),t=D(),f(l,"class","ons-table__header-text"),f(e,"scope","col"),f(e,"class","ons-table__header"),y(e,"ons-table__header--numeric",a[14].numeric)},m(o,u){w(o,e,u),g(e,l),g(l,s),g(e,t)},p(o,u){u&16&&n!==(n=o[14].label+"")&&V(s,n),u&16&&y(e,"ons-table__header--numeric",o[14].numeric)},d(o){o&&T(e)}}}function ue(a){let e,l,n=a[14].label+"",s,t,o,u,p,h,_,r,d;function v(){return a[10](a[18],a[14])}return{c(){e=k("th"),l=k("button"),s=N(n),t=j("svg"),o=j("path"),u=j("path"),h=D(),f(o,"class","ons-topTriangle"),f(o,"d","M6 0l6 7.2H0L6 0zm0 18.6l6-7.2H0l6 7.2zm0 3.6l6 7.2H0l6-7.2z"),f(u,"class","ons-bottomTriangle"),f(u,"d","M6 18.6l6-7.2H0l6 7.2zm0 3.6l6 7.2H0l6-7.2z"),f(t,"class","ons-svg-icon"),f(t,"viewBox","0 0 12 19"),f(t,"xmlns","http://www.w3.org/2000/svg"),f(t,"focusable","false"),f(t,"fill","currentColor"),f(l,"aria-label",p="Sort by "+a[14].label),f(l,"type","button"),f(l,"data-index",a[18]),f(l,"class","ons-table__sort-button svelte-1yomrff"),f(e,"scope","col"),f(e,"class","ons-table__header"),f(e,"aria-sort",_=a[6][a[18]]),y(e,"ons-table__header--numeric",a[14].numeric)},m(c,i){w(c,e,i),g(e,l),g(l,s),g(l,t),g(t,o),g(t,u),g(e,h),r||(d=te(l,"click",v),r=!0)},p(c,i){a=c,i&16&&n!==(n=a[14].label+"")&&V(s,n),i&16&&p!==(p="Sort by "+a[14].label)&&f(l,"aria-label",p),i&64&&_!==(_=a[6][a[18]])&&f(e,"aria-sort",_),i&16&&y(e,"ons-table__header--numeric",a[14].numeric)},d(c){c&&T(e),r=!1,d()}}}function J(a){let e;function l(t,o){return t[14].sortable?ue:ce}let n=l(a),s=n(a);return{c(){s.c(),e=ee()},m(t,o){s.m(t,o),w(t,e,o)},p(t,o){n===(n=l(t))&&s?s.p(t,o):(s.d(1),s=n(t),s&&(s.c(),s.m(e.parentNode,e)))},d(t){s.d(t),t&&T(e)}}}function K(a){let e,l=a[8](a[11][a[14].key],a[14].numeric)+"",n,s;return{c(){e=k("td"),n=N(l),f(e,"class","ons-table__cell"),f(e,"data-th",s=a[14].label),y(e,"ons-table__cell--numeric",a[14].numeric)},m(t,o){w(t,e,o),g(e,n)},p(t,o){o&48&&l!==(l=t[8](t[11][t[14].key],t[14].numeric)+"")&&V(n,l),o&16&&s!==(s=t[14].label)&&f(e,"data-th",s),o&16&&y(e,"ons-table__cell--numeric",t[14].numeric)},d(t){t&&T(e)}}}function Q(a){let e,l,n=a[4],s=[];for(let t=0;t<n.length;t+=1)s[t]=K(P(a,n,t));return{c(){e=k("tr");for(let t=0;t<s.length;t+=1)s[t].c();l=D(),f(e,"class","ons-table__row")},m(t,o){w(t,e,o);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(e,null);g(e,l)},p(t,o){if(o&304){n=t[4];let u;for(u=0;u<n.length;u+=1){const p=P(t,n,u);s[u]?s[u].p(p,o):(s[u]=K(p),s[u].c(),s[u].m(e,l))}for(;u<s.length;u+=1)s[u].d(1);s.length=n.length}},d(t){t&&T(e),B(s,t)}}}function me(a){let e,l,n,s,t,o,u,p,h,_=a[0]&&W(a),r=a[4],d=[];for(let i=0;i<r.length;i+=1)d[i]=J(R(a,r,i));let v=a[5],c=[];for(let i=0;i<v.length;i+=1)c[i]=Q(L(a,v,i));return{c(){e=k("table"),_&&_.c(),l=D(),n=k("thead"),s=k("tr");for(let i=0;i<d.length;i+=1)d[i].c();t=D(),o=k("tbody");for(let i=0;i<c.length;i+=1)c[i].c();f(s,"class","ons-table__row"),f(n,"class","ons-table__head"),f(o,"class","ons-table__body"),f(e,"class","ons-table"),f(e,"data-aria-sort",u=a[7]?"Sort by":null),f(e,"data-aria-asc",p=a[7]?"ascending":null),f(e,"data-aria-desc",h=a[7]?"descending":null),y(e,"ons-table--sortable",a[7]),y(e,"ons-table--compact",a[1]),y(e,"ons-table--responsive",a[2]),y(e,"ons-table--row-hover",a[3])},m(i,b){w(i,e,b),_&&_.m(e,null),g(e,l),g(e,n),g(n,s);for(let m=0;m<d.length;m+=1)d[m]&&d[m].m(s,null);g(e,t),g(e,o);for(let m=0;m<c.length;m+=1)c[m]&&c[m].m(o,null)},p(i,[b]){if(i[0]?_?_.p(i,b):(_=W(i),_.c(),_.m(e,l)):_&&(_.d(1),_=null),b&112){r=i[4];let m;for(m=0;m<r.length;m+=1){const H=R(i,r,m);d[m]?d[m].p(H,b):(d[m]=J(H),d[m].c(),d[m].m(s,null))}for(;m<d.length;m+=1)d[m].d(1);d.length=r.length}if(b&304){v=i[5];let m;for(m=0;m<v.length;m+=1){const H=L(i,v,m);c[m]?c[m].p(H,b):(c[m]=Q(H),c[m].c(),c[m].m(o,null))}for(;m<c.length;m+=1)c[m].d(1);c.length=v.length}b&128&&u!==(u=i[7]?"Sort by":null)&&f(e,"data-aria-sort",u),b&128&&p!==(p=i[7]?"ascending":null)&&f(e,"data-aria-asc",p),b&128&&h!==(h=i[7]?"descending":null)&&f(e,"data-aria-desc",h),b&128&&y(e,"ons-table--sortable",i[7]),b&2&&y(e,"ons-table--compact",i[1]),b&4&&y(e,"ons-table--responsive",i[2]),b&8&&y(e,"ons-table--row-hover",i[3])},i:O,o:O,d(i){i&&T(e),_&&_.d(),B(d,i),B(c,i)}}}function fe(a,e,l){let n,{title:s=""}=e,{compact:t=!1}=e,{responsive:o=!1}=e,{rowHover:u=!1}=e,{data:p=[]}=e,{columns:h=Array.isArray(p)&&p[0]?Object.keys(p[0]).map(c=>({key:c,label:c})):[]}=e,_=[...p],r=h.map(c=>"none");const d=(c,i)=>i?oe(c):c,v=(c,i)=>{l(6,r=r.map((b,m)=>m===c&&b==="ascending"?"descending":m===c?"ascending":"none")),l(5,_=_.sort((b,m)=>r[c]==="ascending"?ie(b[i.key],m[i.key]):re(b[i.key],m[i.key])))};return a.$$set=c=>{"title"in c&&l(0,s=c.title),"compact"in c&&l(1,t=c.compact),"responsive"in c&&l(2,o=c.responsive),"rowHover"in c&&l(3,u=c.rowHover),"data"in c&&l(9,p=c.data),"columns"in c&&l(4,h=c.columns)},a.$$.update=()=>{a.$$.dirty&16&&l(7,n=h.map(c=>c.sortable).includes(!0))},[s,t,o,u,h,_,r,n,d,p,v]}class z extends U{constructor(e){super(),X(this,e,fe,me,Y,{title:0,compact:1,responsive:2,rowHover:3,data:9,columns:4})}}z.__docgen={version:3,name:"Table.svelte",data:[{keywords:[{name:"type",description:"{string}"}],visibility:"public",description:"An optional title for the table",name:"title",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"string",type:"string"},defaultValue:""},{keywords:[{name:"type",description:"{boolean}"}],visibility:"public",description:"Make the chart smaller/more compact",name:"compact",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"boolean",type:"boolean"},defaultValue:!1},{keywords:[{name:"type",description:"{boolean}"}],visibility:"public",description:"Make the chart responsive (changes layout on narrow screens)",name:"responsive",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"boolean",type:"boolean"},defaultValue:!1},{keywords:[{name:"type",description:"{boolean}"}],visibility:"public",description:"Highlight rows on hover",name:"rowHover",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"boolean",type:"boolean"},defaultValue:!1},{keywords:[{name:"type",description:"{array}"}],visibility:"public",description:"Rows of data",name:"data",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"array",type:"array"}},{keywords:[{name:"type",description:"{array}"}],visibility:"public",description:"Optional metadata for formatting columns. Array of {key, label, sortable?, numeric?} objects",name:"columns",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"array",type:"array"}}],computed:[],methods:[],components:[],description:null,keywords:[],events:[],slots:[],refs:[]};function de(a){let e,l,n;const s=[a[2]];let t={};for(let o=0;o<s.length;o+=1)t=Z(t,s[o]);return l=new z({props:t}),{c(){e=k("div"),S(l.$$.fragment),ae(e,"padding","12px")},m(o,u){w(o,e,u),C(l,e,null),n=!0},p(o,u){const p=u&4?$(s,[x(o[2])]):{};l.$set(p)},i(o){n||(M(l.$$.fragment,o),n=!0)},o(o){A(l.$$.fragment,o),n=!1},d(o){o&&T(e),I(l)}}}function _e(a){let e,l,n,s,t,o,u,p;const h=[{title:"Data visualisation/Table"},{component:z},{argTypes:{}},q(G)];let _={};for(let r=0;r<h.length;r+=1)_=Z(_,h[r]);return e=new ne({props:_}),n=new se({props:{$$slots:{default:[de,({args:r})=>({2:r}),({args:r})=>r?4:0]},$$scope:{ctx:a}}}),t=new F({props:{name:"Default",args:{data:a[0],columns:a[1]}}}),u=new F({props:{name:"Compact mode",args:{data:a[0],columns:a[1],compact:!0}}}),{c(){S(e.$$.fragment),l=D(),S(n.$$.fragment),s=D(),S(t.$$.fragment),o=D(),S(u.$$.fragment)},m(r,d){C(e,r,d),w(r,l,d),C(n,r,d),w(r,s,d),C(t,r,d),w(r,o,d),C(u,r,d),p=!0},p(r,[d]){const v=d&0?$(h,[h[0],d&0&&{component:z},h[2],d&0&&x(q(G))]):{};e.$set(v);const c={};d&12&&(c.$$scope={dirty:d,ctx:r}),n.$set(c)},i(r){p||(M(e.$$.fragment,r),M(n.$$.fragment,r),M(t.$$.fragment,r),M(u.$$.fragment,r),p=!0)},o(r){A(e.$$.fragment,r),A(n.$$.fragment,r),A(t.$$.fragment,r),A(u.$$.fragment,r),p=!1},d(r){I(e,r),r&&T(l),I(n,r),r&&T(s),I(t,r),r&&T(o),I(u,r)}}}function pe(a){return[[{country:"Scotland",mountain:"Ben Nevis",height:1345},{country:"Wales",mountain:"Snowdon",height:1085},{country:"England",mountain:"Scarfell Pike",height:978},{country:"Northern Ireland",mountain:"Slieve Donard",height:850}],[{key:"country",label:"Country",sortable:!0},{key:"mountain",label:"Highest mountain"},{key:"height",label:"Height in metres",sortable:!0,numeric:!0}]]}class be extends U{constructor(e){super(),X(this,e,pe,_e,Y,{})}}const E=le(be,{meta:{title:"Data visualisation/Table"},stories:{"tpl:default":{storyId:"data-visualisation-table--default",name:"default",template:!0,source:`<div style:padding="12px">
  <Table {...args} />
</div>`,hasArgs:!0},Default:{storyId:"data-visualisation-table--default",name:"Default",template:!1,hasArgs:!1},CompactMode:{storyId:"data-visualisation-table--compact-mode",name:"Compact mode",template:!1,hasArgs:!1}},allocatedIds:["default","Meta","Template","Story","componentDocs","Table","withComponentDocs"]}),ve=E.meta,ke=["Default","CompactMode"],we=E.stories.Default,Te=E.stories.CompactMode;export{Te as CompactMode,we as Default,ke as __namedExportsOrder,ve as default};
//# sourceMappingURL=Table.stories-8b911249.js.map
