{"version":3,"file":"Select.stories-b715bf00.js","sources":["../../src/inputs/Select/docs/component.md?raw","../../src/inputs/Select/Select.svelte","../../src/inputs/Select/Select.stories.svelte"],"sourcesContent":["export default \"An extended alternative to a `<select>` component (see Dropdown), with auto-complete and multi-select.\\n\\nThis component is a wrapper for [svelte-select](https://github.com/rob-balfre/svelte-select).\\n\\n```html\\n<script>\\n  import { Select } from \\\"@onsvisual/svelte-components\\\";\\n\\n  const values = [\\n    { id: \\\"1\\\", label: \\\"one\\\" },\\n    { id: \\\"2\\\", label: \\\"two\\\" },\\n    { id: \\\"3\\\", label: \\\"three\\\" },\\n  ];\\n\\n  // Bind the <select> value to a variable (reactive)\\n  let value;\\n\\n  // Define your own function on change\\n  const handleChange = (e) => console.log(e);\\n</script>\\n\\n<select {options} bind:value on:change=\\\"{handleChange}\\\" />\\n```\\n\"","<script>\n  import SelectInner from \"svelte-select\";\n\n  /**\n   * Unique id for the element\n   * @type {string}\n   */\n  export let id = \"\";\n  /**\n   * The mode can be either \"default\" or \"search\"\n   * @type {\"default\"|\"search\"}\n   */\n  export let mode = \"default\";\n  /**\n   * Enable multi-select mode\n   * @type {boolean}\n   */\n  export let multiple = false;\n  /**\n   * Set a limit on the number of items in multi-select mode\n   * @type {number}\n   */\n  export let maxSelected = 4;\n  /**\n   * Defines whether the selection can be cleared\n   * @type {boolean}\n   */\n  export let clearable = true;\n  /**\n   * A label to describe the element (expected for accessibility)\n   * @type {string}\n   */\n  export let label = \"\";\n  /**\n   * Visually hide the label\n   * @type {boolean}\n   */\n  export let hideLabel = false;\n  /**\n   * An optional placeholder text\n   * @type {string}\n   */\n  export let placeholder = \"Select an option\";\n  /**\n   * A prop to bind to for the selected value (will be an array for multi-select)\n   * @type {object}\n   */\n  export let value = null;\n  /**\n   * An array of options, formatted {id, label}\n   * @type {array}\n   */\n  export let options = [];\n  /**\n   * The attribute of an option defines its ID\n   * @type {string}\n   */\n  export let idKey = \"id\";\n  /**\n   * The attribute of an option defines its label/name\n   * @type {string}\n   */\n  export let labelKey = \"label\";\n  /**\n   * Defines the width of the input in characters\n   * @type {number}\n   */\n  export let width = 30;\n  /**\n   * An array of colours for multi-select\n   * @type {array}\n   */\n  export let colors = [\n    \"#206095\",\n    \"#a8bd3a\",\n    \"#871a5b\",\n    \"#27a0cc\",\n    \"rgb(0, 60, 87)\",\n    \"rgb(116, 108, 177)\",\n    \"rgb(246, 96, 104)\",\n    \"rgb(0, 163, 166)\",\n  ];\n  /**\n   * A function to filter items based on the entered text\n   * @type {function}\n   */\n  export let itemFilter = (label, filterText, option) =>\n    label.match(new RegExp(`\\\\b${filterText}`, \"i\")) &&\n    !(multiple && value?.length >= maxSelected) &&\n    !(mode === \"search\" && filterText?.length < 3);\n  /**\n   * An optional function to load options based on the entered text\n   * @type {function}\n   */\n  export let loadOptions = null;\n  /**\n   * Optional params for positioning the dropdown\n   * @type {object} floatingConfig\n   */\n  export let floatingConfig = {};\n\n  $: style = colors.map((c, i) => `--item${i + 1}:${c}`).join(\";\");\n  $: noOptionsMessage =\n    multiple && value?.length >= maxSelected\n      ? `You can only select up to ${maxSelected} options`\n      : mode === \"search\" && filterText.length < 3\n      ? \"Enter 3 or more characters to see options\"\n      : filterText\n      ? `No options match <b>${filterText}</b>`\n      : \"No options available\";\n\n  let filterText = \"\";\n</script>\n\n<div class=\"ons-field\" style=\"{style}\">\n  {#if label}\n    <label class=\"ons-label\" for=\"{id}\" class:ons-u-vh=\"{hideLabel}\">{label}</label>\n  {/if}\n  <div class=\"ons-themed-select {Number.isInteger(width) ? `ons-input--w-${width}` : ''}\">\n    <SelectInner\n      id=\"{id}\"\n      placeholder=\"{placeholder}\"\n      loadOptions=\"{loadOptions}\"\n      itemFilter=\"{itemFilter}\"\n      floatingConfig=\"{floatingConfig}\"\n      bind:filterText=\"{filterText}\"\n      bind:value=\"{value}\"\n      items=\"{options}\"\n      itemId=\"{idKey}\"\n      label=\"{labelKey}\"\n      showChevron=\"{!value}\"\n      multiple=\"{multiple}\"\n      clearable=\"{clearable}\"\n      on:input\n      on:change\n      on:focus\n      on:blur\n      on:clear\n    >\n      <div slot=\"item\" let:item>\n        {@html item[labelKey].replace(\n          new RegExp(`\\\\b${filterText}`, \"i\"),\n          (str) => `<b>${str}</b>`\n        )}\n      </div>\n      <div slot=\"empty\">{@html noOptionsMessage}</div>\n      <div slot=\"chevron-icon\" style:transform=\"{mode === \"search\" ? \"translateY(2px)\" : null}\">\n        {#if mode === \"search\"}\n          <svg xmlns=\"http://www.w3.org/2000/svg\" aria-hidden=\"true\" viewBox=\"0 0 12 12\" width=\"20\">\n            <path\n              fill=\"currentColor\"\n              d=\"M11.86 10.23 8.62 6.99a4.63 4.63 0 1 0-6.34 1.64 4.55 4.55 0 0 0 2.36.64 4.65 4.65 0 0 0 2.33-.65l3.24 3.23a.46.46 0 0 0 .65 0l1-1a.48.48 0 0 0 0-.62Zm-5-3.32a3.28 3.28 0 0 1-2.31.93 3.22 3.22 0 1 1 2.35-.93Z\"\n            ></path>\n          </svg>\n        {:else}\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            aria-hidden=\"true\"\n            viewBox=\"0 0 11.75 7.7\"\n            width=\"18\"\n          >\n            <path\n              fill=\"currentColor\"\n              d=\"m1.37.15 4.5 5.1 4.5-5.1a.37.37 0 0 1 .6 0l.7.7a.45.45 0 0 1 0 .5l-5.5 6.2a.37.37 0 0 1-.6 0l-5.5-6.1a.64.64 0 0 1 0-.6l.7-.7a.64.64 0 0 1 .6 0Z\"\n            ></path>\n          </svg>\n        {/if}\n      </div>\n      <div slot=\"clear-icon\" style:transform=\"translateY(2px)\">\n        <svg xmlns=\"http://www.w3.org/2000/svg\" aria-hidden=\"true\" viewBox=\"0 0 14 14\" width=\"18\">\n          <path\n            fill=\"currentColor\"\n            d=\"M13.6 1 l -0.71 -0.71 a 0.5 0.5 0 0 0 -0.71 0 l -5.25 5.25 l -5.25 -5.25 a 0.51 0.51 0 0 0 -0.71 0 l -0.71 0.71 a 0.5 0.5 0 0 0 0 0.71 l 5.25 5.25 l -5.25 5.25 a 0.5 0.5 0 0 0 0 0.71 l 0.71 0.71 a 0.5 0.5 0 0 0 0.71 0 l 5.25 -5.25 l 5.25 5.25 a 0.5 0.5 0 0 0 0.71 0 l 0.71 -0.71 a 0.5 0.5 0 0 0 0 -0.71 l -5.25 -5.25 l 5.25 -5.25 a 0.5 0.5 0 0 0 0 -0.71Z\"\n          ></path>\n        </svg>\n      </div>\n    </SelectInner>\n  </div>\n</div>\n\n<style>\n  div[slot=\"empty\"] {\n    background-color: rgb(226, 226, 227);\n    padding: 6px 10px;\n  }\n  .ons-themed-select {\n    --border: 1px solid currentColor;\n    --border-hover: 1px solid currentColor;\n    --border-focused: 1px solid currentColor;\n    --border-radius: 3px;\n    --font-size: 18px;\n    --placeholder-color: currentColor;\n    --padding: 0 0 0 10px;\n    --list-border: 1px solid currentColor;\n    --item-hover-bg: #003c57;\n    --item-hover-color: white;\n    --item-is-active-bg: #003c57;\n    --item-padding: 0 0 0 10px;\n    --multi-item-outline: none;\n    --multi-item-height: 30px;\n    --value-container-padding: 3px 0;\n    --multi-select-padding: 0 0 0 6px;\n  }\n  :global(.ons-themed-select > .svelte-select:focus-within) {\n    outline: 3px solid #fbc900;\n  }\n  :global(.ons-themed-select > .svelte-select:focus-within::before) {\n    content: \"\";\n    outline: 1px solid rgb(34, 34, 34);\n    outline-offset: -1px;\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    left: 0;\n    pointer-events: none;\n  }\n  :global(.ons-themed-select .svelte-select-list) {\n    z-index: 4 !important;\n    color: #222;\n  }\n  :global(.ons-themed-select .svelte-select-list > div + div) {\n    border-top: 1px solid rgb(34, 34, 34);\n  }\n  :global(.ons-themed-select .multi-item) {\n    color: white !important;\n    font-weight: bold;\n  }\n  :global(.ons-themed-select .multi-item svg > path) {\n    fill: white !important;\n  }\n  :global(.ons-themed-select .multi-item:nth-of-type(1)) {\n    background-color: var(--item1, #ebedef) !important;\n  }\n  :global(.ons-themed-select .multi-item:nth-of-type(2)) {\n    background-color: var(--item2, #ebedef) !important;\n  }\n  :global(.ons-themed-select .multi-item:nth-of-type(3)) {\n    background-color: var(--item3, #ebedef) !important;\n  }\n  :global(.ons-themed-select .multi-item:nth-of-type(4)) {\n    background-color: var(--item4, #ebedef) !important;\n  }\n  :global(.ons-themed-select .multi-item:nth-of-type(5)) {\n    background-color: var(--item1, #ebedef) !important;\n  }\n  :global(.ons-themed-select .multi-item:nth-of-type(6)) {\n    background-color: var(--item2, #ebedef) !important;\n  }\n  :global(.ons-themed-select .multi-item:nth-of-type(7)) {\n    background-color: var(--item3, #ebedef) !important;\n  }\n  :global(.ons-themed-select .multi-item:nth-of-type(8)) {\n    background-color: var(--item4, #ebedef) !important;\n  }\n  .ons-field {\n    overflow: visible;\n  }\n</style>\n","<script>\n  import { Meta, Template, Story } from \"@storybook/addon-svelte-csf\";\n\n  // @ts-ignore\n  import componentDocs from \"./docs/component.md?raw\";\n  import Select from \"./Select.svelte\";\n  import { withComponentDocs } from \"$lib/js/withParams.js\";\n\n  const options = [\n    { id: \"1\", label: \"General\" },\n    { id: \"people-who-live-here\", label: \"People who live here\" },\n    { id: \"visitors\", label: \"Visitors\" },\n    { id: \"household-accommodation\", label: \"Household and accommodation\" },\n    { id: \"personal-details\", label: \"Personal details\" },\n    { id: \"health\", label: \"Health\" },\n    { id: \"qualifications\", label: \"Qualifications\" },\n    { id: \"employment\", label: \"Employment\" },\n  ];\n</script>\n\n<Meta\n  title=\"Inputs/Select\"\n  component=\"{Select}\"\n  argTypes=\"{{\n    mode: {\n      options: ['default', 'search'],\n      control: { type: 'select' },\n    },\n  }}\"\n  {...withComponentDocs(componentDocs)}\n/>\n\n<Template let:args>\n  <div style:padding=\"12px 12px 128px 12px\">\n    <Select {...args} />\n  </div>\n</Template>\n\n<Story\n  name=\"Default\"\n  args=\"{{\n    id: 'topic',\n    label: 'Question topic',\n    options,\n  }}\"\n/>\n\n<Story\n  name=\"Hidden label\"\n  args=\"{{\n    id: 'topic',\n    label: 'Question topic',\n    hideLabel: true,\n    options,\n  }}\"\n/>\n\n<Story\n  name=\"Search mode\"\n  args=\"{{\n    id: 'topic',\n    mode: 'search',\n    label: 'Question topic',\n    hideLabel: true,\n    placeholder: 'Type to select an option',\n    options,\n  }}\"\n/>\n\n<Story\n  name=\"Multi-select mode\"\n  args=\"{{\n    id: 'topic',\n    label: 'Question topic',\n    hideLabel: true,\n    placeholder: 'Select one or more',\n    multiple: true,\n    options,\n  }}\"\n/>\n"],"names":["componentDocs","ctx","insert","target","label_1","anchor","func","div","raw_value","svg","append","path","create_if_block","set_style","create_if_block_1","div1","div0","str","id","$$props","mode","multiple","maxSelected","clearable","label","hideLabel","placeholder","value","options","idKey","labelKey","width","colors","itemFilter","filterText","option","loadOptions","floatingConfig","value$1","style","c","i","$$invalidate","noOptionsMessage","Select","withComponentDocs","dirty","get_spread_object"],"mappings":"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"}