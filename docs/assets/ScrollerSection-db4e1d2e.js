import{S as ae,i as ce,s as ue,R as _e,q as F,w,x as J,e as he,a7 as k,z as ie,a as S,A as E,G as ke,u as K,r as Q,v as U,b as L,t as j,d as B,I as we,o as fe,a8 as ve,y as O,f as H,j as Se,m as Be,n as Ve,H as le,D as Ce,E as Ie}from"./index-b112ad45.js";import{C as ze}from"./Container-a17e3332.js";const{window:be}=ve,Te=n=>({}),se=n=>({}),Ee=n=>({}),oe=n=>({});function re(n){let t;return{c(){t=w("div"),O(t,"class","ons-spacer")},m(e,l){S(e,t,l)},d(e){e&&B(t)}}}function Re(n){let t,e,l,i,a,r,d,b,c,_,h;_e(n[21]);const u=n[20].background,m=F(u,n,n[19],oe),v=n[20].foreground,y=F(v,n,n[19],se);let f=n[2]&&re();return{c(){t=w("svelte-scroller-outer"),e=w("svelte-scroller-background-container"),l=w("svelte-scroller-background"),m&&m.c(),a=J(),r=w("svelte-scroller-foreground"),y&&y.c(),d=J(),f&&f.c(),b=he(),k(l,"class","svelte-koluze"),k(e,"class","background-container svelte-koluze"),k(e,"style",i=""+(n[8]+n[7])),k(r,"class","svelte-koluze"),k(t,"id",n[0]),k(t,"class","svelte-koluze"),ie(t,"splitscreen",n[1])},m(o,p){S(o,t,p),E(t,e),E(e,l),m&&m.m(l,null),n[22](l),E(t,a),E(t,r),y&&y.m(r,null),n[23](r),n[24](t),S(o,d,p),f&&f.m(o,p),S(o,b,p),c=!0,_||(h=ke(be,"resize",n[21]),_=!0)},p(o,p){m&&m.p&&(!c||p[0]&524288)&&K(m,u,o,o[19],c?U(u,o[19],p,Ee):Q(o[19]),oe),(!c||p[0]&384&&i!==(i=""+(o[8]+o[7])))&&k(e,"style",i),y&&y.p&&(!c||p[0]&524288)&&K(y,v,o,o[19],c?U(v,o[19],p,Te):Q(o[19]),se),(!c||p[0]&1)&&k(t,"id",o[0]),(!c||p[0]&2)&&ie(t,"splitscreen",o[1]),o[2]?f||(f=re(),f.c(),f.m(b.parentNode,b)):f&&(f.d(1),f=null)},i(o){c||(L(m,o),L(y,o),c=!0)},o(o){j(m,o),j(y,o),c=!1},d(o){o&&B(t),m&&m.d(o),n[22](null),y&&y.d(o),n[23](null),n[24](null),o&&B(d),f&&f.d(o),o&&B(b),_=!1,h()}}}const g=[];let x;if(typeof window<"u"){const n=()=>g.forEach(t=>t());window.addEventListener("scroll",n),window.addEventListener("resize",n)}if(typeof IntersectionObserver<"u"){const n=new Map,t=new IntersectionObserver((e,l)=>{e.forEach(i=>{const a=n.get(i.target),r=g.indexOf(a);i.isIntersecting?r===-1&&g.push(a):(a(),r!==-1&&g.splice(r,1))})},{rootMargin:"400px 0px"});x={add:({outer:e,update:l})=>{const{top:i,bottom:a}=e.getBoundingClientRect();i<window.innerHeight&&a>0&&g.push(l),n.set(e,l),t.observe(e)},remove:({outer:e,update:l})=>{const i=g.indexOf(l);i!==-1&&g.splice(i,1),n.delete(e),t.unobserve(e)}}}else x={add:({update:n})=>{g.push(n)},remove:({update:n})=>{const t=g.indexOf(n);t!==-1&&g.splice(t,1)}};let qe=0,Me=1,Ae="section";function Oe(n,t,e){let l,i,a,r,d,{$$slots:b={},$$scope:c}=t;const _=we();let{id:h=null}=t,{splitscreen:u=!1}=t,{marginBottom:m=!0}=t,{threshold:v=.7}=t,{count:y=0}=t,{index:f=0}=t,{sectionId:o=null}=t,{offset:p=0}=t,{progress:R=0}=t,{visible:G=!1}=t,q,V,D,X,M,C=0,I,A=0,N=1;fe(()=>{M=V.querySelectorAll(Ae),e(9,y=M.length),P();const s={outer:q,update:P};return x.add(s),()=>x.remove(s)});function P(){if(!V)return;const s=q.getBoundingClientRect();X=s.left,e(18,N=s.right-X);const z=V.getBoundingClientRect(),Y=D.getBoundingClientRect();e(14,G=z.top<C&&z.bottom>0);const Z=z.bottom-z.top;Y.bottom-Y.top;const $=i-l;e(13,R=(l-z.top)/(Z-$)),R<=0?(e(17,A=0),e(16,I=!1)):R>=1?(e(17,A=Z-$),e(16,I=!1)):(e(17,A=l),e(16,I=!0));for(let T=0;T<M.length;T++){const W=M[T],{top:ee}=W.getBoundingClientRect(),te=M[T+1],ne=te?te.getBoundingClientRect().top:z.bottom;if(e(12,p=(a-ee)/(ne-ee)),ne>=a){f!==T&&(e(10,f=T),e(11,o=W.dataset.id?W.dataset.id:null),_("change",{id:h,index:f,sectionId:o}));break}}}function pe(){e(3,C=be.innerHeight)}function ye(s){H[s?"unshift":"push"](()=>{D=s,e(6,D)})}function me(s){H[s?"unshift":"push"](()=>{V=s,e(5,V)})}function ge(s){H[s?"unshift":"push"](()=>{q=s,e(4,q)})}return n.$$set=s=>{"id"in s&&e(0,h=s.id),"splitscreen"in s&&e(1,u=s.splitscreen),"marginBottom"in s&&e(2,m=s.marginBottom),"threshold"in s&&e(15,v=s.threshold),"count"in s&&e(9,y=s.count),"index"in s&&e(10,f=s.index),"sectionId"in s&&e(11,o=s.sectionId),"offset"in s&&e(12,p=s.offset),"progress"in s&&e(13,R=s.progress),"visible"in s&&e(14,G=s.visible),"$$scope"in s&&e(19,c=s.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&8&&(l=Math.round(qe*C)),n.$$.dirty[0]&8&&(i=Math.round(Me*C)),n.$$.dirty[0]&32776&&(a=Math.round(v*C)),n.$$.dirty[0]&32768&&P(),n.$$.dirty[0]&196608&&e(8,r=`
		position: ${I?"fixed":"absolute"};
		top: 0;
		transform: translate(0, ${A}px);
		z-index: 1;
	`),n.$$.dirty[0]&327680&&e(7,d=I?`width:${N}px;`:"")},[h,u,m,C,q,V,D,d,r,y,f,o,p,R,G,v,I,A,N,c,b,pe,ye,me,ge]}class De extends ae{constructor(t){super(),ce(this,t,Oe,Re,ue,{id:0,splitscreen:1,marginBottom:2,threshold:15,count:9,index:10,sectionId:11,offset:12,progress:13,visible:14},null,[-1,-1])}}De.__docgen={version:3,name:"Scroller.svelte",data:[{keywords:[{name:"type",description:"{string}"}],visibility:"public",description:"Sets the unique ID of the scroller",name:"id",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"string",type:"string"},defaultValue:null},{keywords:[{name:"type",description:"{boolean}"}],visibility:"public",description:"Enables splitscreen view (captions appear on left on larger screens)",name:"splitscreen",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"boolean",type:"boolean"},defaultValue:!1},{keywords:[{name:"type",description:"{boolean}"}],visibility:"public",description:"Adds a margin under the scroller section",name:"marginBottom",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"boolean",type:"boolean"},defaultValue:!0},{keywords:[{name:"type",description:"{number}"}],visibility:"public",description:"Set the threshold for the transition between scroller sections (0-1)",name:"threshold",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"number",type:"number"},defaultValue:.7},{keywords:[{name:"type",description:"{number}"}],visibility:"public",description:"Binding: Total number of sections within scroller",name:"count",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"number",type:"number"},defaultValue:0},{keywords:[{name:"type",description:"{number}"}],visibility:"public",description:"Binding: Current section index (number)",name:"index",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"number",type:"number"},defaultValue:0},{keywords:[{name:"type",description:"{string}"}],visibility:"public",description:"Binding: Current section id, if it has one set",name:"sectionId",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"string",type:"string"},defaultValue:null},{keywords:[{name:"type",description:"{number}"}],visibility:"public",description:"Binding: The progress between the start of current scroller section and next (0-1)",name:"offset",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"number",type:"number"},defaultValue:0},{keywords:[{name:"type",description:"{number}"}],visibility:"public",description:"Binding: The progress through the whole scroller (0-1)",name:"progress",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"number",type:"number"},defaultValue:0},{keywords:[{name:"type",description:"{boolean}"}],visibility:"public",description:"Binding: Whether the scroller is visible on screen or not",name:"visible",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"boolean",type:"boolean"},defaultValue:!1}],computed:[],methods:[],components:[],description:null,keywords:[],events:[{visibility:"public",description:null,keywords:[],name:"change"}],slots:[{keywords:[],visibility:"public",description:"",name:"background"},{keywords:[],visibility:"public",description:"",name:"foreground"}],refs:[]};function de(n){let t,e;return{c(){t=w("h2"),e=Ce(n[2]),O(t,"class","section-title")},m(l,i){S(l,t,i),E(t,e)},p(l,i){i&4&&Ie(e,l[2])},d(l){l&&B(t)}}}function He(n){let t,e,l,i=n[2]&&!n[3]&&de(n);const a=n[6].default,r=F(a,n,n[8],null);return{c(){t=w("div"),i&&i.c(),e=J(),r&&r.c(),O(t,"class","ons-scroller-section svelte-oszuw0"),le(t,"--background",n[5])},m(d,b){S(d,t,b),i&&i.m(t,null),E(t,e),r&&r.m(t,null),l=!0},p(d,b){d[2]&&!d[3]?i?i.p(d,b):(i=de(d),i.c(),i.m(t,e)):i&&(i.d(1),i=null),r&&r.p&&(!l||b&256)&&K(r,a,d,d[8],l?U(a,d[8],b,null):Q(d[8]),null),b&32&&le(t,"--background",d[5])},i(d){l||(L(r,d),l=!0)},o(d){j(r,d),l=!1},d(d){d&&B(t),i&&i.d(),r&&r.d(d)}}}function Le(n){let t,e,l;return e=new ze({props:{theme:n[1],width:"narrow",background:"none",$$slots:{default:[He]},$$scope:{ctx:n}}}),{c(){t=w("section"),Se(e.$$.fragment),O(t,"data-id",n[0])},m(i,a){S(i,t,a),Be(e,t,null),n[7](t),l=!0},p(i,[a]){const r={};a&2&&(r.theme=i[1]),a&300&&(r.$$scope={dirty:a,ctx:i}),e.$set(r),(!l||a&1)&&O(t,"data-id",i[0])},i(i){l||(L(e.$$.fragment,i),l=!0)},o(i){j(e.$$.fragment,i),l=!1},d(i){i&&B(t),Ve(e),n[7](null)}}}function je(n,t,e){let{$$slots:l={},$$scope:i}=t,{id:a=null}=t,{theme:r=null}=t,{title:d=""}=t,{hideTitle:b=!1}=t,c,_;fe(()=>{e(5,_=getComputedStyle(c).getPropertyValue("--background").replaceAll('"',"")),console.log(c,getComputedStyle(c),_)});function h(u){H[u?"unshift":"push"](()=>{c=u,e(4,c)})}return n.$$set=u=>{"id"in u&&e(0,a=u.id),"theme"in u&&e(1,r=u.theme),"title"in u&&e(2,d=u.title),"hideTitle"in u&&e(3,b=u.hideTitle),"$$scope"in u&&e(8,i=u.$$scope)},[a,r,d,b,c,_,l,h,i]}class xe extends ae{constructor(t){super(),ce(this,t,je,Le,ue,{id:0,theme:1,title:2,hideTitle:3})}}xe.__docgen={version:3,name:"ScrollerSection.svelte",data:[{keywords:[{name:"type",description:"{string}"}],visibility:"public",description:"Sets the unique ID of the section",name:"id",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"string",type:"string"},defaultValue:null},{keywords:[{name:"type",description:'{"light"|"dark"|"lightblue"}'}],visibility:"public",description:"Sets a predefined theme",name:"theme",kind:"let",static:!1,readonly:!1,type:{kind:"union",text:'"light"|"dark"|"lightblue"',type:[{kind:"type",text:'"light"',type:'"light"'},{kind:"type",text:'"dark"',type:'"dark"'},{kind:"type",text:'"lightblue"',type:'"lightblue"'}]},defaultValue:null},{keywords:[{name:"type",description:"{string}"}],visibility:"public",description:"Sets the title of the section",name:"title",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"string",type:"string"},defaultValue:""},{keywords:[{name:"type",description:"{boolean}"}],visibility:"public",description:"Allows the h2 title tag for the section to be visually hidden",name:"hideTitle",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"boolean",type:"boolean"},defaultValue:!1}],computed:[],methods:[],components:[],description:null,keywords:[],events:[],slots:[{keywords:[],visibility:"public",description:"",name:"default"}],refs:[]};export{De as S,xe as a};
//# sourceMappingURL=ScrollerSection-db4e1d2e.js.map
