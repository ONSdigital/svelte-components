import{S as ae,i as ce,s as ue,D as _e,q as W,x as w,w as F,e as he,ag as k,U as L,a as S,H as q,Q as ke,u as G,r as K,v as X,b as j,t as x,d as B,O as we,o as fe,ah as ve,C as A,f as H,j as Se,m as Be,n as Ve,y as le,I as Ce,J as Ie}from"./index-4c87ff1b.js";import{C as ze}from"./Container-7073de09.js";const{window:be}=ve,Te=n=>({}),se=n=>({}),qe=n=>({}),oe=n=>({});function re(n){let e;return{c(){e=w("div"),A(e,"class","ons-spacer")},m(t,l){S(t,e,l)},d(t){t&&B(e)}}}function Ee(n){let e,t,l,i,a,r,d,b,c,_,h;_e(n[21]);const u=n[20].background,m=W(u,n,n[19],oe),v=n[20].foreground,y=W(v,n,n[19],se);let f=n[2]&&re();return{c(){e=w("svelte-scroller-outer"),t=w("svelte-scroller-background-container"),l=w("svelte-scroller-background"),m&&m.c(),a=F(),r=w("svelte-scroller-foreground"),y&&y.c(),d=F(),f&&f.c(),b=he(),k(l,"class","svelte-koluze"),k(t,"class","background-container svelte-koluze"),k(t,"style",i=""+(n[8]+n[7])),k(r,"class","svelte-koluze"),k(e,"id",n[0]),k(e,"class","svelte-koluze"),L(e,"splitscreen",n[1])},m(o,p){S(o,e,p),q(e,t),q(t,l),m&&m.m(l,null),n[22](l),q(e,a),q(e,r),y&&y.m(r,null),n[23](r),n[24](e),S(o,d,p),f&&f.m(o,p),S(o,b,p),c=!0,_||(h=ke(be,"resize",n[21]),_=!0)},p(o,p){m&&m.p&&(!c||p[0]&524288)&&G(m,u,o,o[19],c?X(u,o[19],p,qe):K(o[19]),oe),(!c||p[0]&384&&i!==(i=""+(o[8]+o[7])))&&k(t,"style",i),y&&y.p&&(!c||p[0]&524288)&&G(y,v,o,o[19],c?X(v,o[19],p,Te):K(o[19]),se),(!c||p[0]&1)&&k(e,"id",o[0]),(!c||p[0]&2)&&L(e,"splitscreen",o[1]),o[2]?f||(f=re(),f.c(),f.m(b.parentNode,b)):f&&(f.d(1),f=null)},i(o){c||(j(m,o),j(y,o),c=!0)},o(o){x(m,o),x(y,o),c=!1},d(o){o&&B(e),m&&m.d(o),n[22](null),y&&y.d(o),n[23](null),n[24](null),o&&B(d),f&&f.d(o),o&&B(b),_=!1,h()}}}const g=[];let J;if(typeof window<"u"){const n=()=>g.forEach(e=>e());window.addEventListener("scroll",n),window.addEventListener("resize",n)}if(typeof IntersectionObserver<"u"){const n=new Map,e=new IntersectionObserver((t,l)=>{t.forEach(i=>{const a=n.get(i.target),r=g.indexOf(a);i.isIntersecting?r===-1&&g.push(a):(a(),r!==-1&&g.splice(r,1))})},{rootMargin:"400px 0px"});J={add:({outer:t,update:l})=>{const{top:i,bottom:a}=t.getBoundingClientRect();i<window.innerHeight&&a>0&&g.push(l),n.set(t,l),e.observe(t)},remove:({outer:t,update:l})=>{const i=g.indexOf(l);i!==-1&&g.splice(i,1),n.delete(t),e.unobserve(t)}}}else J={add:({update:n})=>{g.push(n)},remove:({update:n})=>{const e=g.indexOf(n);e!==-1&&g.splice(e,1)}};let Me=0,Oe=1,Re="section";function Ae(n,e,t){let l,i,a,r,d,{$$slots:b={},$$scope:c}=e;const _=we();let{id:h=null}=e,{splitscreen:u=!1}=e,{marginBottom:m=!0}=e,{threshold:v=.7}=e,{count:y=0}=e,{index:f=0}=e,{sectionId:o=null}=e,{offset:p=0}=e,{progress:E=0}=e,{visible:N=!1}=e,M,V,D,Y,O,C=0,I,R=0,P=1;fe(()=>{O=V.querySelectorAll(Re),t(9,y=O.length),Q();const s={outer:M,update:Q};return J.add(s),()=>J.remove(s)});function Q(){if(!V)return;const s=M.getBoundingClientRect();Y=s.left,t(18,P=s.right-Y);const z=V.getBoundingClientRect(),Z=D.getBoundingClientRect();t(14,N=z.top<C&&z.bottom>0);const $=z.bottom-z.top;Z.bottom-Z.top;const ee=i-l;t(13,E=(l-z.top)/($-ee)),E<=0?(t(17,R=0),t(16,I=!1)):E>=1?(t(17,R=$-ee),t(16,I=!1)):(t(17,R=l),t(16,I=!0));for(let T=0;T<O.length;T++){const U=O[T],{top:te}=U.getBoundingClientRect(),ne=O[T+1],ie=ne?ne.getBoundingClientRect().top:z.bottom;if(t(12,p=(a-te)/(ie-te)),ie>=a){f!==T&&(t(10,f=T),t(11,o=U.dataset.id?U.dataset.id:null),_("change",{id:h,index:f,sectionId:o}));break}}}function pe(){t(3,C=be.innerHeight)}function ye(s){H[s?"unshift":"push"](()=>{D=s,t(6,D)})}function me(s){H[s?"unshift":"push"](()=>{V=s,t(5,V)})}function ge(s){H[s?"unshift":"push"](()=>{M=s,t(4,M)})}return n.$$set=s=>{"id"in s&&t(0,h=s.id),"splitscreen"in s&&t(1,u=s.splitscreen),"marginBottom"in s&&t(2,m=s.marginBottom),"threshold"in s&&t(15,v=s.threshold),"count"in s&&t(9,y=s.count),"index"in s&&t(10,f=s.index),"sectionId"in s&&t(11,o=s.sectionId),"offset"in s&&t(12,p=s.offset),"progress"in s&&t(13,E=s.progress),"visible"in s&&t(14,N=s.visible),"$$scope"in s&&t(19,c=s.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&8&&(l=Math.round(Me*C)),n.$$.dirty[0]&8&&(i=Math.round(Oe*C)),n.$$.dirty[0]&32776&&(a=Math.round(v*C)),n.$$.dirty[0]&32768&&Q(),n.$$.dirty[0]&196608&&t(8,r=`
		position: ${I?"fixed":"absolute"};
		top: 0;
		transform: translate(0, ${R}px);
		z-index: 1;
	`),n.$$.dirty[0]&327680&&t(7,d=I?`width:${P}px;`:"")},[h,u,m,C,M,V,D,d,r,y,f,o,p,E,N,v,I,R,P,c,b,pe,ye,me,ge]}class De extends ae{constructor(e){super(),ce(this,e,Ae,Ee,ue,{id:0,splitscreen:1,marginBottom:2,threshold:15,count:9,index:10,sectionId:11,offset:12,progress:13,visible:14},null,[-1,-1])}}De.__docgen={version:3,name:"Scroller.svelte",data:[{keywords:[{name:"type",description:"{string}"}],visibility:"public",description:"Sets the unique ID of the scroller",name:"id",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"string",type:"string"},defaultValue:null},{keywords:[{name:"type",description:"{boolean}"}],visibility:"public",description:"Enables splitscreen view (captions appear on left on larger screens)",name:"splitscreen",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"boolean",type:"boolean"},defaultValue:!1},{keywords:[{name:"type",description:"{boolean}"}],visibility:"public",description:"Adds a margin under the scroller section",name:"marginBottom",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"boolean",type:"boolean"},defaultValue:!0},{keywords:[{name:"type",description:"{number}"}],visibility:"public",description:"Set the threshold for the transition between scroller sections (0-1)",name:"threshold",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"number",type:"number"},defaultValue:.7},{keywords:[{name:"type",description:"{number}"}],visibility:"public",description:"Binding: Total number of sections within scroller",name:"count",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"number",type:"number"},defaultValue:0},{keywords:[{name:"type",description:"{number}"}],visibility:"public",description:"Binding: Current section index (number)",name:"index",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"number",type:"number"},defaultValue:0},{keywords:[{name:"type",description:"{string}"}],visibility:"public",description:"Binding: Current section id, if it has one set",name:"sectionId",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"string",type:"string"},defaultValue:null},{keywords:[{name:"type",description:"{number}"}],visibility:"public",description:"Binding: The progress between the start of current scroller section and next (0-1)",name:"offset",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"number",type:"number"},defaultValue:0},{keywords:[{name:"type",description:"{number}"}],visibility:"public",description:"Binding: The progress through the whole scroller (0-1)",name:"progress",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"number",type:"number"},defaultValue:0},{keywords:[{name:"type",description:"{boolean}"}],visibility:"public",description:"Binding: Whether the scroller is visible on screen or not",name:"visible",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"boolean",type:"boolean"},defaultValue:!1}],computed:[],methods:[],components:[],description:null,keywords:[],events:[{visibility:"public",description:null,keywords:[],name:"change"}],slots:[{keywords:[],visibility:"public",description:"",name:"background"},{keywords:[],visibility:"public",description:"",name:"foreground"}],refs:[]};function de(n){let e,t;return{c(){e=w("h2"),t=Ce(n[2]),A(e,"class","section-title"),L(e,"ons-u-vh",n[3])},m(l,i){S(l,e,i),q(e,t)},p(l,i){i&4&&Ie(t,l[2]),i&8&&L(e,"ons-u-vh",l[3])},d(l){l&&B(e)}}}function He(n){let e,t,l,i=n[2]&&de(n);const a=n[6].default,r=W(a,n,n[8],null);return{c(){e=w("div"),i&&i.c(),t=F(),r&&r.c(),A(e,"class","ons-scroller-section svelte-oszuw0"),le(e,"--background",n[5])},m(d,b){S(d,e,b),i&&i.m(e,null),q(e,t),r&&r.m(e,null),l=!0},p(d,b){d[2]?i?i.p(d,b):(i=de(d),i.c(),i.m(e,t)):i&&(i.d(1),i=null),r&&r.p&&(!l||b&256)&&G(r,a,d,d[8],l?X(a,d[8],b,null):K(d[8]),null),b&32&&le(e,"--background",d[5])},i(d){l||(j(r,d),l=!0)},o(d){x(r,d),l=!1},d(d){d&&B(e),i&&i.d(),r&&r.d(d)}}}function Le(n){let e,t,l;return t=new ze({props:{theme:n[1],width:"narrow",background:"none",$$slots:{default:[He]},$$scope:{ctx:n}}}),{c(){e=w("section"),Se(t.$$.fragment),A(e,"data-id",n[0])},m(i,a){S(i,e,a),Be(t,e,null),n[7](e),l=!0},p(i,[a]){const r={};a&2&&(r.theme=i[1]),a&300&&(r.$$scope={dirty:a,ctx:i}),t.$set(r),(!l||a&1)&&A(e,"data-id",i[0])},i(i){l||(j(t.$$.fragment,i),l=!0)},o(i){x(t.$$.fragment,i),l=!1},d(i){i&&B(e),Ve(t),n[7](null)}}}function je(n,e,t){let{$$slots:l={},$$scope:i}=e,{id:a=null}=e,{theme:r=null}=e,{title:d=""}=e,{hideTitle:b=!1}=e,c,_;fe(()=>{t(5,_=getComputedStyle(c).getPropertyValue("--background").replaceAll('"',"")),console.log(c,getComputedStyle(c),_)});function h(u){H[u?"unshift":"push"](()=>{c=u,t(4,c)})}return n.$$set=u=>{"id"in u&&t(0,a=u.id),"theme"in u&&t(1,r=u.theme),"title"in u&&t(2,d=u.title),"hideTitle"in u&&t(3,b=u.hideTitle),"$$scope"in u&&t(8,i=u.$$scope)},[a,r,d,b,c,_,l,h,i]}class xe extends ae{constructor(e){super(),ce(this,e,je,Le,ue,{id:0,theme:1,title:2,hideTitle:3})}}xe.__docgen={version:3,name:"ScrollerSection.svelte",data:[{keywords:[{name:"type",description:"{string}"}],visibility:"public",description:"Sets the unique ID of the section",name:"id",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"string",type:"string"},defaultValue:null},{keywords:[{name:"type",description:'{"light"|"dark"|"lightblue"}'}],visibility:"public",description:"Sets a predefined theme",name:"theme",kind:"let",static:!1,readonly:!1,type:{kind:"union",text:'"light"|"dark"|"lightblue"',type:[{kind:"type",text:'"light"',type:'"light"'},{kind:"type",text:'"dark"',type:'"dark"'},{kind:"type",text:'"lightblue"',type:'"lightblue"'}]},defaultValue:null},{keywords:[{name:"type",description:"{string}"}],visibility:"public",description:"Sets the title of the section",name:"title",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"string",type:"string"},defaultValue:""},{keywords:[{name:"type",description:"{boolean}"}],visibility:"public",description:"Allows the h2 title tag for the section to be visually hidden",name:"hideTitle",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"boolean",type:"boolean"},defaultValue:!1}],computed:[],methods:[],components:[],description:null,keywords:[],events:[],slots:[{keywords:[],visibility:"public",description:"",name:"default"}],refs:[]};export{De as S,xe as a};
//# sourceMappingURL=ScrollerSection-e0dbdeaa.js.map
