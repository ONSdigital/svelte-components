import{S as Y,i as Z,s as $,x as w,w as D,C as f,U as v,y as C,a as H,H as y,N as P,d as S,P as E,I as N,J as W,e as ae,G as O,Q as le,p as x,j as M,m as I,k as ee,l as te,b as A,t as F,n as V}from"./index-4c87ff1b.js";import{p as ne,w as q,M as se,T as oe,S as B}from"./collect-stories-1e766e4e.js";import{c as ie,a as re,d as ce}from"./utils-f6662b64.js";const G=`An table component with various customisation options.

<!-- prettier-ignore -->
\`\`\`html
<script>
  import { Table } from "@onsvisual/svelte-components";

  const data = [
    { col1: "Item one", col2: 10 },
    { col1: "Item two", col2: 20 },
    { col1: "Item three", col2: 30 },
  ];
  const columns = [
    { key: "col1", label: "Text column" },
    { key: "col2", label: "Numeric column", numeric: true, sortable: true },
  ];
<\/script>

<Table {data} {columns} />
\`\`\`
`;function J(l,e,t){const o=l.slice();return o[13]=e[t],o}function L(l,e,t){const o=l.slice();return o[16]=e[t],o}function Q(l,e,t){const o=l.slice();return o[16]=e[t],o[20]=t,o}function R(l){let e,t;return{c(){e=w("caption"),t=N(l[0]),f(e,"class","ons-table__caption")},m(o,i){H(o,e,i),y(e,t)},p(o,i){i&1&&W(t,o[0])},d(o){o&&S(e)}}}function ue(l){let e,t,o=l[16].label+"",i,n;return{c(){e=w("th"),t=w("span"),i=N(o),n=D(),f(t,"class","ons-table__header-text"),f(e,"scope","col"),f(e,"class","ons-table__header svelte-81wno"),v(e,"ons-table__header--numeric",l[16].numeric)},m(r,c){H(r,e,c),y(e,t),y(t,i),y(e,n)},p(r,c){c&64&&o!==(o=r[16].label+"")&&W(i,o),c&64&&v(e,"ons-table__header--numeric",r[16].numeric)},d(r){r&&S(e)}}}function fe(l){let e,t,o=l[16].label+"",i,n,r,c,_,g,h,d,k;function s(){return l[12](l[20],l[16])}return{c(){e=w("th"),t=w("button"),i=N(o),n=O("svg"),r=O("path"),c=O("path"),g=D(),f(r,"class","ons-topTriangle"),f(r,"d","M6 0l6 7.2H0L6 0zm0 18.6l6-7.2H0l6 7.2zm0 3.6l6 7.2H0l6-7.2z"),f(c,"class","ons-bottomTriangle"),f(c,"d","M6 18.6l6-7.2H0l6 7.2zm0 3.6l6 7.2H0l6-7.2z"),f(n,"class","ons-svg-icon"),f(n,"viewBox","0 0 12 19"),f(n,"xmlns","http://www.w3.org/2000/svg"),f(n,"focusable","false"),f(n,"fill","currentColor"),f(t,"aria-label",_="Sort by "+l[16].label),f(t,"type","button"),f(t,"data-index",l[20]),f(t,"class","ons-table__sort-button svelte-81wno"),f(e,"scope","col"),f(e,"class","ons-table__header svelte-81wno"),f(e,"aria-sort",h=l[8][l[20]]),v(e,"ons-table__header--numeric",l[16].numeric)},m(m,p){H(m,e,p),y(e,t),y(t,i),y(t,n),y(n,r),y(n,c),y(e,g),d||(k=le(t,"click",s),d=!0)},p(m,p){l=m,p&64&&o!==(o=l[16].label+"")&&W(i,o),p&64&&_!==(_="Sort by "+l[16].label)&&f(t,"aria-label",_),p&256&&h!==(h=l[8][l[20]])&&f(e,"aria-sort",h),p&64&&v(e,"ons-table__header--numeric",l[16].numeric)},d(m){m&&S(e),d=!1,k()}}}function U(l){let e;function t(n,r){return n[16].sortable?fe:ue}let o=t(l),i=o(l);return{c(){i.c(),e=ae()},m(n,r){i.m(n,r),H(n,e,r)},p(n,r){o===(o=t(n))&&i?i.p(n,r):(i.d(1),i=o(n),i&&(i.c(),i.m(e.parentNode,e)))},d(n){i.d(n),n&&S(e)}}}function K(l){let e,t=l[10](l[13][l[16].key],l[16].numeric)+"",o,i;return{c(){e=w("td"),o=N(t),f(e,"class","ons-table__cell"),f(e,"data-th",i=l[16].label),v(e,"ons-table__cell--numeric",l[16].numeric)},m(n,r){H(n,e,r),y(e,o)},p(n,r){r&192&&t!==(t=n[10](n[13][n[16].key],n[16].numeric)+"")&&W(o,t),r&64&&i!==(i=n[16].label)&&f(e,"data-th",i),r&64&&v(e,"ons-table__cell--numeric",n[16].numeric)},d(n){n&&S(e)}}}function X(l){let e,t,o=l[6],i=[];for(let n=0;n<o.length;n+=1)i[n]=K(L(l,o,n));return{c(){e=w("tr");for(let n=0;n<i.length;n+=1)i[n].c();t=D(),f(e,"class","ons-table__row")},m(n,r){H(n,e,r);for(let c=0;c<i.length;c+=1)i[c]&&i[c].m(e,null);y(e,t)},p(n,r){if(r&1216){o=n[6];let c;for(c=0;c<o.length;c+=1){const _=L(n,o,c);i[c]?i[c].p(_,r):(i[c]=K(_),i[c].c(),i[c].m(e,t))}for(;c<i.length;c+=1)i[c].d(1);i.length=o.length}},d(n){n&&S(e),E(i,n)}}}function me(l){let e,t,o,i,n,r,c,_,g,h,d=l[0]&&R(l),k=l[6],s=[];for(let a=0;a<k.length;a+=1)s[a]=U(Q(l,k,a));let m=l[7],p=[];for(let a=0;a<m.length;a+=1)p[a]=X(J(l,m,a));return{c(){e=w("div"),t=w("table"),d&&d.c(),o=D(),i=w("thead"),n=w("tr");for(let a=0;a<s.length;a+=1)s[a].c();r=D(),c=w("tbody");for(let a=0;a<p.length;a+=1)p[a].c();f(n,"class","ons-table__row"),f(i,"class","ons-table__head svelte-81wno"),f(c,"class","ons-table__body"),f(t,"class","ons-table svelte-81wno"),f(t,"data-aria-sort",_=l[9]?"Sort by":null),f(t,"data-aria-asc",g=l[9]?"ascending":null),f(t,"data-aria-desc",h=l[9]?"descending":null),v(t,"ons-table--sortable",l[9]),v(t,"ons-table--compact",l[1]),v(t,"ons-table--responsive",l[2]),v(t,"ons-table--row-hover",l[3]),v(t,"sticky-header",l[4]),C(e,"overflow",typeof l[5]=="number"?"auto":null),C(e,"height",typeof l[5]=="number"?`${l[5]}px`:null),C(e,"display",typeof l[5]!="number"?"contents":null)},m(a,b){H(a,e,b),y(e,t),d&&d.m(t,null),y(t,o),y(t,i),y(i,n);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(n,null);y(t,r),y(t,c);for(let u=0;u<p.length;u+=1)p[u]&&p[u].m(c,null)},p(a,[b]){if(a[0]?d?d.p(a,b):(d=R(a),d.c(),d.m(t,o)):d&&(d.d(1),d=null),b&448){k=a[6];let u;for(u=0;u<k.length;u+=1){const T=Q(a,k,u);s[u]?s[u].p(T,b):(s[u]=U(T),s[u].c(),s[u].m(n,null))}for(;u<s.length;u+=1)s[u].d(1);s.length=k.length}if(b&1216){m=a[7];let u;for(u=0;u<m.length;u+=1){const T=J(a,m,u);p[u]?p[u].p(T,b):(p[u]=X(T),p[u].c(),p[u].m(c,null))}for(;u<p.length;u+=1)p[u].d(1);p.length=m.length}b&512&&_!==(_=a[9]?"Sort by":null)&&f(t,"data-aria-sort",_),b&512&&g!==(g=a[9]?"ascending":null)&&f(t,"data-aria-asc",g),b&512&&h!==(h=a[9]?"descending":null)&&f(t,"data-aria-desc",h),b&512&&v(t,"ons-table--sortable",a[9]),b&2&&v(t,"ons-table--compact",a[1]),b&4&&v(t,"ons-table--responsive",a[2]),b&8&&v(t,"ons-table--row-hover",a[3]),b&16&&v(t,"sticky-header",a[4]),b&32&&C(e,"overflow",typeof a[5]=="number"?"auto":null),b&32&&C(e,"height",typeof a[5]=="number"?`${a[5]}px`:null),b&32&&C(e,"display",typeof a[5]!="number"?"contents":null)},i:P,o:P,d(a){a&&S(e),d&&d.d(),E(s,a),E(p,a)}}}function de(l,e,t){let o,{title:i=""}=e,{compact:n=!1}=e,{responsive:r=!1}=e,{rowHover:c=!1}=e,{stickyHeader:_=!1}=e,{height:g="auto"}=e,{data:h=[]}=e,{columns:d=Array.isArray(h)&&h[0]?Object.keys(h[0]).map(a=>({key:a,label:a})):[]}=e,k=[...h],s=d.map(a=>"none");const m=(a,b)=>b?ie(a):a,p=(a,b)=>{t(8,s=s.map((u,T)=>T===a&&u==="ascending"?"descending":T===a?"ascending":"none")),t(7,k=k.sort((u,T)=>s[a]==="ascending"?re(u[b.key],T[b.key]):ce(u[b.key],T[b.key])))};return l.$$set=a=>{"title"in a&&t(0,i=a.title),"compact"in a&&t(1,n=a.compact),"responsive"in a&&t(2,r=a.responsive),"rowHover"in a&&t(3,c=a.rowHover),"stickyHeader"in a&&t(4,_=a.stickyHeader),"height"in a&&t(5,g=a.height),"data"in a&&t(11,h=a.data),"columns"in a&&t(6,d=a.columns)},l.$$.update=()=>{l.$$.dirty&64&&t(9,o=d.map(a=>a.sortable).includes(!0))},[i,n,r,c,_,g,d,k,s,o,m,h,p]}class z extends Y{constructor(e){super(),Z(this,e,de,me,$,{title:0,compact:1,responsive:2,rowHover:3,stickyHeader:4,height:5,data:11,columns:6})}}z.__docgen={version:3,name:"Table.svelte",data:[{keywords:[{name:"type",description:"{string}"}],visibility:"public",description:"An optional title for the table",name:"title",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"string",type:"string"},defaultValue:""},{keywords:[{name:"type",description:"{boolean}"}],visibility:"public",description:"Make the chart smaller/more compact",name:"compact",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"boolean",type:"boolean"},defaultValue:!1},{keywords:[{name:"type",description:"{boolean}"}],visibility:"public",description:"Make the chart responsive (changes layout on narrow screens)",name:"responsive",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"boolean",type:"boolean"},defaultValue:!1},{keywords:[{name:"type",description:"{boolean}"}],visibility:"public",description:"Highlight rows on hover",name:"rowHover",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"boolean",type:"boolean"},defaultValue:!1},{keywords:[{name:"type",description:"{boolean}"}],visibility:"public",description:"Sticky header when table is longer than screen height",name:"stickyHeader",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"boolean",type:"boolean"},defaultValue:!1},{keywords:[{name:"type",description:'{number|"auto"}'}],visibility:"public",description:"Sticky header when table is longer than screen height",name:"height",kind:"let",static:!1,readonly:!1,type:{kind:"union",text:'number|"auto"',type:[{kind:"type",text:"number",type:"number"},{kind:"type",text:'"auto"',type:'"auto"'}]},defaultValue:"auto"},{keywords:[{name:"type",description:"{array}"}],visibility:"public",description:"Rows of data",name:"data",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"array",type:"array"}},{keywords:[{name:"type",description:"{array}"}],visibility:"public",description:"Optional metadata for formatting columns. Array of {key, label, sortable?, numeric?} objects",name:"columns",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"array",type:"array"}}],computed:[],methods:[],components:[],description:null,keywords:[],events:[],slots:[],refs:[]};function pe(l){let e,t,o;const i=[l[2]];let n={};for(let r=0;r<i.length;r+=1)n=x(n,i[r]);return t=new z({props:n}),{c(){e=w("div"),M(t.$$.fragment),C(e,"padding","12px")},m(r,c){H(r,e,c),I(t,e,null),o=!0},p(r,c){const _=c&4?ee(i,[te(r[2])]):{};t.$set(_)},i(r){o||(A(t.$$.fragment,r),o=!0)},o(r){F(t.$$.fragment,r),o=!1},d(r){r&&S(e),V(t)}}}function be(l){let e,t,o,i,n,r,c,_,g,h;const d=[{title:"Data visualisation/Table"},{component:z},{argTypes:{}},q(G)];let k={};for(let s=0;s<d.length;s+=1)k=x(k,d[s]);return e=new se({props:k}),o=new oe({props:{$$slots:{default:[pe,({args:s})=>({2:s}),({args:s})=>s?4:0]},$$scope:{ctx:l}}}),n=new B({props:{name:"Default",args:{data:l[0],columns:l[1]}}}),c=new B({props:{name:"Fixed height 200px with sticky header",args:{data:l[0],columns:l[1],height:200,stickyHeader:!0}}}),g=new B({props:{name:"Compact mode",args:{data:l[0],columns:l[1],compact:!0}}}),{c(){M(e.$$.fragment),t=D(),M(o.$$.fragment),i=D(),M(n.$$.fragment),r=D(),M(c.$$.fragment),_=D(),M(g.$$.fragment)},m(s,m){I(e,s,m),H(s,t,m),I(o,s,m),H(s,i,m),I(n,s,m),H(s,r,m),I(c,s,m),H(s,_,m),I(g,s,m),h=!0},p(s,[m]){const p=m&0?ee(d,[d[0],m&0&&{component:z},d[2],m&0&&te(q(G))]):{};e.$set(p);const a={};m&12&&(a.$$scope={dirty:m,ctx:s}),o.$set(a)},i(s){h||(A(e.$$.fragment,s),A(o.$$.fragment,s),A(n.$$.fragment,s),A(c.$$.fragment,s),A(g.$$.fragment,s),h=!0)},o(s){F(e.$$.fragment,s),F(o.$$.fragment,s),F(n.$$.fragment,s),F(c.$$.fragment,s),F(g.$$.fragment,s),h=!1},d(s){V(e,s),s&&S(t),V(o,s),s&&S(i),V(n,s),s&&S(r),V(c,s),s&&S(_),V(g,s)}}}function _e(l){return[[{country:"Scotland",mountain:"Ben Nevis",height:1345},{country:"Wales",mountain:"Snowdon",height:1085},{country:"England",mountain:"Scarfell Pike",height:978},{country:"Northern Ireland",mountain:"Slieve Donard",height:850}],[{key:"country",label:"Country",sortable:!0},{key:"mountain",label:"Highest mountain"},{key:"height",label:"Height in metres",sortable:!0,numeric:!0}]]}class he extends Y{constructor(e){super(),Z(this,e,_e,be,$,{})}}const j=ne(he,{meta:{title:"Data visualisation/Table"},stories:{"tpl:default":{storyId:"data-visualisation-table--default",name:"default",template:!0,source:`<div style:padding="12px">
  <Table {...args} />
</div>`,hasArgs:!0},Default:{storyId:"data-visualisation-table--default",name:"Default",template:!1,hasArgs:!1},FixedHeight200pxWithStickyHeader:{storyId:"data-visualisation-table--fixed-height-200-px-with-sticky-header",name:"Fixed height 200px with sticky header",template:!1,hasArgs:!1},CompactMode:{storyId:"data-visualisation-table--compact-mode",name:"Compact mode",template:!1,hasArgs:!1}},allocatedIds:["default","Meta","Template","Story","componentDocs","Table","withComponentDocs"]}),ve=j.meta,we=["Default","FixedHeight200pxWithStickyHeader","CompactMode"],He=j.stories.Default,Se=j.stories.FixedHeight200pxWithStickyHeader,Te=j.stories.CompactMode;export{Te as CompactMode,He as Default,Se as FixedHeight200pxWithStickyHeader,we as __namedExportsOrder,ve as default};
//# sourceMappingURL=Table.stories-65e89b97.js.map
