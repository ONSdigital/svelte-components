import{p as ct,a as f,ak as ot,ao as _t,$ as ht,h as dt,X as St,j as r,f as ut,n as a,i as P,k as u,e as l,a1 as nt,s as st,m as lt,W as rt,g as o,t as _,o as w,q as x,O as at,a0 as Bt,l as Pt,b as At,c as It,Z as Ot,_ as Lt}from"./iframe-Do54YzxR.js";import{i as vt,w as qt,c as jt,d as Et}from"./create-runtime-stories-CvlW8DiY.js";import{e as yt,i as gt}from"./each-CKF_uRnG.js";import{s as B}from"./slot-BP_Qo1ZM.js";import{s as H}from"./attributes-C5oDZZfl.js";import{s as Z}from"./class-Dzh9Da8g.js";import{C as Mt}from"./Container-CSwoetsh.js";import{c as Ht}from"./attributes-Co-1QMVx.js";import{b as Rt}from"./this-Bj1VAzp0.js";import{s as Ut,l as X}from"./utils-VWytQRnm.js";import{B as Wt}from"./BackLink-D1URv652.js";import"./style-CcY6orqc.js";import"./Theme-B8RkdPsv.js";import"./svelte-head-CxlAXgCI.js";import"./html-B_xVGaBA.js";import"./_commonjsHelpers-CqkleIqs.js";var Xt=r('<h2 class="ons-table-of-contents__title ons-u-fs-r--b ons-u-mb-s">Contents</h2>'),Zt=r("<a> </a>"),zt=r('<li class="ons-list__item"><a> </a></li>'),Ft=r('<ol class="ons-list ons-u-mb-no ons-list--dashed"></ol>'),Gt=r('<li class="ons-list__item"><!> <!></li>'),Jt=r('<nav class="ons-table-of-contents" aria-label="Sections in this page"><!> <ol class="ons-list ons-u-mb-l ons-list--dashed"></ol></nav>'),Kt=r('<div class="ons-grid ons-grid--spaced ons-grid--loose ons-js-toc-container"><div class="ons-grid__col ons-grid__col--sticky@m ons-col-4@m"><aside class="ons-table-of-contents-container" role="complementary"><!> <!> <!></aside></div> <div class="ons-grid__col ons-col-8@m"><!> <!> <!></div></div> <!>',1);function ft($,t){ct(t,!1);const[A,z]=St(),N=()=>rt(d,"$sections",A);let y=f(t,"id",8,"toc"),v=f(t,"cls",8,null),g=f(t,"width",8,"wide"),I=f(t,"contentsLabel",8,"Page contents"),V=f(t,"noContents",8,!1),c=f(t,"marginTop",8,!1),p=f(t,"marginBottom",8,!0),n=lt();ot("tocId",y());const d=_t([]);ot("sections",d);const s=_t();ot("observer",s);function O(m){const L=[];let e={subsections:[]};for(const b of m)b.dataset.subsection!=="true"?((e.title||e.subsections.length>0)&&L.push(e),e={id:b.id,title:b.dataset.title,subsections:[]}):e.subsections.push({id:b.id,title:b.dataset.title});return[...L,e]}ht(()=>{V()||nt(s,new IntersectionObserver((m,L)=>{for(let e=0;e<m.length;e++)if(m[e].isIntersecting){st(n,m[e].target.id);break}},{root:null,rootMargin:"-25% 0px -75%",threshold:0}))}),vt(),Mt($,{get cls(){return v()},get width(){return g()},get marginTop(){return c()},get marginBottom(){return p()},children:(m,L)=>{var e=Kt(),b=ut(e),F=a(b),G=a(F),J=a(G);B(J,t,"before-nav",{},null);var K=u(J,2);{var i=S=>{var j=Jt(),E=a(j);{var xt=U=>{var k=Xt();l(U,k)};P(E,U=>{I()&&U(xt)})}var Nt=u(E,2);yt(Nt,5,()=>O(N()),gt,(U,k)=>{var pt=Gt(),mt=a(pt);{var Ct=D=>{var T=Zt();let tt;var W=a(T);_(et=>{H(T,"href",`#${o(k).id??""}`),tt=Z(T,1,"ons-list__link",null,tt,et),x(W,o(k).title)},[()=>({"ons-table-of-contents__link-active":o(k).id===o(n)})],w),l(D,T)};P(mt,D=>{o(k).id&&o(k).title&&D(Ct)})}var $t=u(mt,2);{var Vt=D=>{var T=Ft();yt(T,5,()=>o(k).subsections,gt,(tt,W)=>{var et=zt(),it=a(et);let bt;var Dt=a(it);_(Tt=>{H(it,"href",`#${o(W).id??""}`),bt=Z(it,1,"ons-list__link",null,bt,Tt),x(Dt,o(W).title)},[()=>({"ons-table-of-contents__link-active":o(W).id===o(n)})],w),l(tt,et)}),l(D,T)};P($t,D=>{o(k).subsections.length>0&&D(Vt)})}l(U,pt)}),l(S,j)};P(K,S=>{V()||S(i)})}var q=u(K,2);B(q,t,"after-nav",{},null);var R=u(F,2),Q=a(R);B(Q,t,"before",{},null);var Y=u(Q,2);B(Y,t,"default",{},null);var C=u(Y,2);B(C,t,"after",{},null);var h=u(b,2);B(h,t,"footer",{},null),l(m,e)},$$slots:{default:!0}}),dt(),z()}ft.__docgen={data:[{name:"id",visibility:"public",description:"ID for back-linking to table of contents",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1,defaultValue:'"toc"'},{name:"cls",visibility:"public",description:"Optional: Set an additional CSS class for the section",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1,defaultValue:"null"},{name:"width",visibility:"public",description:"Sets the width of the container",keywords:[],kind:"let",type:{kind:"union",type:[{kind:"const",type:"string",value:"narrow",text:'"narrow"'},{kind:"const",type:"string",value:"medium",text:'"medium"'},{kind:"const",type:"string",value:"wide",text:'"wide"'},{kind:"const",type:"string",value:"wider",text:'"wider"'},{kind:"const",type:"string",value:"full",text:'"full"'}],text:'"narrow" | "medium" | "wide" | "wider" | "full"'},static:!1,readonly:!1,defaultValue:'"wide"'},{name:"contentsLabel",visibility:"public",description:"A label for the page contents nav",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1,defaultValue:'"Page contents"'},{name:"noContents",visibility:"public",description:"Don't include table of contents (allows for custom uses of nav panel)",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"false"},{name:"marginTop",visibility:"public",description:"Adds margin above section",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"false"},{name:"marginBottom",visibility:"public",description:"Adds margin below section",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"true"}],name:"NavSections.svelte"};var Qt=r("<h3> </h3>"),Yt=r("<h2> </h2>"),te=r('<section data-type="NavSection"><!> <!> <!></section>');function M($,t){ct(t,!1);const[A,z]=St(),N=()=>rt(p,"$sections",A),y=()=>rt(n,"$observer",A);let v=f(t,"title",8,"Section title"),g=f(t,"id",24,()=>Ut(v())),I=f(t,"cls",8,null),V=f(t,"hideTitle",8,!1),c=f(t,"subsection",8,!1);const p=at("sections"),n=at("observer"),d=at("tocId");let s=lt(),O=lt(!1),m=!1;nt(p,[...N().filter(i=>i.id!==g()),{id:g(),dataset:{title:v(),subsection:String(c())}}]);function L(i,q){q&&i&&!m&&(nt(p,[...o(s).parentElement.getElementsByTagName("section")].filter(R=>R.dataset.type==="NavSection")),i.observe(o(s)),m=!0)}ht(()=>st(O,!0)),Bt(()=>{y()&&y().unobserve(o(s)),N()&&nt(p,N().filter(i=>i.id!==g())),st(O,m=!1)}),Pt(()=>(y(),o(O)),()=>{L(y(),o(O))}),At(),vt();var e=te(),b=a(e);{var F=i=>{var q=It(),R=ut(q);{var Q=C=>{var h=Qt();let S;var j=a(h);_(E=>{S=Z(h,1,"subsection-title",null,S,E),x(j,v())},[()=>({"ons-u-vh":V()})],w),l(C,h)},Y=C=>{var h=Yt();let S;var j=a(h);_(E=>{S=Z(h,1,"section-title",null,S,E),x(j,v())},[()=>({"ons-u-vh":V()})],w),l(C,h)};P(R,C=>{c()?C(Q):C(Y,!1)})}l(i,q)};P(b,i=>{v()&&i(F)})}var G=u(b,2);B(G,t,"default",{},null);var J=u(G,2);{var K=i=>{Wt(i,{get href(){return`#${d??""}`},cls:"ons-u-d-no@m"})};P(J,i=>{d&&i(K)})}Rt(e,i=>st(s,i),()=>o(s)),_(()=>{H(e,"id",g()),H(e,"data-title",v()),H(e,"data-subsection",c()),Z(e,1,Ht(I())),H(e,"aria-label",v())}),l($,e),dt(),z()}M.__docgen={data:[{name:"title",visibility:"public",description:"Sets the title of the section",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1,defaultValue:'"Section title"'},{name:"id",visibility:"public",description:"Sets the unique ID of the section (if not set, this will be slugified from the title)",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1,defaultValue:"..."},{name:"cls",visibility:"public",description:"Optional: Set an additional CSS class for the section",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1,defaultValue:"null"},{name:"hideTitle",visibility:"public",description:"Allows the h2 title tag for the section to be visually hidden",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"false"},{name:"subsection",visibility:"public",description:"Treat a section as sub-section. It will have an h3 title, and will be indented in the contents table",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"false"}],name:"NavSection.svelte"};const ee=`Use this component to allow users to quickly jump to named sections within a long page of content.\r
\r
As the user scrolls down the page, a table of contents will remain visible on the left of the viewport and will highlight the subheading of the section currently in view.\r
\r
<!-- prettier-ignore -->\r
\`\`\`html\r
<script>\r
  import { NavSections, NavSection } from "@onsvisual/svelte-components";\r
<\/script>\r
\r
<NavSections>\r
  <NavSection title="Section one">\r
    <p>Contents of first section.</p>\r
  </NavSection>\r
  <NavSection title="Subsection A" subsection>\r
    <p>Contents of subsection.</p>\r
  </NavSection>\r
  <NavSection title="Subsection B" subsection>\r
    <p>Contents of subsection.</p>\r
  </NavSection>\r
  <NavSection title="Section two">\r
    <p>Contents of third section.</p>\r
  </NavSection>\r
</NavSections>\r
\`\`\`\r
`,ne=($,t=Ot)=>{ft($,Lt(t,{children:(A,z)=>{var N=de(),y=ut(N);M(y,{title:"Section one",children:(c,p)=>{var n=oe(),d=a(n);_(s=>x(d,s),[X],w),l(c,n)},$$slots:{default:!0}});var v=u(y,2);M(v,{title:"Subsection A",subsection:!0,children:(c,p)=>{var n=ae(),d=a(n);_(s=>x(d,s),[()=>X(4,1)],w),l(c,n)},$$slots:{default:!0}});var g=u(v,2);M(g,{title:"Subsection B",subsection:!0,children:(c,p)=>{var n=le(),d=a(n);_(s=>x(d,s),[()=>X(4,2)],w),l(c,n)},$$slots:{default:!0}});var I=u(g,2);M(I,{title:"Section two",children:(c,p)=>{var n=re(),d=a(n);_(s=>x(d,s),[()=>X(4,3)],w),l(c,n)},$$slots:{default:!0}});var V=u(I,2);M(V,{title:"Section three",children:(c,p)=>{var n=ce(),d=a(n);_(s=>x(d,s),[X],w),l(c,n)},$$slots:{default:!0}}),l(A,N)},$$slots:{default:!0}}))},kt={...qt(ee),layout:"fullscreen"};kt.docs.story={inline:!1,iframeHeight:600};const se={title:"Layout/NavSections",component:ft,tags:["autodocs"],argTypes:{},parameters:kt},{Story:ie}=Et();var oe=r("<p> </p>"),ae=r("<p> </p>"),le=r("<p> </p>"),re=r("<p> </p>"),ce=r("<p> </p>"),de=r("<!> <!> <!> <!> <!>",1);function wt($,t){ct(t,!1),vt(),ie($,{name:"Default",args:{},get template(){return ne},parameters:{__svelteCsf:{rawCode:`<NavSections {...args}>\r
	<NavSection title="Section one">\r
		<p>\r
			{lipsum()}\r
		</p>\r
	</NavSection>\r
	<NavSection title="Subsection A" subsection>\r
		<p>\r
			{lipsum(4, 1)}\r
		</p>\r
	</NavSection>\r
	<NavSection title="Subsection B" subsection>\r
		<p>\r
			{lipsum(4, 2)}\r
		</p>\r
	</NavSection>\r
	<NavSection title="Section two">\r
		<p>\r
			{lipsum(4, 3)}\r
		</p>\r
	</NavSection>\r
	<NavSection title="Section three">\r
		<p>\r
			{lipsum()}\r
		</p>\r
	</NavSection>\r
</NavSections>`}}}),dt()}wt.__docgen={data:[],name:"NavSections.stories.svelte"};const ue=jt(wt,se),Ve=["Default"],De={...ue.Default,tags:["svelte-csf-v5"]};export{De as Default,Ve as __namedExportsOrder,se as default};
