import{S as Y,i as Z,s as $,x as w,w as D,C as f,U as v,y as M,a as H,H as k,N as E,d as T,P as L,I as O,J as B,e as ae,G as W,Q as le,p as x,j as C,m as I,k as ee,l as te,b as A,t as F,n as V}from"./index-8607ceaf.js";import{p as ne,w as P,M as se,T as oe,S as j}from"./collect-stories-45ecfa9a.js";import{c as ie,a as re,d as ce}from"./utils-f6662b64.js";const q=`An table component with various customisation options.

<!-- prettier-ignore -->
\`\`\`html
<script>
  import { Table } from "@onsvisual/svelte-components";

  const data = [
    { col1: "Item one", col2: 10 },
    { col1: "Item two", col2: 20 },
    { col1: "Item three", col2: 30 },
  ];
  const columns = [
    { key: "col1", label: "Text column" },
    { key: "col2", label: "Numeric column", numeric: true, sortable: true },
  ];
<\/script>

<Table {data} {columns} />
\`\`\`
`;function G(a,e,t){const i=a.slice();return i[13]=e[t],i}function J(a,e,t){const i=a.slice();return i[16]=e[t],i}function Q(a,e,t){const i=a.slice();return i[16]=e[t],i[20]=t,i}function R(a){let e,t;return{c(){e=w("caption"),t=O(a[0]),f(e,"class","ons-table__caption")},m(i,n){H(i,e,n),k(e,t)},p(i,n){n&1&&B(t,i[0])},d(i){i&&T(e)}}}function ue(a){let e,t,i=a[16].label+"",n,s;return{c(){e=w("th"),t=w("span"),n=O(i),s=D(),f(t,"class","ons-table__header-text"),f(e,"scope","col"),f(e,"class","ons-table__header svelte-81wno"),v(e,"ons-table__header--numeric",a[16].numeric)},m(c,r){H(c,e,r),k(e,t),k(t,n),k(e,s)},p(c,r){r&64&&i!==(i=c[16].label+"")&&B(n,i),r&64&&v(e,"ons-table__header--numeric",c[16].numeric)},d(c){c&&T(e)}}}function fe(a){let e,t,i=a[16].label+"",n,s,c,r,_,y,h,d,g;function o(){return a[12](a[20],a[16])}return{c(){e=w("th"),t=w("button"),n=O(i),s=W("svg"),c=W("path"),r=W("path"),y=D(),f(c,"class","ons-topTriangle"),f(c,"d","M6 0l6 7.2H0L6 0zm0 18.6l6-7.2H0l6 7.2zm0 3.6l6 7.2H0l6-7.2z"),f(r,"class","ons-bottomTriangle"),f(r,"d","M6 18.6l6-7.2H0l6 7.2zm0 3.6l6 7.2H0l6-7.2z"),f(s,"class","ons-svg-icon"),f(s,"viewBox","0 0 12 19"),f(s,"xmlns","http://www.w3.org/2000/svg"),f(s,"focusable","false"),f(s,"fill","currentColor"),f(t,"aria-label",_="Sort by "+a[16].label),f(t,"type","button"),f(t,"data-index",a[20]),f(t,"class","ons-table__sort-button svelte-81wno"),f(e,"scope","col"),f(e,"class","ons-table__header svelte-81wno"),f(e,"aria-sort",h=a[8][a[20]]),v(e,"ons-table__header--numeric",a[16].numeric)},m(m,p){H(m,e,p),k(e,t),k(t,n),k(t,s),k(s,c),k(s,r),k(e,y),d||(g=le(t,"click",o),d=!0)},p(m,p){a=m,p&64&&i!==(i=a[16].label+"")&&B(n,i),p&64&&_!==(_="Sort by "+a[16].label)&&f(t,"aria-label",_),p&256&&h!==(h=a[8][a[20]])&&f(e,"aria-sort",h),p&64&&v(e,"ons-table__header--numeric",a[16].numeric)},d(m){m&&T(e),d=!1,g()}}}function U(a){let e;function t(s,c){return s[16].sortable?fe:ue}let i=t(a),n=i(a);return{c(){n.c(),e=ae()},m(s,c){n.m(s,c),H(s,e,c)},p(s,c){i===(i=t(s))&&n?n.p(s,c):(n.d(1),n=i(s),n&&(n.c(),n.m(e.parentNode,e)))},d(s){n.d(s),s&&T(e)}}}function K(a){let e,t=(a[13][a[16].key]?a[10](a[13][a[16].key],a[16].numeric):"&ndash;")+"",i;return{c(){e=w("td"),f(e,"class","ons-table__cell"),f(e,"data-th",i=a[16].label),v(e,"ons-table__cell--numeric",a[16].numeric)},m(n,s){H(n,e,s),e.innerHTML=t},p(n,s){s&192&&t!==(t=(n[13][n[16].key]?n[10](n[13][n[16].key],n[16].numeric):"&ndash;")+"")&&(e.innerHTML=t),s&64&&i!==(i=n[16].label)&&f(e,"data-th",i),s&64&&v(e,"ons-table__cell--numeric",n[16].numeric)},d(n){n&&T(e)}}}function X(a){let e,t,i=a[6],n=[];for(let s=0;s<i.length;s+=1)n[s]=K(J(a,i,s));return{c(){e=w("tr");for(let s=0;s<n.length;s+=1)n[s].c();t=D(),f(e,"class","ons-table__row")},m(s,c){H(s,e,c);for(let r=0;r<n.length;r+=1)n[r]&&n[r].m(e,null);k(e,t)},p(s,c){if(c&1216){i=s[6];let r;for(r=0;r<i.length;r+=1){const _=J(s,i,r);n[r]?n[r].p(_,c):(n[r]=K(_),n[r].c(),n[r].m(e,t))}for(;r<n.length;r+=1)n[r].d(1);n.length=i.length}},d(s){s&&T(e),L(n,s)}}}function me(a){let e,t,i,n,s,c,r,_,y,h,d=a[0]&&R(a),g=a[6],o=[];for(let l=0;l<g.length;l+=1)o[l]=U(Q(a,g,l));let m=a[7],p=[];for(let l=0;l<m.length;l+=1)p[l]=X(G(a,m,l));return{c(){e=w("div"),t=w("table"),d&&d.c(),i=D(),n=w("thead"),s=w("tr");for(let l=0;l<o.length;l+=1)o[l].c();c=D(),r=w("tbody");for(let l=0;l<p.length;l+=1)p[l].c();f(s,"class","ons-table__row"),f(n,"class","ons-table__head svelte-81wno"),f(r,"class","ons-table__body"),f(t,"class","ons-table svelte-81wno"),f(t,"data-aria-sort",_=a[9]?"Sort by":null),f(t,"data-aria-asc",y=a[9]?"ascending":null),f(t,"data-aria-desc",h=a[9]?"descending":null),v(t,"ons-table--sortable",a[9]),v(t,"ons-table--compact",a[1]),v(t,"ons-table--responsive",a[2]),v(t,"ons-table--row-hover",a[3]),v(t,"sticky-header",a[4]),M(e,"overflow",typeof a[5]=="number"?"auto":null),M(e,"height",typeof a[5]=="number"?`${a[5]}px`:null),M(e,"display",typeof a[5]!="number"?"contents":null)},m(l,b){H(l,e,b),k(e,t),d&&d.m(t,null),k(t,i),k(t,n),k(n,s);for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(s,null);k(t,c),k(t,r);for(let u=0;u<p.length;u+=1)p[u]&&p[u].m(r,null)},p(l,[b]){if(l[0]?d?d.p(l,b):(d=R(l),d.c(),d.m(t,i)):d&&(d.d(1),d=null),b&448){g=l[6];let u;for(u=0;u<g.length;u+=1){const S=Q(l,g,u);o[u]?o[u].p(S,b):(o[u]=U(S),o[u].c(),o[u].m(s,null))}for(;u<o.length;u+=1)o[u].d(1);o.length=g.length}if(b&1216){m=l[7];let u;for(u=0;u<m.length;u+=1){const S=G(l,m,u);p[u]?p[u].p(S,b):(p[u]=X(S),p[u].c(),p[u].m(r,null))}for(;u<p.length;u+=1)p[u].d(1);p.length=m.length}b&512&&_!==(_=l[9]?"Sort by":null)&&f(t,"data-aria-sort",_),b&512&&y!==(y=l[9]?"ascending":null)&&f(t,"data-aria-asc",y),b&512&&h!==(h=l[9]?"descending":null)&&f(t,"data-aria-desc",h),b&512&&v(t,"ons-table--sortable",l[9]),b&2&&v(t,"ons-table--compact",l[1]),b&4&&v(t,"ons-table--responsive",l[2]),b&8&&v(t,"ons-table--row-hover",l[3]),b&16&&v(t,"sticky-header",l[4]),b&32&&M(e,"overflow",typeof l[5]=="number"?"auto":null),b&32&&M(e,"height",typeof l[5]=="number"?`${l[5]}px`:null),b&32&&M(e,"display",typeof l[5]!="number"?"contents":null)},i:E,o:E,d(l){l&&T(e),d&&d.d(),L(o,l),L(p,l)}}}function de(a,e,t){let i,{title:n=""}=e,{compact:s=!1}=e,{responsive:c=!1}=e,{rowHover:r=!1}=e,{stickyHeader:_=!1}=e,{height:y="auto"}=e,{data:h=[]}=e,{columns:d=Array.isArray(h)&&h[0]?Object.keys(h[0]).map(l=>({key:l,label:l})):[]}=e,g=[...h],o=d.map(l=>"none");const m=(l,b)=>b?ie(l):l,p=(l,b)=>{t(8,o=o.map((u,S)=>S===l&&u==="ascending"?"descending":S===l?"ascending":"none")),t(7,g=g.sort((u,S)=>o[l]==="ascending"?re(u[b.key],S[b.key]):ce(u[b.key],S[b.key])))};return a.$$set=l=>{"title"in l&&t(0,n=l.title),"compact"in l&&t(1,s=l.compact),"responsive"in l&&t(2,c=l.responsive),"rowHover"in l&&t(3,r=l.rowHover),"stickyHeader"in l&&t(4,_=l.stickyHeader),"height"in l&&t(5,y=l.height),"data"in l&&t(11,h=l.data),"columns"in l&&t(6,d=l.columns)},a.$$.update=()=>{a.$$.dirty&64&&t(9,i=d.map(l=>l.sortable).includes(!0))},[n,s,c,r,_,y,d,g,o,i,m,h,p]}class z extends Y{constructor(e){super(),Z(this,e,de,me,$,{title:0,compact:1,responsive:2,rowHover:3,stickyHeader:4,height:5,data:11,columns:6})}}z.__docgen={version:3,name:"Table.svelte",data:[{keywords:[{name:"type",description:"{string}"}],visibility:"public",description:"An optional title for the table",name:"title",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"string",type:"string"},defaultValue:""},{keywords:[{name:"type",description:"{boolean}"}],visibility:"public",description:"Make the chart smaller/more compact",name:"compact",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"boolean",type:"boolean"},defaultValue:!1},{keywords:[{name:"type",description:"{boolean}"}],visibility:"public",description:"Make the chart responsive (changes layout on narrow screens)",name:"responsive",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"boolean",type:"boolean"},defaultValue:!1},{keywords:[{name:"type",description:"{boolean}"}],visibility:"public",description:"Highlight rows on hover",name:"rowHover",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"boolean",type:"boolean"},defaultValue:!1},{keywords:[{name:"type",description:"{boolean}"}],visibility:"public",description:"Sticky header when table is longer than screen height",name:"stickyHeader",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"boolean",type:"boolean"},defaultValue:!1},{keywords:[{name:"type",description:'{number|"auto"}'}],visibility:"public",description:"Sticky header when table is longer than screen height",name:"height",kind:"let",static:!1,readonly:!1,type:{kind:"union",text:'number|"auto"',type:[{kind:"type",text:"number",type:"number"},{kind:"type",text:'"auto"',type:'"auto"'}]},defaultValue:"auto"},{keywords:[{name:"type",description:"{array}"}],visibility:"public",description:"Rows of data",name:"data",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"array",type:"array"}},{keywords:[{name:"type",description:"{array}"}],visibility:"public",description:"Optional metadata for formatting columns. Array of {key, label, sortable?, numeric?} objects",name:"columns",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"array",type:"array"}}],computed:[],methods:[],components:[],description:null,keywords:[],events:[],slots:[],refs:[]};function pe(a){let e,t,i;const n=[a[2]];let s={};for(let c=0;c<n.length;c+=1)s=x(s,n[c]);return t=new z({props:s}),{c(){e=w("div"),C(t.$$.fragment),M(e,"padding","12px")},m(c,r){H(c,e,r),I(t,e,null),i=!0},p(c,r){const _=r&4?ee(n,[te(c[2])]):{};t.$set(_)},i(c){i||(A(t.$$.fragment,c),i=!0)},o(c){F(t.$$.fragment,c),i=!1},d(c){c&&T(e),V(t)}}}function be(a){let e,t,i,n,s,c,r,_,y,h;const d=[{title:"Data visualisation/Table"},{component:z},{argTypes:{}},P(q)];let g={};for(let o=0;o<d.length;o+=1)g=x(g,d[o]);return e=new se({props:g}),i=new oe({props:{$$slots:{default:[pe,({args:o})=>({2:o}),({args:o})=>o?4:0]},$$scope:{ctx:a}}}),s=new j({props:{name:"Default",args:{data:a[0],columns:a[1]}}}),r=new j({props:{name:"Fixed height 200px with sticky header",args:{data:a[0],columns:a[1],height:200,stickyHeader:!0}}}),y=new j({props:{name:"Compact mode",args:{data:a[0],columns:a[1],compact:!0}}}),{c(){C(e.$$.fragment),t=D(),C(i.$$.fragment),n=D(),C(s.$$.fragment),c=D(),C(r.$$.fragment),_=D(),C(y.$$.fragment)},m(o,m){I(e,o,m),H(o,t,m),I(i,o,m),H(o,n,m),I(s,o,m),H(o,c,m),I(r,o,m),H(o,_,m),I(y,o,m),h=!0},p(o,[m]){const p=m&0?ee(d,[d[0],m&0&&{component:z},d[2],m&0&&te(P(q))]):{};e.$set(p);const l={};m&12&&(l.$$scope={dirty:m,ctx:o}),i.$set(l)},i(o){h||(A(e.$$.fragment,o),A(i.$$.fragment,o),A(s.$$.fragment,o),A(r.$$.fragment,o),A(y.$$.fragment,o),h=!0)},o(o){F(e.$$.fragment,o),F(i.$$.fragment,o),F(s.$$.fragment,o),F(r.$$.fragment,o),F(y.$$.fragment,o),h=!1},d(o){V(e,o),o&&T(t),V(i,o),o&&T(n),V(s,o),o&&T(c),V(r,o),o&&T(_),V(y,o)}}}function _e(a){return[[{country:"Scotland",mountain:"Ben Nevis",height:1345},{country:"Wales",mountain:"Snowdon",height:1085},{country:"England",mountain:"Scarfell Pike",height:978},{country:"Northern Ireland",mountain:"Slieve Donard",height:850}],[{key:"country",label:"Country",sortable:!0},{key:"mountain",label:"Highest mountain"},{key:"height",label:"Height in metres",sortable:!0,numeric:!0}]]}class he extends Y{constructor(e){super(),Z(this,e,_e,be,$,{})}}const N=ne(he,{meta:{title:"Data visualisation/Table"},stories:{"tpl:default":{storyId:"data-visualisation-table--default",name:"default",template:!0,source:`<div style:padding="12px">
  <Table {...args} />
</div>`,hasArgs:!0},Default:{storyId:"data-visualisation-table--default",name:"Default",template:!1,hasArgs:!1},FixedHeight200pxWithStickyHeader:{storyId:"data-visualisation-table--fixed-height-200-px-with-sticky-header",name:"Fixed height 200px with sticky header",template:!1,hasArgs:!1},CompactMode:{storyId:"data-visualisation-table--compact-mode",name:"Compact mode",template:!1,hasArgs:!1}},allocatedIds:["default","Meta","Template","Story","componentDocs","Table","withComponentDocs"]}),ve=N.meta,we=["Default","FixedHeight200pxWithStickyHeader","CompactMode"],He=N.stories.Default,Te=N.stories.FixedHeight200pxWithStickyHeader,Se=N.stories.CompactMode;export{Se as CompactMode,He as Default,Te as FixedHeight200pxWithStickyHeader,we as __namedExportsOrder,ve as default};
//# sourceMappingURL=Table.stories-306a83ea.js.map
