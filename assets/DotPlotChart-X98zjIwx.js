import{p as ot,O as Pt,a as r,W as O,c as ke,f as R,i as S,e as u,h as st,X as ut,P as Be,t as U,o as V,g as a,k as s,n as Ae,l as Le,b as Ft,j as ze,m as Me,Y as l,s as we,d as P,V as Ie,q as We}from"./iframe-DI485cCl.js";import{i as ct}from"./create-runtime-stories-7vGa3Oc7.js";import{s as Se}from"./slot-BP_Qo1ZM.js";import{s as Lt}from"./style-CcY6orqc.js";import{b as Mt}from"./this-8dsGcKE8.js";import{b as nt}from"./misc-Bq5MG93T.js";import{t as it,L as wt,c as Wt,S as Bt,a as Ot,b as Rt,s as Et,o as Gt,A as Xt,d as qt,g as Yt,T as It,e as Ut,f as Vt,F as Jt,E as Nt}from"./DotPlotChart.svelte_svelte_type_style_lang-BSkGiDlQ.js";import{e as De,i as Ce}from"./each-2gVlA0SD.js";import{s as v}from"./attributes-D3Gd59q9.js";import{l as Qt}from"./linear-CZTuTj73.js";import{b as Zt}from"./band-DCbsgTTL.js";var jt=Be("<line></line>"),pt=Be("<circle></circle>"),$t=Be('<circle class=""></circle>'),er=Be('<g class="line-group"></g><g class="dot-group"><!><!></g>',1);function tr(Oe,t){ot(t,!1);const[F,Re]=ut(),c=()=>O(Q,"$custom",F),D=()=>O(fe,"$coords",F),J=()=>O(L,"$xScale",F),C=()=>O(b,"$yScale",F),i=()=>O(N,"$z",F),xe=()=>O(A,"$zGet",F),g=()=>O(ae,"$data",F),ve=()=>O(ne,"$zRange",F),{data:ae,z:N,xScale:L,yScale:b,zGet:A,zRange:ne,custom:Q,yDomain:He}=Pt("LayerCake");let M=r(t,"hovered",8,null),w=r(t,"selected",8,null),E=r(t,"highlighted",24,()=>[]),ie=r(t,"overlayFill",8,!1),fe=c().coords,o=c().idKey,oe=c().colorHover?c().colorHover:"orange",Z=c().colorSelect?c().colorSelect:"black",j=c().colorHighlight?c().colorHighlight:"black",p=c().lineColor?c().lineColor:"grey",$=c().lineWidth?c().lineWidth:2,ee=c().radius?c().radius:6;ct();var te=ke(),Ke=R(te);{var se=G=>{var ue=er(),ce=R(ue);De(ce,5,()=>D().map(y=>({x:y.map(f=>f.x),y:y[0].y})),Ce,(y,f)=>{var h=jt();U((W,B,d,z)=>{v(h,"x1",W),v(h,"x2",B),v(h,"y1",d),v(h,"y2",z),v(h,"stroke",p),v(h,"stroke-width",$)},[()=>J()(Math.min(...a(f).x)),()=>J()(Math.max(...a(f).x)),()=>C()(a(f).y)+C().bandwidth()/2,()=>C()(a(f).y)+C().bandwidth()/2],V),u(y,h)});var X=s(ce),q=Ae(X);De(q,1,D,Ce,(y,f,h)=>{var W=ke(),B=R(W);De(B,1,()=>a(f),Ce,(d,z,re)=>{var H=pt();U((Y,_,I)=>{v(H,"cx",Y),v(H,"cy",_),v(H,"r",ee),v(H,"fill",I)},[()=>J()(a(z).x),()=>C()(a(z).y)+C().bandwidth()/2,()=>i()?xe()(g()[h][re]):ve()[0]],V),u(d,H)}),u(y,W)});var ge=s(q);{var he=y=>{var f=ke(),h=R(f);De(h,1,D,Ce,(W,B,d)=>{var z=ke(),re=R(z);De(re,1,()=>a(B),Ce,(H,Y,_)=>{var I=ke(),me=R(I);{var ye=le=>{var K=$t();U((_e,de,be,Te)=>{v(K,"cx",_e),v(K,"cy",de),v(K,"r",ee),v(K,"fill",be),v(K,"stroke",g()[d][_][o]==M()?oe:g()[d][_][o]==w()?Z:j),v(K,"stroke-width",Te)},[()=>J()(a(Y).x),()=>C()(a(Y).y)+C().bandwidth()/2,()=>ie()&&g()[d][_][o]==w()?Z:ie()&E().includes(g()[d][_][o])?j:"none",()=>g()[d][_][o]==M()||g()[d][_][o]==w()||E().includes(g()[d][_][o])?$:0],V),u(le,K)};S(me,le=>{[...E(),w(),M()].includes(g()[d][_][o])&&le(ye)})}u(H,I)}),u(W,z)}),u(y,f)};S(ge,y=>{o&&(M()||w()||E()[0])&&y(he)})}u(G,ue)};S(Ke,G=>{D()&&G(se)})}u(Oe,te),st(),Re()}var rr=ze('<h5 class="visuallyhidden svelte-1fy6g2i"> </h5>'),lr=ze("<!> <!> <!> <!>",1),ar=ze("<!> <!> <!> <!>",1),nr=ze('<div class="visuallyhidden svelte-1fy6g2i"><!></div>'),ir=ze('<div><!> <!> <!> <!> <!> <!> <div class="chart-container svelte-1fy6g2i" aria-hidden="true"><!></div> <!> <!></div> <!>',1);function _r(Oe,t){ot(t,!1);const[F,Re]=ut(),c=()=>O(Ve,"$xDomain",F),D=Me(),J=Me(),C=Me();let i=r(t,"data",12),xe=r(t,"barHeight",12,40),g=r(t,"height",12,null),ve=r(t,"ssr",12,!1),ae=r(t,"animation",12,!0),N=r(t,"duration",12,800),L=r(t,"xKey",12,"x"),b=r(t,"yKey",12,"y"),A=r(t,"zKey",12,null),ne=r(t,"idKey",28,b),Q=r(t,"xScale",12,"linear"),He=r(t,"xFormatTick",12,Wt),M=r(t,"xMax",12,null),w=r(t,"xMin",12,null),E=r(t,"xAxis",12,!0),ie=r(t,"yAxis",12,!0),fe=r(t,"xTicks",12,4),o=r(t,"zDomain",12,null),oe=r(t,"textColor",12,"#666"),Z=r(t,"tickColor",12,"#d9d9d9"),j=r(t,"tickDashed",12,!1),p=r(t,"title",12,null),$=r(t,"subtitle",12,null),ee=r(t,"alt",12,null),te=r(t,"footer",12,null),Ke=r(t,"legend",12,!1),se=r(t,"xAxisLabel",12,""),G=r(t,"yAxisLabel",12,""),ue=r(t,"table",12,!1),ce=r(t,"snapTicks",12,!1),X=r(t,"mode",12,"default"),q=r(t,"padding",28,()=>({top:G()?24:0,bottom:se()?55:20,left:35,right:0})),ge=r(t,"color",12,null),he=r(t,"colors",28,()=>ge()?[ge()]:["#206095","#A8BD3A","#003C57","#27A0CC","#118C7B","#F66068","#746CB1","#22D0B6","lightgrey"]),y=r(t,"radius",12,6),f=r(t,"lineWidth",12,2.5),h=r(t,"lineColor",12,"darkgrey"),W=r(t,"interactive",12,!0),B=r(t,"xPrefix",12,""),d=r(t,"xSuffix",12,""),z=r(t,"yPrefix",12,""),re=r(t,"ySuffix",12,""),H=r(t,"hover",12,!1),Y=r(t,"hovered",12,null),_=r(t,"colorHover",12,"orange"),I=r(t,"select",12,!1),me=r(t,"selected",12,null),ye=r(t,"colorSelect",12,"black"),le=r(t,"highlighted",28,()=>[]),K=r(t,"colorHighlight",12,"black"),_e=r(t,"overlayFill",12,!1),de=r(t,"output",12,null),be=Me();const Te={duration:N(),easing:Rt},gt=it(void 0,Te),Ee=(e,n,m)=>m.indexOf(e)==n;function Ue(e,n,m,x){let k=e.map(Ye=>Ye[m]),Fe=w()?w():Math.min(...k)>0?0:Math.min(...k),qe=x||(Math.max(...k)<0?0:Math.max(...k));return[Fe,qe]}function dt(e,n,m,x){let k=Ue(e,n,m,x);(k[0]!=Pe[0]||k[1]!=Pe[1])&&(Ve.set(k,{duration:ae()?N():0}),Pe=k)}let Pe=Ue(i(),X(),L(),M());const Ve=it(Pe,Te);Le(()=>(P(i()),P(X()),P(L()),P(M())),()=>{dt(i(),X(),L(),M())}),Le(()=>(P(i()),P(b())),()=>{we(D,i().map(e=>e[b()]).filter(Ee))}),Le(()=>(P(o()),P(A()),P(i())),()=>{we(J,Array.isArray(o())?o():A()&&typeof o()=="function"?i().map(e=>e[A()]).filter(Ee).sort(o()):A()?i().map(e=>e[A()]).filter(Ee):null)}),Le(()=>(P(i()),a(D),P(b())),()=>{we(C,Yt(i(),a(D),b()))}),Ft(),ct();var Je=ir(),Ge=R(Je),Ne=Ae(Ge);{var xt=e=>{It(e,{children:(n,m)=>{var x=Ie();U(()=>We(x,p())),u(n,x)},$$slots:{default:!0}})};S(Ne,e=>{p()&&e(xt)})}var Qe=s(Ne,2);{var vt=e=>{Ut(e,{children:(n,m)=>{var x=Ie();U(()=>We(x,$())),u(n,x)},$$slots:{default:!0}})};S(Qe,e=>{$()&&e(vt)})}var Ze=s(Qe,2);{var ft=e=>{var n=rr(),m=Ae(n);U(()=>We(m,ee())),u(e,n)};S(Ze,e=>{ee()&&e(ft)})}var je=s(Ze,2);Se(je,t,"options",{},null);var pe=s(je,2);S(pe,e=>{});var $e=s(pe,2);Se($e,t,"legend",{},null);var Xe=s($e,2),ht=Ae(Xe);const mt=V(()=>typeof Q()=="function"?Q()():Q()=="log"?Et():Qt()),yt=V(()=>Zt().round(!0)),_t=V(Gt),bt=V(()=>({type:"dotplot",mode:X(),idKey:ne(),coords:gt,radius:y(),lineWidth:f(),lineColor:h(),colorSelect:ye(),colorHover:_(),colorHighlight:K(),animation:ae(),duration:N()}));wt(ht,{get padding(){return q()},get ssr(){return ve()},get x(){return L()},get y(){return b()},get z(){return A()},get xDomain(){return c()},get yDomain(){return a(D)},get xScale(){return a(mt)},get yScale(){return a(yt)},get zScale(){return a(_t)},get zDomain(){return a(J)},get zRange(){return he()},get data(){return a(C)},get flatData(){return i()},get custom(){return a(bt)},children:(e,n)=>{var m=ar(),x=R(m);Bt(x,{});var k=s(x,2);Se(k,t,"back",{},null);var Fe=s(k,2);Ot(Fe,{get pointerEvents(){return W()},children:(Ye,or)=>{var tt=lr(),rt=R(tt);{var Ht=T=>{Xt(T,{get ticks(){return fe()},get formatTick(){return He()},get snapTicks(){return ce()},get prefix(){return B()},get suffix(){return d()},get textColor(){return oe()},get tickColor(){return Z()},get tickDashed(){return j()},get xAxisLabel(){return se()}})};S(rt,T=>{E()&&T(Ht)})}var lt=s(rt,2);{var Kt=T=>{qt(T,{gridlines:!1,get prefix(){return z()},get suffix(){return re()},get textColor(){return oe()},get tickColor(){return Z()},get tickDashed(){return j()},get yAxisLabel(){return G()}})};S(lt,T=>{ie()&&T(Kt)})}var at=s(lt,2);tr(at,{get select(){return I()},get selected(){return me()},get hover(){return H()},get hovered(){return Y()},get highlighted(){return le()},get overlayFill(){return _e()},$$events:{hover(T){nt.call(this,t,T)},select(T){nt.call(this,t,T)}}});var Tt=s(at,2);Se(Tt,t,"svg",{},null),u(Ye,tt)},$$slots:{default:!0}});var qe=s(Fe,2);Se(qe,t,"front",{},null),u(e,m)},$$slots:{default:!0}});var et=s(Xe,2);{var kt=e=>{var n=nr(),m=Ae(n);Vt(m,{get data(){return i()},get key1(){return b()},get key2(){return L()}}),u(e,n)};S(et,e=>{ue()&&e(kt)})}var St=s(et,2);{var Dt=e=>{Jt(e,{children:(n,m)=>{var x=Ie();U(()=>We(x,te())),u(n,x)},$$slots:{default:!0}})};S(St,e=>{te()&&e(Dt)})}Mt(Ge,e=>we(be,e),()=>a(be));var Ct=s(Ge,2);{var At=e=>{const n=V(()=>[ne(),L(),A(),b()]);Nt(e,{get el(){return a(be)},get data(){return i()},get keys(){return a(n)},get title(){return p()},get output(){return de()}})};S(Ct,e=>{de()&&e(At)})}U(()=>Lt(Xe,`height: ${(typeof g()=="number"?`${g()}px`:g()?g():a(D)?`${q().top+q().bottom+xe()*a(D).length}px`:"300px")??""}`)),u(Oe,Je);var zt=st({get data(){return i()},set data(e){i(e),l()},get barHeight(){return xe()},set barHeight(e){xe(e),l()},get height(){return g()},set height(e){g(e),l()},get ssr(){return ve()},set ssr(e){ve(e),l()},get animation(){return ae()},set animation(e){ae(e),l()},get duration(){return N()},set duration(e){N(e),l()},get xKey(){return L()},set xKey(e){L(e),l()},get yKey(){return b()},set yKey(e){b(e),l()},get zKey(){return A()},set zKey(e){A(e),l()},get idKey(){return ne()},set idKey(e){ne(e),l()},get xScale(){return Q()},set xScale(e){Q(e),l()},get xFormatTick(){return He()},set xFormatTick(e){He(e),l()},get xMax(){return M()},set xMax(e){M(e),l()},get xMin(){return w()},set xMin(e){w(e),l()},get xAxis(){return E()},set xAxis(e){E(e),l()},get yAxis(){return ie()},set yAxis(e){ie(e),l()},get xTicks(){return fe()},set xTicks(e){fe(e),l()},get zDomain(){return o()},set zDomain(e){o(e),l()},get textColor(){return oe()},set textColor(e){oe(e),l()},get tickColor(){return Z()},set tickColor(e){Z(e),l()},get tickDashed(){return j()},set tickDashed(e){j(e),l()},get title(){return p()},set title(e){p(e),l()},get subtitle(){return $()},set subtitle(e){$(e),l()},get alt(){return ee()},set alt(e){ee(e),l()},get footer(){return te()},set footer(e){te(e),l()},get legend(){return Ke()},set legend(e){Ke(e),l()},get xAxisLabel(){return se()},set xAxisLabel(e){se(e),l()},get yAxisLabel(){return G()},set yAxisLabel(e){G(e),l()},get table(){return ue()},set table(e){ue(e),l()},get snapTicks(){return ce()},set snapTicks(e){ce(e),l()},get mode(){return X()},set mode(e){X(e),l()},get padding(){return q()},set padding(e){q(e),l()},get color(){return ge()},set color(e){ge(e),l()},get colors(){return he()},set colors(e){he(e),l()},get radius(){return y()},set radius(e){y(e),l()},get lineWidth(){return f()},set lineWidth(e){f(e),l()},get lineColor(){return h()},set lineColor(e){h(e),l()},get interactive(){return W()},set interactive(e){W(e),l()},get xPrefix(){return B()},set xPrefix(e){B(e),l()},get xSuffix(){return d()},set xSuffix(e){d(e),l()},get yPrefix(){return z()},set yPrefix(e){z(e),l()},get ySuffix(){return re()},set ySuffix(e){re(e),l()},get hover(){return H()},set hover(e){H(e),l()},get hovered(){return Y()},set hovered(e){Y(e),l()},get colorHover(){return _()},set colorHover(e){_(e),l()},get select(){return I()},set select(e){I(e),l()},get selected(){return me()},set selected(e){me(e),l()},get colorSelect(){return ye()},set colorSelect(e){ye(e),l()},get highlighted(){return le()},set highlighted(e){le(e),l()},get colorHighlight(){return K()},set colorHighlight(e){K(e),l()},get overlayFill(){return _e()},set overlayFill(e){_e(e),l()},get output(){return de()},set output(e){de(e),l()}});return Re(),zt}export{_r as D};
