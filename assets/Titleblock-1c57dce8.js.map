{"version":3,"file":"Titleblock-1c57dce8.js","sources":["../../src/layout/Titleblock/Meta.svelte","../../src/layout/Titleblock/Titleblock.svelte"],"sourcesContent":["<script>\n  import { validDate, formatDate } from \"../../js/utils.js\";\n  export let meta = null;\n</script>\n\n{#if Array.isArray(meta)}\n  <dl\n    class=\"ons-metadata metadata__list ons-grid ons-grid--gutterless ons-u-cf ons-u-mb-m\"\n    title=\"Dataset ID and release date information\"\n    aria-label=\"Dataset ID and release date information\"\n  >\n    {#each meta as m, i}\n      <div class=\"ons-grid__col ons-col-{m.col ? m.col : 12}@m\" class:ons-u-mt-xs=\"{i !== 0}\">\n        <dt class=\"ons-metadata__term ons-u-mr-xs\">{m.key}:</dt>\n        <dd class=\"ons-metadata__value ons-u-f-no\">\n          {#if validDate(m.value)}\n            <time datetime=\"{new Date(m.value).toISOString()}\">{formatDate(m.value)}</time>\n            {#if m.extra}{@html m.extra}{/if}\n          {:else}\n            {@html m.value}\n          {/if}\n        </dd>\n      </div>\n    {/each}\n  </dl>\n{/if}\n","<script>\n  import { contrastColor } from \"../../js/utils\";\n  import Container from \"../../wrappers/Container/Container.svelte\";\n  import Meta from \"./Meta.svelte\";\n\n  /**\n   * Sets the title/headline\n   * @type {string}\n   */\n  export let title = \"Page title\";\n  /**\n   * Include \"national statistic\" badge\n   * @type {boolean}\n   */\n  export let natStatBadge = false;\n  /**\n   * Include Census logo\n   * @type {boolean}\n   */\n  export let censusLogo = false;\n  /**\n   * Array of {key, value} objects containing page metadata\n   * @type {array}\n   */\n  export let meta = null;\n  /**\n   * Sets a predefined theme\n   * @type {\"light\"|\"dark\"|\"lightblue\"}\n   */\n  export let theme = null;\n  /**\n   * Define additional props to override the base theme\n   * @type {object}\n   */\n  export let themeOverrides = null;\n  /**\n   * Overrides the background CSS for the section\n   * @type {string}\n   */\n  export let background = null;\n  /**\n   * Allows client imported CSS for embeddable content\n   * @type {boolean}\n   */\n  export let allowClientOverrides = false;\n  /**\n   * Optional badge to show next to the title\n   * @type {string}\n   */\n  export let titleBadge = null;\n  /**\n   * Aria-label for the optional badge to show next to the title\n   * @type {string}\n   */\n  export let titleBadgeAriaLabel = null;\n  /**\n   * Set a colour for the title badge\n   * @type {string}\n   */\n  export let titleBadgeColor = \"#003C57\";\n\n  $: titleBadgeTextColor = contrastColor(titleBadgeColor);\n</script>\n\n<Container\n  theme=\"{theme}\"\n  themeOverrides=\"{themeOverrides}\"\n  allowClientOverrides=\"{allowClientOverrides}\"\n  background=\"{background}\"\n>\n  <section class=\"ons-u-mb-xl\">\n    <slot name=\"before\" />\n    <div class=\"ons-grid\">\n      <div class=\"ons-grid__col ons-col-10@m\">\n        <div class=\"title-container\">\n          <h1 class=\"ons-u-fs-xxxl ons-u-mt-s ons-u-mb-m ons-u-pb-no ons-u-pt-no\">\n            {#if titleBadge}\n              <span style=\"margin-right: 6px\">{@html title}</span>\n              <span\n                class=\"title-badge\"\n                aria-label=\"{titleBadgeAriaLabel ?? titleBadge}\"\n                style:background=\"{titleBadgeColor}\"\n                style:color=\"{titleBadgeTextColor}\">{titleBadge}</span\n              >\n            {:else}\n              {@html title}\n            {/if}\n          </h1>\n        </div>\n      </div>\n      {#if natStatBadge}\n        <div class=\"ons-grid__col ons-col-2@m\">\n          <div\n            class=\"ons-grid--flex ons-grid--between@m ons-u-mt-s@m ons-u-mb-m@xxs ons-u-flex-jc-fe@m\"\n          >\n            <a\n              href=\"https://uksa.statisticsauthority.gov.uk/about-the-authority/uk-statistical-system/types-of-official-statistics/\"\n              class=\"national-statistics__link ons-u-fs-xxxl\"\n            >\n              <img\n                src=\"//cdn.ons.gov.uk/assets/images/ons-logo/kitemark/uksa-kitemark.svg\"\n                alt=\"UK Statistics Authority Kitemark\"\n                class=\"national-statistics__logo\"\n              />\n            </a>\n          </div>\n        </div>\n      {/if}\n    </div>\n    <slot />\n    <slot name=\"brand\" />\n    {#if censusLogo}\n      <div class=\"ons-grid ons-u-mb-m\">\n        <div class=\"ons-grid__col\">\n          <img\n            src=\"https://cdn.ons.gov.uk/assets/images/census-logo/logo-census-2021-purple-landscape.svg\"\n            title=\"Census 2021\"\n            alt=\"Census 2021\"\n            class=\"header__svg-logo margin-right--1\"\n            width=\"167\"\n            height=\"32\"\n          />\n        </div>\n      </div>\n    {/if}\n    <Meta meta=\"{meta}\" />\n    <slot name=\"after\" />\n  </section>\n</Container>\n\n<style>\n  /* :global(.ons-page__container) {\n\t\toverflow: auto;\n\t} */\n  .ons-grid__col {\n    vertical-align: bottom;\n  }\n\n  .title-badge {\n    vertical-align: 6px;\n    white-space: nowrap;\n    font-size: 40%;\n    font-weight: bold;\n    color: white;\n    padding: 2px 8px 4px 8px;\n    border-radius: 4px;\n  }\n</style>\n"],"names":["ctx","i","insert","target","dl","anchor","raw_value","dirty","html_tag","formatDate","if_block","create_if_block_2","attr","time","time_datetime_value","set_data","t0","t0_value","validDate","div","div_class_value","toggle_class","append","dt","dd","meta","$$props","span1","span1_aria_label_value","span0","div1","create_if_block_1","create_if_block","section","div2","div0","h1","title","natStatBadge","censusLogo","theme","themeOverrides","background","allowClientOverrides","titleBadge","titleBadgeAriaLabel","titleBadgeColor","$$invalidate","titleBadgeTextColor","contrastColor"],"mappings":"8YAWWA,EAAI,CAAA,uBAAT,OAAIC,GAAA,sSALRC,EAkBIC,EAAAC,EAAAC,CAAA,qEAbKL,EAAI,CAAA,oBAAT,OAAIC,GAAA,EAAA,kHAAJ,qDAQaK,EAAAN,KAAE,MAAK,4EAAPO,EAAA,GAAAD,KAAAA,EAAAN,KAAE,MAAK,KAAAQ,EAAA,EAAAF,CAAA,kDAHsCG,EAAWT,EAAC,CAAA,EAAC,KAAK,EAAA,WACjEU,EAAAV,KAAE,OAAKW,EAAAX,CAAA,qDADSY,EAAAC,EAAA,WAAAC,EAAA,IAAA,KAAKd,EAAE,CAAA,EAAA,KAAK,EAAE,YAAW,CAAA,UAA9CE,EAA8EC,EAAAU,EAAAR,CAAA,2DAA1BI,EAAWT,EAAC,CAAA,EAAC,KAAK,EAAA,KAAAe,EAAAC,EAAAC,CAAA,EAAjDV,EAAA,GAAAO,KAAAA,EAAA,IAAA,KAAKd,EAAE,CAAA,EAAA,KAAK,EAAE,YAAW,sBACzCA,KAAE,qIAAaM,EAAAN,KAAE,MAAK,4EAAPO,EAAA,GAAAD,KAAAA,EAAAN,KAAE,MAAK,KAAAQ,EAAA,EAAAF,CAAA,kDAJaW,EAAAjB,KAAE,IAAG,oEAE1CkB,GAAUlB,EAAC,CAAA,EAAC,KAAK,2EAF0B,GAAC,0HADlBY,EAAAO,EAAA,QAAAC,EAAA,0BAAApB,KAAE,IAAMA,EAAE,CAAA,EAAA,IAAM,IAAE,IAAA,EAAyBqB,EAAAF,EAAA,cAAAnB,OAAM,CAAC,UAArFE,EAUKC,EAAAgB,EAAAd,CAAA,EATHiB,EAAuDH,EAAAI,CAAA,uBACvDD,EAOIH,EAAAK,CAAA,6BARwCjB,EAAA,GAAAU,KAAAA,EAAAjB,KAAE,IAAG,KAAAe,EAAAC,EAAAC,CAAA,oEADhBV,EAAA,GAAAa,KAAAA,EAAA,0BAAApB,KAAE,IAAMA,EAAE,CAAA,EAAA,IAAM,IAAE,2BAAyBqB,EAAAF,EAAA,cAAAnB,OAAM,CAAC,6CAPtF,MAAM,QAAQA,EAAI,CAAA,CAAA,uFAAlB,MAAM,QAAQA,EAAI,CAAA,CAAA,2HAHV,GAAA,CAAA,KAAAyB,EAAO,IAAI,EAAAC,2jBCmFH1B,EAAK,CAAA,EAAAG,EAAAE,CAAA,4BAALL,EAAK,CAAA,CAAA,qGAH2BA,EAAU,CAAA,CAAA,sEAFlCY,EAAAe,EAAA,aAAAC,EAAA5B,MAAuBA,EAAU,CAAA,CAAA,mBAC3BA,EAAe,EAAA,CAAA,cACpBA,EAAmB,EAAA,CAAA,UALnCE,EAAmDC,EAAA0B,EAAAxB,CAAA,cAAZL,EAAK,CAAA,WAC5CE,EAKAC,EAAAwB,EAAAtB,CAAA,mCANuCL,EAAK,CAAA,cAKLA,EAAU,CAAA,CAAA,EAFlCO,EAAA,KAAAqB,KAAAA,EAAA5B,MAAuBA,EAAU,CAAA,iDAC3BA,EAAe,EAAA,CAAA,sBACpBA,EAAmB,EAAA,CAAA,ukBASzCE,EAeKC,EAAA2B,EAAAzB,CAAA,iXAMPH,EAWKC,EAAA2B,EAAAzB,CAAA,+HA/CML,EAAU,CAAA,EAAAW,0BAchBX,EAAY,CAAA,GAAA+B,GAAA,kFAqBd/B,EAAU,CAAA,GAAAgC,GAAA,wBAcFhC,EAAI,CAAA,CAAA,CAAA,CAAA,mcAvDnBE,EAyDSC,EAAA8B,EAAA5B,CAAA,wBAvDPiB,EAoCKW,EAAAC,CAAA,EAnCHZ,EAgBKY,EAAAJ,CAAA,EAfHR,EAcKQ,EAAAK,CAAA,EAbHb,EAYIa,EAAAC,CAAA,gSAGHpC,EAAY,CAAA,6LAqBdA,EAAU,CAAA,wEAcFA,EAAI,CAAA,oVA5DXA,EAAK,CAAA,iBACIA,EAAc,CAAA,uBACRA,EAAoB,CAAA,aAC9BA,EAAU,CAAA,8HAHfA,EAAK,CAAA,2BACIA,EAAc,CAAA,kCACRA,EAAoB,CAAA,uBAC9BA,EAAU,CAAA,uLA3DZ,CAAA,MAAAqC,EAAQ,YAAY,EAAAX,EAKpB,CAAA,aAAAY,EAAe,EAAK,EAAAZ,EAKpB,CAAA,WAAAa,EAAa,EAAK,EAAAb,EAKlB,CAAA,KAAAD,EAAO,IAAI,EAAAC,EAKX,CAAA,MAAAc,EAAQ,IAAI,EAAAd,EAKZ,CAAA,eAAAe,EAAiB,IAAI,EAAAf,EAKrB,CAAA,WAAAgB,EAAa,IAAI,EAAAhB,EAKjB,CAAA,qBAAAiB,EAAuB,EAAK,EAAAjB,EAK5B,CAAA,WAAAkB,EAAa,IAAI,EAAAlB,EAKjB,CAAA,oBAAAmB,EAAsB,IAAI,EAAAnB,EAK1B,CAAA,gBAAAoB,EAAkB,SAAS,EAAApB,whBAEnCqB,EAAA,GAAAC,EAAsBC,GAAcH,CAAe,CAAA"}