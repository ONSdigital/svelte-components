import{S as $,i as x,s as ee,x as w,w as S,L as m,Z as v,y as D,a as H,P as k,z as E,d as T,X as O,Q as j,R as B,e as ne,O as W,Y as se,p as te,j as M,m as C,k as ae,l as le,b as A,t as I,n as z}from"./index-9473b494.js";import{p as oe,w as P,M as ie,T as re,S as L}from"./collect-stories-458d6889.js";import{a as ce,d as ue,i as R,f as q}from"./utils-9a784a1e.js";import"./_commonjsHelpers-725317a4.js";const Q=`An table component with various customisation options.

<!-- prettier-ignore -->
\`\`\`html
<script>
  import { Table } from "@onsvisual/svelte-components";

  const data = [
    { col1: "Item one", col2: 10 },
    { col1: "Item two", col2: 20 },
    { col1: "Item three", col2: 30 },
  ];
  const columns = [
    { key: "col1", label: "Text column" },
    { key: "col2", label: "Numeric column", numeric: true, sortable: true },
  ];
<\/script>

<Table {data} {columns} />
\`\`\`
`;function X(a,e,t){const o=a.slice();return o[12]=e[t],o}function Y(a,e,t){const o=a.slice();return o[15]=e[t],o}function Z(a,e,t){const o=a.slice();return o[15]=e[t],o[19]=t,o}function G(a){let e,t;return{c(){e=w("caption"),t=j(a[0]),m(e,"class","ons-table__caption")},m(o,l){H(o,e,l),k(e,t)},p(o,l){l&1&&B(t,o[0])},d(o){o&&T(e)}}}function fe(a){let e,t,o=a[15].label+"",l,n;return{c(){e=w("th"),t=w("span"),l=j(o),n=S(),m(t,"class","ons-table__header-text"),m(e,"scope","col"),m(e,"class","ons-table__header svelte-81wno"),v(e,"ons-table__header--numeric",a[15].numeric)},m(u,c){H(u,e,c),k(e,t),k(t,l),k(e,n)},p(u,c){c&64&&o!==(o=u[15].label+"")&&B(l,o),c&64&&v(e,"ons-table__header--numeric",u[15].numeric)},d(u){u&&T(e)}}}function me(a){let e,t,o=a[15].label+"",l,n,u,c,_,y,h,p,g;function s(){return a[11](a[19],a[15])}return{c(){e=w("th"),t=w("button"),l=j(o),n=W("svg"),u=W("path"),c=W("path"),y=S(),m(u,"class","ons-topTriangle"),m(u,"d","M6 0l6 7.2H0L6 0zm0 18.6l6-7.2H0l6 7.2zm0 3.6l6 7.2H0l6-7.2z"),m(c,"class","ons-bottomTriangle"),m(c,"d","M6 18.6l6-7.2H0l6 7.2zm0 3.6l6 7.2H0l6-7.2z"),m(n,"class","ons-svg-icon"),m(n,"viewBox","0 0 12 19"),m(n,"xmlns","http://www.w3.org/2000/svg"),m(n,"focusable","false"),m(n,"fill","currentColor"),m(t,"aria-label",_="Sort by "+a[15].label),m(t,"type","button"),m(t,"data-index",a[19]),m(t,"class","ons-table__sort-button svelte-81wno"),m(e,"scope","col"),m(e,"class","ons-table__header svelte-81wno"),m(e,"aria-sort",h=a[8][a[19]]),v(e,"ons-table__header--numeric",a[15].numeric)},m(d,i){H(d,e,i),k(e,t),k(t,l),k(t,n),k(n,u),k(n,c),k(e,y),p||(g=se(t,"click",s),p=!0)},p(d,i){a=d,i&64&&o!==(o=a[15].label+"")&&B(l,o),i&64&&_!==(_="Sort by "+a[15].label)&&m(t,"aria-label",_),i&256&&h!==(h=a[8][a[19]])&&m(e,"aria-sort",h),i&64&&v(e,"ons-table__header--numeric",a[15].numeric)},d(d){d&&T(e),p=!1,g()}}}function J(a){let e;function t(n,u){return n[15].sortable?me:fe}let o=t(a),l=o(a);return{c(){l.c(),e=ne()},m(n,u){l.m(n,u),H(n,e,u)},p(n,u){o===(o=t(n))&&l?l.p(n,u):(l.d(1),l=o(n),l&&(l.c(),l.m(e.parentNode,e)))},d(n){l.d(n),n&&T(e)}}}function K(a){let e,t=(a[15].numeric&&R(a[12][a[15].key])?q(a[12][a[15].key],a[15].dp):a[12][a[15].key]?a[12][a[15].key]:"&ndash;")+"",o;return{c(){e=w("td"),m(e,"class","ons-table__cell"),m(e,"data-th",o=a[15].label),v(e,"ons-table__cell--numeric",a[15].numeric)},m(l,n){H(l,e,n),e.innerHTML=t},p(l,n){n&192&&t!==(t=(l[15].numeric&&R(l[12][l[15].key])?q(l[12][l[15].key],l[15].dp):l[12][l[15].key]?l[12][l[15].key]:"&ndash;")+"")&&(e.innerHTML=t),n&64&&o!==(o=l[15].label)&&m(e,"data-th",o),n&64&&v(e,"ons-table__cell--numeric",l[15].numeric)},d(l){l&&T(e)}}}function U(a){let e,t,o=a[6],l=[];for(let n=0;n<o.length;n+=1)l[n]=K(Y(a,o,n));return{c(){e=w("tr");for(let n=0;n<l.length;n+=1)l[n].c();t=S(),m(e,"class","ons-table__row")},m(n,u){H(n,e,u);for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(e,null);k(e,t)},p(n,u){if(u&192){o=n[6];let c;for(c=0;c<o.length;c+=1){const _=Y(n,o,c);l[c]?l[c].p(_,u):(l[c]=K(_),l[c].c(),l[c].m(e,t))}for(;c<l.length;c+=1)l[c].d(1);l.length=o.length}},d(n){n&&T(e),O(l,n)}}}function de(a){let e,t,o,l,n,u,c,_,y,h,p=a[0]&&G(a),g=a[6],s=[];for(let r=0;r<g.length;r+=1)s[r]=J(Z(a,g,r));let d=a[7],i=[];for(let r=0;r<d.length;r+=1)i[r]=U(X(a,d,r));return{c(){e=w("div"),t=w("table"),p&&p.c(),o=S(),l=w("thead"),n=w("tr");for(let r=0;r<s.length;r+=1)s[r].c();u=S(),c=w("tbody");for(let r=0;r<i.length;r+=1)i[r].c();m(n,"class","ons-table__row"),m(l,"class","ons-table__head svelte-81wno"),m(c,"class","ons-table__body"),m(t,"class","ons-table svelte-81wno"),m(t,"data-aria-sort",_=a[9]?"Sort by":null),m(t,"data-aria-asc",y=a[9]?"ascending":null),m(t,"data-aria-desc",h=a[9]?"descending":null),v(t,"ons-table--sortable",a[9]),v(t,"ons-table--compact",a[1]),v(t,"ons-table--responsive",a[2]),v(t,"ons-table--row-hover",a[3]),v(t,"sticky-header",a[4]),D(e,"overflow",typeof a[5]=="number"?"auto":null),D(e,"height",typeof a[5]=="number"?`${a[5]}px`:null),D(e,"display",typeof a[5]!="number"?"contents":null)},m(r,b){H(r,e,b),k(e,t),p&&p.m(t,null),k(t,o),k(t,l),k(l,n);for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(n,null);k(t,u),k(t,c);for(let f=0;f<i.length;f+=1)i[f]&&i[f].m(c,null)},p(r,[b]){if(r[0]?p?p.p(r,b):(p=G(r),p.c(),p.m(t,o)):p&&(p.d(1),p=null),b&448){g=r[6];let f;for(f=0;f<g.length;f+=1){const F=Z(r,g,f);s[f]?s[f].p(F,b):(s[f]=J(F),s[f].c(),s[f].m(n,null))}for(;f<s.length;f+=1)s[f].d(1);s.length=g.length}if(b&192){d=r[7];let f;for(f=0;f<d.length;f+=1){const F=X(r,d,f);i[f]?i[f].p(F,b):(i[f]=U(F),i[f].c(),i[f].m(c,null))}for(;f<i.length;f+=1)i[f].d(1);i.length=d.length}b&512&&_!==(_=r[9]?"Sort by":null)&&m(t,"data-aria-sort",_),b&512&&y!==(y=r[9]?"ascending":null)&&m(t,"data-aria-asc",y),b&512&&h!==(h=r[9]?"descending":null)&&m(t,"data-aria-desc",h),b&512&&v(t,"ons-table--sortable",r[9]),b&2&&v(t,"ons-table--compact",r[1]),b&4&&v(t,"ons-table--responsive",r[2]),b&8&&v(t,"ons-table--row-hover",r[3]),b&16&&v(t,"sticky-header",r[4]),b&32&&D(e,"overflow",typeof r[5]=="number"?"auto":null),b&32&&D(e,"height",typeof r[5]=="number"?`${r[5]}px`:null),b&32&&D(e,"display",typeof r[5]!="number"?"contents":null)},i:E,o:E,d(r){r&&T(e),p&&p.d(),O(s,r),O(i,r)}}}function pe(a,e,t){let o,{title:l=""}=e,{compact:n=!1}=e,{responsive:u=!1}=e,{rowHover:c=!1}=e,{stickyHeader:_=!1}=e,{height:y="auto"}=e,{data:h=[]}=e,{columns:p=Array.isArray(h)&&h[0]?Object.keys(h[0]).map(i=>({key:i,label:i})):[]}=e,g=[...h],s=p.map(i=>"none");const d=(i,r)=>{t(8,s=s.map((b,f)=>f===i&&b==="ascending"?"descending":f===i?"ascending":"none")),t(7,g=g.sort((b,f)=>s[i]==="ascending"?ce(b[r.key],f[r.key]):ue(b[r.key],f[r.key])))};return a.$$set=i=>{"title"in i&&t(0,l=i.title),"compact"in i&&t(1,n=i.compact),"responsive"in i&&t(2,u=i.responsive),"rowHover"in i&&t(3,c=i.rowHover),"stickyHeader"in i&&t(4,_=i.stickyHeader),"height"in i&&t(5,y=i.height),"data"in i&&t(10,h=i.data),"columns"in i&&t(6,p=i.columns)},a.$$.update=()=>{a.$$.dirty&64&&t(9,o=p.map(i=>i.sortable).includes(!0))},[l,n,u,c,_,y,p,g,s,o,h,d]}class V extends ${constructor(e){super(),x(this,e,pe,de,ee,{title:0,compact:1,responsive:2,rowHover:3,stickyHeader:4,height:5,data:10,columns:6})}}V.__docgen={version:3,name:"Table.svelte",data:[{keywords:[{name:"type",description:"{string}"}],visibility:"public",description:"An optional title for the table",name:"title",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"string",type:"string"},defaultValue:""},{keywords:[{name:"type",description:"{boolean}"}],visibility:"public",description:"Make the chart smaller/more compact",name:"compact",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"boolean",type:"boolean"},defaultValue:!1},{keywords:[{name:"type",description:"{boolean}"}],visibility:"public",description:"Make the chart responsive (changes layout on narrow screens)",name:"responsive",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"boolean",type:"boolean"},defaultValue:!1},{keywords:[{name:"type",description:"{boolean}"}],visibility:"public",description:"Highlight rows on hover",name:"rowHover",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"boolean",type:"boolean"},defaultValue:!1},{keywords:[{name:"type",description:"{boolean}"}],visibility:"public",description:"Sticky header when table is longer than screen height",name:"stickyHeader",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"boolean",type:"boolean"},defaultValue:!1},{keywords:[{name:"type",description:'{number|"auto"}'}],visibility:"public",description:"Sticky header when table is longer than screen height",name:"height",kind:"let",static:!1,readonly:!1,type:{kind:"union",text:'number|"auto"',type:[{kind:"type",text:"number",type:"number"},{kind:"type",text:'"auto"',type:'"auto"'}]},defaultValue:"auto"},{keywords:[{name:"type",description:"{array}"}],visibility:"public",description:"Rows of data",name:"data",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"array",type:"array"}},{keywords:[{name:"type",description:"{array}"}],visibility:"public",description:"Optional metadata for formatting columns. Array of {key, label, sortable?, numeric?, dp?} objects",name:"columns",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"array",type:"array"}}],computed:[],methods:[],components:[],description:null,keywords:[],events:[],slots:[],refs:[]};function be(a){let e,t,o;const l=[a[2]];let n={};for(let u=0;u<l.length;u+=1)n=te(n,l[u]);return t=new V({props:n}),{c(){e=w("div"),M(t.$$.fragment),D(e,"padding","12px")},m(u,c){H(u,e,c),C(t,e,null),o=!0},p(u,c){const _=c&4?ae(l,[le(u[2])]):{};t.$set(_)},i(u){o||(A(t.$$.fragment,u),o=!0)},o(u){I(t.$$.fragment,u),o=!1},d(u){u&&T(e),z(t)}}}function _e(a){let e,t,o,l,n,u,c,_,y,h;const p=[{title:"Data visualisation/Table"},{component:V},{argTypes:{}},P(Q)];let g={};for(let s=0;s<p.length;s+=1)g=te(g,p[s]);return e=new ie({props:g}),o=new re({props:{$$slots:{default:[be,({args:s})=>({2:s}),({args:s})=>s?4:0]},$$scope:{ctx:a}}}),n=new L({props:{name:"Default",args:{data:a[0],columns:a[1]}}}),c=new L({props:{name:"Fixed height 200px with sticky header",args:{data:a[0],columns:a[1],height:200,stickyHeader:!0}}}),y=new L({props:{name:"Compact mode",args:{data:a[0],columns:a[1],compact:!0}}}),{c(){M(e.$$.fragment),t=S(),M(o.$$.fragment),l=S(),M(n.$$.fragment),u=S(),M(c.$$.fragment),_=S(),M(y.$$.fragment)},m(s,d){C(e,s,d),H(s,t,d),C(o,s,d),H(s,l,d),C(n,s,d),H(s,u,d),C(c,s,d),H(s,_,d),C(y,s,d),h=!0},p(s,[d]){const i=d&0?ae(p,[p[0],d&0&&{component:V},p[2],d&0&&le(P(Q))]):{};e.$set(i);const r={};d&12&&(r.$$scope={dirty:d,ctx:s}),o.$set(r)},i(s){h||(A(e.$$.fragment,s),A(o.$$.fragment,s),A(n.$$.fragment,s),A(c.$$.fragment,s),A(y.$$.fragment,s),h=!0)},o(s){I(e.$$.fragment,s),I(o.$$.fragment,s),I(n.$$.fragment,s),I(c.$$.fragment,s),I(y.$$.fragment,s),h=!1},d(s){z(e,s),s&&T(t),z(o,s),s&&T(l),z(n,s),s&&T(u),z(c,s),s&&T(_),z(y,s)}}}function he(a){return[[{country:"Scotland",mountain:"Ben Nevis",height:1345},{country:"Wales",mountain:"Snowdon",height:1085},{country:"England",mountain:"Scarfell Pike",height:978},{country:"Northern Ireland",mountain:"Slieve Donard",height:850}],[{key:"country",label:"Country",sortable:!0},{key:"mountain",label:"Highest mountain"},{key:"height",label:"Height in metres",sortable:!0,numeric:!0}]]}class ye extends ${constructor(e){super(),x(this,e,he,_e,ee,{})}}const N=oe(ye,{meta:{title:"Data visualisation/Table"},stories:{"tpl:default":{storyId:"data-visualisation-table--default",name:"default",template:!0,source:`<div style:padding="12px">
  <Table {...args} />
</div>`,hasArgs:!0},Default:{storyId:"data-visualisation-table--default",name:"Default",template:!1,hasArgs:!1},FixedHeight200pxWithStickyHeader:{storyId:"data-visualisation-table--fixed-height-200-px-with-sticky-header",name:"Fixed height 200px with sticky header",template:!1,hasArgs:!1},CompactMode:{storyId:"data-visualisation-table--compact-mode",name:"Compact mode",template:!1,hasArgs:!1}},allocatedIds:["default","Meta","Template","Story","componentDocs","Table","withComponentDocs"]}),He=N.meta,Te=["Default","FixedHeight200pxWithStickyHeader","CompactMode"],Se=N.stories.Default,De=N.stories.FixedHeight200pxWithStickyHeader,Me=N.stories.CompactMode;export{Me as CompactMode,Se as Default,De as FixedHeight200pxWithStickyHeader,Te as __namedExportsOrder,He as default};
//# sourceMappingURL=Table.stories-cc79670c.js.map
