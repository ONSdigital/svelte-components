import{S as fe,i as be,s as me,M as Se,q as G,x as v,w as J,e as Oe,af as w,Z as H,a as C,P as T,Y as Be,u as U,r as X,v as $,b as W,t as F,d as S,W as Ve,I as ye,F as Ie,ag as ze,L as q,f as L,j as Te,m as Ee,n as Me,E as Re,o as xe,K as re,a5 as De,Q as je,R as qe}from"./index-98bb0bde.js";import{a as Ae}from"./collect-stories-cccca598.js";import{C as Le}from"./Container-db0f663a.js";const{window:pe}=ze,He=i=>({}),de=i=>({}),We=i=>({}),ae=i=>({});function ce(i){let t;return{c(){t=v("div"),q(t,"class","ons-spacer")},m(e,s){C(e,t,s)},d(e){e&&S(t)}}}function Fe(i){let t,e,s,n,a,d,c,u,y,h,g;Se(i[23]);const p=i[22].background,f=G(p,i,i[21],ae),k=i[22].foreground,r=G(k,i,i[21],de);let m=i[2]&&ce();return{c(){t=v("svelte-scroller-outer"),e=v("svelte-scroller-background-container"),s=v("svelte-scroller-background"),f&&f.c(),a=J(),d=v("svelte-scroller-foreground"),r&&r.c(),c=J(),m&&m.c(),u=Oe(),w(s,"class","svelte-koluze"),w(e,"class","background-container svelte-koluze"),w(e,"style",n=""+(i[8]+i[7])),w(d,"class","svelte-koluze"),w(t,"id",i[0]),w(t,"class","svelte-koluze"),H(t,"splitscreen",i[1])},m(l,b){C(l,t,b),T(t,e),T(e,s),f&&f.m(s,null),i[24](s),T(t,a),T(t,d),r&&r.m(d,null),i[25](d),i[26](t),C(l,c,b),m&&m.m(l,b),C(l,u,b),y=!0,h||(g=Be(pe,"resize",i[23]),h=!0)},p(l,b){f&&f.p&&(!y||b[0]&2097152)&&U(f,p,l,l[21],y?$(p,l[21],b,We):X(l[21]),ae),(!y||b[0]&384&&n!==(n=""+(l[8]+l[7])))&&w(e,"style",n),r&&r.p&&(!y||b[0]&2097152)&&U(r,k,l,l[21],y?$(k,l[21],b,He):X(l[21]),de),(!y||b[0]&1)&&w(t,"id",l[0]),(!y||b[0]&2)&&H(t,"splitscreen",l[1]),l[2]?m||(m=ce(),m.c(),m.m(u.parentNode,u)):m&&(m.d(1),m=null)},i(l){y||(W(f,l),W(r,l),y=!0)},o(l){F(f,l),F(r,l),y=!1},d(l){l&&S(t),f&&f.d(l),i[24](null),r&&r.d(l),i[25](null),i[26](null),l&&S(c),m&&m.d(l),l&&S(u),h=!1,g()}}}const _=[];let j;if(typeof window<"u"){const i=()=>_.forEach(t=>t());window.addEventListener("scroll",i),window.addEventListener("resize",i)}if(typeof IntersectionObserver<"u"){const i=new Map,t=new IntersectionObserver((e,s)=>{e.forEach(n=>{const a=i.get(n.target),d=_.indexOf(a);n.isIntersecting?d===-1&&_.push(a):(a(),d!==-1&&_.splice(d,1))})},{rootMargin:"400px 0px"});j={add:({outer:e,update:s})=>{const{top:n,bottom:a}=e.getBoundingClientRect();n<window.innerHeight&&a>0&&_.push(s),i.set(e,s),t.observe(e)},remove:({outer:e,update:s})=>{if(i.get(e)){const n=_.indexOf(s);n!==-1&&_.splice(n,1),i.delete(e),t.unobserve(e)}}}}else j={add:({update:i})=>{_.push(i)},remove:({update:i})=>{const t=_.indexOf(i);t!==-1&&_.splice(t,1)}};let Ke=0,Ne=1;function Pe(i,t,e){let s,n,a,d,c,u,{$$slots:y={},$$scope:h}=t;const g=Ve();let{id:p=null}=t,{splitscreen:f=!1}=t,{marginBottom:k=!0}=t,{threshold:r=.7}=t,{count:m=0}=t,{index:l=null}=t,{sectionId:b=null}=t,{offset:K=0}=t,{progress:E=0}=t,{visible:M=!1}=t;const N=Ae([]);ye(i,N,o=>e(20,u=o)),Ie("sections",N);let R,O,x,A,ee,B=0,V,D=0,P=1;function ge(o){return R&&j.remove(R),e(10,m=o.length),Q(),R={outer:O,update:Q},j.add(R),()=>j.remove(R)}function Q(){if(!x)return;const o=O.getBoundingClientRect();ee=o.left,e(19,P=o.right-ee);const I=x.getBoundingClientRect(),te=A.getBoundingClientRect(),Y=I.top<B&&I.bottom>0,ve=Y&&!M,Ce=!Y&&M;e(15,M=Y);const ie=I.bottom-I.top;te.bottom-te.top;const ne=n-s;e(14,E=(s-I.top)/(ie-ne)),E<=0?(e(18,D=0),e(17,V=!1)):E>=1?(e(18,D=ie-ne),e(17,V=!1)):(e(18,D=s),e(17,V=!0));for(let z=0;z<u.length;z++){const Z=u[z],{top:se}=Z.getBoundingClientRect(),le=u[z+1],oe=le?le.getBoundingClientRect().top:I.bottom;if(e(13,K=(a-se)/(oe-se)),oe>=a){l!==z&&(e(11,l=z),e(12,b=Z.dataset.id?Z.dataset.id:null),g("change",{id:p,index:l,sectionId:b}));break}}ve&&(g("enter",{id:p,index:l,sectionId:b}),g("change",{id:p,index:l,sectionId:b})),Ce&&g("exit",{id:p,index:l,sectionId:b})}function _e(){e(4,B=pe.innerHeight)}function he(o){L[o?"unshift":"push"](()=>{A=o,e(6,A)})}function ke(o){L[o?"unshift":"push"](()=>{x=o,e(5,x)})}function we(o){L[o?"unshift":"push"](()=>{O=o,e(3,O)})}return i.$$set=o=>{"id"in o&&e(0,p=o.id),"splitscreen"in o&&e(1,f=o.splitscreen),"marginBottom"in o&&e(2,k=o.marginBottom),"threshold"in o&&e(16,r=o.threshold),"count"in o&&e(10,m=o.count),"index"in o&&e(11,l=o.index),"sectionId"in o&&e(12,b=o.sectionId),"offset"in o&&e(13,K=o.offset),"progress"in o&&e(14,E=o.progress),"visible"in o&&e(15,M=o.visible),"$$scope"in o&&e(21,h=o.$$scope)},i.$$.update=()=>{i.$$.dirty[0]&16&&(s=Math.round(Ke*B)),i.$$.dirty[0]&16&&(n=Math.round(Ne*B)),i.$$.dirty[0]&65552&&(a=Math.round(r*B)),i.$$.dirty[0]&65536&&Q(),i.$$.dirty[0]&393216&&e(8,d=`
		position: ${V?"fixed":"absolute"};
		top: 0;
		transform: translate(0, ${D}px);
		z-index: 1;
	`),i.$$.dirty[0]&655360&&e(7,c=V?`width:${P}px;`:""),i.$$.dirty[0]&1048584&&O&&ge(u)},[p,f,k,O,B,x,A,c,d,N,m,l,b,K,E,M,r,V,D,P,u,h,y,_e,he,ke,we]}class Qe extends fe{constructor(t){super(),be(this,t,Pe,Fe,me,{id:0,splitscreen:1,marginBottom:2,threshold:16,count:10,index:11,sectionId:12,offset:13,progress:14,visible:15},null,[-1,-1])}}Qe.__docgen={version:3,name:"Scroller.svelte",data:[{keywords:[{name:"type",description:"{string}"}],visibility:"public",description:"Sets the unique ID of the scroller",name:"id",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"string",type:"string"},defaultValue:null},{keywords:[{name:"type",description:"{boolean}"}],visibility:"public",description:"Enables splitscreen view (captions appear on left on larger screens)",name:"splitscreen",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"boolean",type:"boolean"},defaultValue:!1},{keywords:[{name:"type",description:"{boolean}"}],visibility:"public",description:"Adds a margin under the scroller section",name:"marginBottom",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"boolean",type:"boolean"},defaultValue:!0},{keywords:[{name:"type",description:"{number}"}],visibility:"public",description:"Set the threshold for the transition between scroller sections (0-1)",name:"threshold",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"number",type:"number"},defaultValue:.7},{keywords:[{name:"type",description:"{number}"}],visibility:"public",description:"Binding: Total number of sections within scroller",name:"count",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"number",type:"number"},defaultValue:0},{keywords:[{name:"type",description:"{number}"}],visibility:"public",description:"Binding: Current section index (number)",name:"index",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"number",type:"number"},defaultValue:null},{keywords:[{name:"type",description:"{string}"}],visibility:"public",description:"Binding: Current section id, if it has one set",name:"sectionId",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"string",type:"string"},defaultValue:null},{keywords:[{name:"type",description:"{number}"}],visibility:"public",description:"Binding: The progress between the start of current scroller section and next (0-1)",name:"offset",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"number",type:"number"},defaultValue:0},{keywords:[{name:"type",description:"{number}"}],visibility:"public",description:"Binding: The progress through the whole scroller (0-1)",name:"progress",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"number",type:"number"},defaultValue:0},{keywords:[{name:"type",description:"{boolean}"}],visibility:"public",description:"Binding: Whether the scroller is visible on screen or not",name:"visible",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"boolean",type:"boolean"},defaultValue:!1}],computed:[],methods:[],components:[],description:null,keywords:[],events:[{visibility:"public",description:null,keywords:[],name:"change"},{visibility:"public",description:null,keywords:[],name:"enter"},{visibility:"public",description:null,keywords:[],name:"exit"}],slots:[{keywords:[],visibility:"public",description:"",name:"background"},{keywords:[],visibility:"public",description:"",name:"foreground"}],refs:[]};function ue(i){let t,e;return{c(){t=v("h2"),e=je(i[4]),q(t,"class","section-title"),H(t,"ons-u-vh",i[5])},m(s,n){C(s,t,n),T(t,e)},p(s,n){n&16&&qe(e,s[4]),n&32&&H(t,"ons-u-vh",s[5])},d(s){s&&S(t)}}}function Ye(i){let t,e,s,n=i[4]&&ue(i);const a=i[8].default,d=G(a,i,i[10],null);return{c(){t=v("div"),n&&n.c(),e=J(),d&&d.c(),q(t,"class","ons-scroller-section svelte-oszuw0")},m(c,u){C(c,t,u),n&&n.m(t,null),T(t,e),d&&d.m(t,null),s=!0},p(c,u){c[4]?n?n.p(c,u):(n=ue(c),n.c(),n.m(t,e)):n&&(n.d(1),n=null),d&&d.p&&(!s||u&1024)&&U(d,a,c,c[10],s?$(a,c[10],u,null):X(c[10]),null)},i(c){s||(W(d,c),s=!0)},o(c){F(d,c),s=!1},d(c){c&&S(t),n&&n.d(),d&&d.d(c)}}}function Ze(i){let t,e,s;return e=new Le({props:{theme:i[1],themeOverrides:i[2],allowClientOverrides:i[3],width:"narrow",$$slots:{default:[Ye]},$$scope:{ctx:i}}}),{c(){t=v("section"),Te(e.$$.fragment),q(t,"data-id",i[0])},m(n,a){C(n,t,a),Ee(e,t,null),i[9](t),s=!0},p(n,[a]){const d={};a&2&&(d.theme=n[1]),a&4&&(d.themeOverrides=n[2]),a&8&&(d.allowClientOverrides=n[3]),a&1072&&(d.$$scope={dirty:a,ctx:n}),e.$set(d),(!s||a&1)&&q(t,"data-id",n[0])},i(n){s||(W(e.$$.fragment,n),s=!0)},o(n){F(e.$$.fragment,n),s=!1},d(n){n&&S(t),Me(e),i[9](null)}}}function Ge(i,t,e){let s,{$$slots:n={},$$scope:a}=t,{id:d=null}=t,{theme:c=null}=t,{themeOverrides:u=null}=t,{allowClientOverrides:y=!1}=t,{title:h=""}=t,{hideTitle:g=!1}=t,p;const f=Re("sections");ye(i,f,r=>e(11,s=r)),xe(()=>{f&&re(f,s=[...s,p],s)}),De(()=>{f&&re(f,s=s.filter(r=>r!==p),s)});function k(r){L[r?"unshift":"push"](()=>{p=r,e(6,p)})}return i.$$set=r=>{"id"in r&&e(0,d=r.id),"theme"in r&&e(1,c=r.theme),"themeOverrides"in r&&e(2,u=r.themeOverrides),"allowClientOverrides"in r&&e(3,y=r.allowClientOverrides),"title"in r&&e(4,h=r.title),"hideTitle"in r&&e(5,g=r.hideTitle),"$$scope"in r&&e(10,a=r.$$scope)},[d,c,u,y,h,g,p,f,n,k,a]}class Je extends fe{constructor(t){super(),be(this,t,Ge,Ze,me,{id:0,theme:1,themeOverrides:2,allowClientOverrides:3,title:4,hideTitle:5})}}Je.__docgen={version:3,name:"ScrollerSection.svelte",data:[{keywords:[{name:"type",description:"{string}"}],visibility:"public",description:"Sets the unique ID of the section",name:"id",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"string",type:"string"},defaultValue:null},{keywords:[{name:"type",description:'{"light"|"dark"|"lightblue"}'}],visibility:"public",description:"Sets a predefined theme",name:"theme",kind:"let",static:!1,readonly:!1,type:{kind:"union",text:'"light"|"dark"|"lightblue"',type:[{kind:"type",text:'"light"',type:'"light"'},{kind:"type",text:'"dark"',type:'"dark"'},{kind:"type",text:'"lightblue"',type:'"lightblue"'}]},defaultValue:null},{keywords:[{name:"type",description:"{object}"}],visibility:"public",description:"Define additional props to override the base theme",name:"themeOverrides",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"object",type:"object"},defaultValue:null},{keywords:[{name:"type",description:"{boolean}"}],visibility:"public",description:"Allows client imported CSS for embeddable content",name:"allowClientOverrides",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"boolean",type:"boolean"},defaultValue:!1},{keywords:[{name:"type",description:"{string}"}],visibility:"public",description:"Sets the title of the section",name:"title",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"string",type:"string"},defaultValue:""},{keywords:[{name:"type",description:"{boolean}"}],visibility:"public",description:"Allows the h2 title tag for the section to be visually hidden",name:"hideTitle",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"boolean",type:"boolean"},defaultValue:!1}],computed:[],methods:[],components:[],description:null,keywords:[],events:[],slots:[{keywords:[],visibility:"public",description:"",name:"default"}],refs:[]};export{Qe as S,Je as a};
//# sourceMappingURL=ScrollerSection-b7b1b728.js.map
