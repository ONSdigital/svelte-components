import{p as at,O as Tt,Q as Pt,a as r,W as re,l as ce,b as it,c as Re,f as ge,i as F,e as k,h as ot,X as st,s as de,m as fe,P as We,g as n,k as b,t as ue,o as Y,R as He,j as Te,n as Me,Y as l,d as E,V as we,q as Ce}from"./iframe-BeI6gv3V.js";import{i as ut}from"./create-runtime-stories-DnOdY0ML.js";import{s as Le}from"./slot-BP_Qo1ZM.js";import{s as Ft}from"./style-CcY6orqc.js";import{b as Mt}from"./this-BQolPdgt.js";import{b as lt}from"./misc-YpIkSOXb.js";import{t as nt,L as Ct,c as Wt,S as Gt,a as qt,b as Et,s as Ot,o as Rt,A as wt,d as Bt,g as Yt,T as It,e as Xt,f as Qt,F as Ut,E as Vt}from"./DotPlotChart.svelte_svelte_type_style_lang-fjhtVOhY.js";import{e as Be,i as Ye}from"./each-BwFSO-Nr.js";import{s as O}from"./attributes-D_V09orS.js";import{L as Jt}from"./Legend-CWGeiMI7.js";import{b as Nt}from"./band-ByFKp3Sl.js";import{l as Zt}from"./linear-CZTuTj73.js";var pt=We('<polygon class="line-confidence svelte-maq6yn"></polygon>'),jt=We('<g class="line-group svelte-maq6yn"></g>'),$t=We('<polygon class="column-rect svelte-maq6yn"></polygon>'),er=We('<!><g class="column-group svelte-maq6yn"></g>',1);function tr(Ge,t){at(t,!1);const[I,qe]=st(),m=()=>re(ne,"$custom",I),ve=()=>re(he,"$coords",I),M=()=>re(S,"$yScale",I),y=()=>re(C,"$data",I),f=()=>re(Ae,"$config",I),N=()=>re(ye,"$zGet",I),me=()=>re(le,"$zRange",I),R=fe(),X=fe(),D=fe(),{data:C,yScale:S,zGet:ye,zRange:le,config:Ae,custom:ne}=Tt("LayerCake"),ae=Pt();let Z=r(t,"hover",8,!1),p=r(t,"hovered",12,null),Q=r(t,"select",8,!1),A=r(t,"selected",12,null),U=r(t,"highlighted",24,()=>[]),V=r(t,"overlayFill",8,!1),he=m().coords,h=m().idKey,De=m().colorHover?m().colorHover:"orange",j=m().colorSelect?m().colorSelect:"black",J=m().colorHighlight?m().colorHighlight:"black",ze=m().lineWidth?m().lineWidth:2,z=m().markerWidth?m().markerWidth:2.5;function $(s,u){Z()&&(p(u?u[h]:null),ae("hover",{id:p(),data:u,event:s}))}function xe(s,u){Q()&&(A(u?u[h]:null),ae("select",{id:A(),data:u,event:s}))}ce(()=>m(),()=>{de(R,m().mode?m().mode:"default")}),ce(()=>{},()=>{de(X,(s,u,g,P)=>(g=Math.abs(P-g)<z?P+z:g,`${s},${g} ${s},${P} ${u},${P} ${u},${g}`))}),ce(()=>{},()=>{de(D,s=>{const u=[];for(let g=0;g<s[0].length;g++){const P=Math.min(...s.map(K=>K[g].y1)),oe=Math.max(...s.map(K=>K[g].y1));u.push({x0:s[0][g].x0,x1:s[0][g].x1,y0:P,y1:oe})}return u})}),it(),ut();var ie=Re(),_e=ge(ie);{var be=s=>{var u=er(),g=ge(u);{var P=K=>{var ee=jt();Be(ee,5,()=>n(D)(ve()),Ye,(d,W,w)=>{var G=pt();O(G,"data-id",w),O(G,"opacity",.3),ue((B,v)=>{O(G,"points",B),O(G,"fill",v)},[()=>n(X)(n(W).x0,n(W).x1,M()(n(W).y0),M()(n(W).y1)),()=>V()&&y()[0][w][h]==A()?j:V()&&U().includes(y()[0][w][h])?J:f().z?N()(y()[0][w]):me()[0]],Y),k(d,G)}),k(K,ee)};F(g,K=>{n(R)==="confidence"&&K(P)})}var oe=b(g);Be(oe,5,ve,Ye,(K,ee,d)=>{var W=Re(),w=ge(W);Be(w,1,()=>n(ee),Ye,(G,B,v)=>{var ke=Re(),Ke=ge(ke);{var Se=se=>{var x=$t();O(x,"data-id",v),ue((H,i,L)=>{O(x,"transform",`translate(0 ${n(R)=="barcode"||n(R)=="comparison"&&d>0?-z/2:0})`),O(x,"points",H),O(x,"stroke",y()[d][v][h]==p()?De:y()[d][v][h]==A()?j:J),O(x,"stroke-width",i),O(x,"fill",L),O(x,"tabindex",Z()||Q()?0:-1)},[()=>n(X)(n(B).x0,n(B).x1,M()(n(B).y0),M()(n(B).y1)),()=>y()[d][v][h]==p()||y()[d][v][h]==A()||U().includes(y()[d][v][h])?ze:0,()=>V()&&y()[d][v][h]==A()?j:V()&&U().includes(y()[d][v][h])?J:f().z?N()(y()[d][v]):me()[0]],Y),He("mouseover",x,function(...H){var i;(i=Z()?L=>$(L,y()[d][v]):null)==null||i.apply(this,H)}),He("mouseleave",x,function(...H){var i;(i=Z()?L=>$(L,null):null)==null||i.apply(this,H)}),He("focus",x,function(...H){var i;(i=Q()?L=>$(L,y()[d][v]):null)==null||i.apply(this,H)}),He("blur",x,function(...H){var i;(i=Q()?L=>$(L,null):null)==null||i.apply(this,H)}),He("click",x,function(...H){var i;(i=Q()?L=>xe(L,y()[d][v]):null)==null||i.apply(this,H)}),k(se,x)};F(Ke,se=>{n(R)==="confidence"&&d>0||se(Se)})}k(G,ke)}),k(K,W)}),k(s,u)};F(_e,s=>{ve()&&s(be)})}k(Ge,ie),ot(),qe()}var rr=Te('<h5 class="visuallyhidden svelte-1fy6g2i"> </h5>'),lr=Te("<!> <!> <!> <!>",1),nr=Te("<!> <!> <!> <!>",1),ar=Te('<div class="visuallyhidden svelte-1fy6g2i"><!></div>'),ir=Te('<div><!> <!> <!> <!> <!> <!> <div class="chart-container svelte-1fy6g2i" aria-hidden="true"><!></div> <!> <!></div> <!>',1);function br(Ge,t){at(t,!1);const[I,qe]=st(),m=()=>re(Xe,"$yDomain",I),ve=fe(),M=fe(),y=fe();let f=r(t,"data",12),N=r(t,"height",12,200),me=r(t,"ssr",12,!1),R=r(t,"animation",12,!0),X=r(t,"duration",12,800),D=r(t,"xKey",12,"x"),C=r(t,"yKey",12,"y"),S=r(t,"zKey",12,null),ye=r(t,"idKey",28,D),le=r(t,"yScale",12,"linear"),Ae=r(t,"yFormatTick",12,Wt),ne=r(t,"yMax",12,null),ae=r(t,"yMin",12,null),Z=r(t,"xAxis",12,!0),p=r(t,"yAxis",12,!0),Q=r(t,"yTicks",12,4),A=r(t,"zDomain",12,null),U=r(t,"title",12,null),V=r(t,"subtitle",12,null),he=r(t,"alt",12,null),h=r(t,"footer",12,null),De=r(t,"legend",12,!1),j=r(t,"xAxisLabel",12,""),J=r(t,"yAxisLabel",12,""),ze=r(t,"table",12,!1),z=r(t,"mode",12,"default"),$=r(t,"padding",28,()=>({top:J()?35:0,bottom:j()?55:20,left:35,right:0})),xe=r(t,"color",12,null),ie=r(t,"colors",28,()=>xe()?[xe()]:["#206095","#A8BD3A","#003C57","#27A0CC","#118C7B","#F66068","#746CB1","#22D0B6","lightgrey"]),_e=r(t,"markerWidth",12,2.5),be=r(t,"spacing",12,.2),s=r(t,"interactive",12,!0),u=r(t,"xPrefix",12,""),g=r(t,"xSuffix",12,""),P=r(t,"yPrefix",12,""),oe=r(t,"ySuffix",12,""),K=r(t,"yTrimGridlines",12,!0),ee=r(t,"hover",12,!1),d=r(t,"hovered",12,null),W=r(t,"colorHover",12,"orange"),w=r(t,"select",12,!1),G=r(t,"selected",12,null),B=r(t,"colorSelect",12,"black"),v=r(t,"highlighted",28,()=>[]),ke=r(t,"colorHighlight",12,"black"),Ke=r(t,"overlayFill",12,!1),Se=r(t,"output",12,null),se=fe();const x={duration:X(),easing:Et},H=nt(void 0,x),i=(e,a,o)=>o.indexOf(e)==a;function L(e,a){let o=[];return a.forEach(c=>{let _=0,te=0;e.filter(T=>T[D()]==c).map(T=>T[C()]).forEach(T=>{T>=0?_+=T:te+=T}),_!=0&&o.push(_),te!=0&&o.push(te)}),o}function Ie(e,a,o,c){let _=a=="stacked"&&S()?L(e,e.map(T=>T[D()]).filter(i)):e.map(T=>T[o]),te=ae()?ae():Math.min(..._)>0?0:Math.min(..._),Fe=c||(Math.max(..._)<0?0:Math.max(..._));return[te,Fe]}function ct(e,a,o,c){let _=Ie(e,a,o,c);(_[0]!=Pe[0]||_[1]!=Pe[1])&&(Xe.set(_,{duration:R()?X():0}),Pe=_)}let Pe=Ie(f(),z(),C(),ne());const Xe=nt(Pe,x);ce(()=>(E(f()),E(z()),E(C()),E(ne())),()=>{ct(f(),z(),C(),ne())}),ce(()=>(E(f()),E(D())),()=>{de(ve,f().map(e=>e[D()]).filter(i))}),ce(()=>(E(A()),E(S()),E(f())),()=>{de(M,Array.isArray(A())?A():S()&&typeof A()=="function"?f().map(e=>e[S()]).filter(i).sort(A()):S()?f().map(e=>e[S()]).filter(i):null)}),ce(()=>(E(f()),n(M),E(S())),()=>{de(y,Yt(f(),n(M),S()))}),it(),ut();var Qe=ir(),Ee=ge(Qe),Ue=Me(Ee);{var gt=e=>{It(e,{children:(a,o)=>{var c=we();ue(()=>Ce(c,U())),k(a,c)},$$slots:{default:!0}})};F(Ue,e=>{U()&&e(gt)})}var Ve=b(Ue,2);{var dt=e=>{Xt(e,{children:(a,o)=>{var c=we();ue(()=>Ce(c,V())),k(a,c)},$$slots:{default:!0}})};F(Ve,e=>{V()&&e(dt)})}var Je=b(Ve,2);{var ft=e=>{var a=rr(),o=Me(a);ue(()=>Ce(o,he())),k(e,a)};F(Je,e=>{he()&&e(ft)})}var Ne=b(Je,2);Le(Ne,t,"options",{},null);var Ze=b(Ne,2);{var vt=e=>{const a=Y(()=>z()=="barcode"),o=Y(()=>z()=="comparison"),c=Y(()=>z()=="confidence");Jt(e,{get domain(){return n(M)},get colors(){return ie()},get markerWidth(){return _e()},get line(){return n(a)},get comparison(){return n(o)},get confidence(){return n(c)},get yAxisLabel(){return J()}})};F(Ze,e=>{De()&&n(M)&&e(vt)})}var pe=b(Ze,2);Le(pe,t,"legend",{},null);var Oe=b(pe,2),mt=Me(Oe);const yt=Y(()=>Nt().paddingInner(be()).paddingOuter(be()).round(!0)),ht=Y(()=>typeof le()=="function"?le()():le()=="log"?Ot():Zt()),xt=Y(Rt),_t=Y(()=>({type:"column",mode:z(),idKey:ye(),coords:H,markerWidth:_e(),colorSelect:B(),colorHover:W(),colorHighlight:ke(),animation:R(),duration:X()}));Ct(mt,{get padding(){return $()},get ssr(){return me()},get x(){return D()},get y(){return C()},get z(){return S()},get xDomain(){return n(ve)},get yDomain(){return m()},get zDomain(){return n(M)},get xScale(){return n(yt)},get yScale(){return n(ht)},get zScale(){return n(xt)},get zRange(){return ie()},get data(){return n(y)},get flatData(){return f()},get custom(){return n(_t)},children:(e,a)=>{var o=nr(),c=ge(o);Gt(c,{});var _=b(c,2);Le(_,t,"back",{},null);var te=b(_,2);qt(te,{get pointerEvents(){return s()},children:(T,or)=>{var $e=lr(),et=ge($e);{var Kt=q=>{wt(q,{gridlines:!1,get prefix(){return u()},get suffix(){return g()},get xAxisLabel(){return j()}})};F(et,q=>{Z()&&q(Kt)})}var tt=b(et,2);{var Ht=q=>{Bt(q,{get ticks(){return Q()},get formatTick(){return Ae()},get prefix(){return P()},get suffix(){return oe()},get yAxisLabel(){return J()},get trimGridlinesLeft(){return K()}})};F(tt,q=>{p()&&q(Ht)})}var rt=b(tt,2);tr(rt,{get select(){return w()},get selected(){return G()},get hover(){return ee()},get hovered(){return d()},get highlighted(){return v()},get overlayFill(){return Ke()},$$events:{hover(q){lt.call(this,t,q)},select(q){lt.call(this,t,q)}}});var Lt=b(rt,2);Le(Lt,t,"svg",{},null),k(T,$e)},$$slots:{default:!0}});var Fe=b(te,2);Le(Fe,t,"front",{},null),k(e,o)},$$slots:{default:!0}});var je=b(Oe,2);{var bt=e=>{var a=ar(),o=Me(a);Qt(o,{get data(){return f()},get key1(){return D()},get key2(){return C()}}),k(e,a)};F(je,e=>{ze()&&e(bt)})}var kt=b(je,2);{var St=e=>{Ut(e,{children:(a,o)=>{var c=we();ue(()=>Ce(c,h())),k(a,c)},$$slots:{default:!0}})};F(kt,e=>{h()&&e(St)})}Mt(Ee,e=>de(se,e),()=>n(se));var At=b(Ee,2);{var Dt=e=>{const a=Y(()=>[ye(),D(),S(),C()]);Vt(e,{get el(){return n(se)},get data(){return f()},get keys(){return n(a)},get title(){return U()},get output(){return Se()}})};F(At,e=>{Se()&&e(Dt)})}ue(()=>Ft(Oe,`height: ${(typeof N()=="number"?N()+"px":N())??""}`)),k(Ge,Qe);var zt=ot({get data(){return f()},set data(e){f(e),l()},get height(){return N()},set height(e){N(e),l()},get ssr(){return me()},set ssr(e){me(e),l()},get animation(){return R()},set animation(e){R(e),l()},get duration(){return X()},set duration(e){X(e),l()},get xKey(){return D()},set xKey(e){D(e),l()},get yKey(){return C()},set yKey(e){C(e),l()},get zKey(){return S()},set zKey(e){S(e),l()},get idKey(){return ye()},set idKey(e){ye(e),l()},get yScale(){return le()},set yScale(e){le(e),l()},get yFormatTick(){return Ae()},set yFormatTick(e){Ae(e),l()},get yMax(){return ne()},set yMax(e){ne(e),l()},get yMin(){return ae()},set yMin(e){ae(e),l()},get xAxis(){return Z()},set xAxis(e){Z(e),l()},get yAxis(){return p()},set yAxis(e){p(e),l()},get yTicks(){return Q()},set yTicks(e){Q(e),l()},get zDomain(){return A()},set zDomain(e){A(e),l()},get title(){return U()},set title(e){U(e),l()},get subtitle(){return V()},set subtitle(e){V(e),l()},get alt(){return he()},set alt(e){he(e),l()},get footer(){return h()},set footer(e){h(e),l()},get legend(){return De()},set legend(e){De(e),l()},get xAxisLabel(){return j()},set xAxisLabel(e){j(e),l()},get yAxisLabel(){return J()},set yAxisLabel(e){J(e),l()},get table(){return ze()},set table(e){ze(e),l()},get mode(){return z()},set mode(e){z(e),l()},get padding(){return $()},set padding(e){$(e),l()},get color(){return xe()},set color(e){xe(e),l()},get colors(){return ie()},set colors(e){ie(e),l()},get markerWidth(){return _e()},set markerWidth(e){_e(e),l()},get spacing(){return be()},set spacing(e){be(e),l()},get interactive(){return s()},set interactive(e){s(e),l()},get xPrefix(){return u()},set xPrefix(e){u(e),l()},get xSuffix(){return g()},set xSuffix(e){g(e),l()},get yPrefix(){return P()},set yPrefix(e){P(e),l()},get ySuffix(){return oe()},set ySuffix(e){oe(e),l()},get yTrimGridlines(){return K()},set yTrimGridlines(e){K(e),l()},get hover(){return ee()},set hover(e){ee(e),l()},get hovered(){return d()},set hovered(e){d(e),l()},get colorHover(){return W()},set colorHover(e){W(e),l()},get select(){return w()},set select(e){w(e),l()},get selected(){return G()},set selected(e){G(e),l()},get colorSelect(){return B()},set colorSelect(e){B(e),l()},get highlighted(){return v()},set highlighted(e){v(e),l()},get colorHighlight(){return ke()},set colorHighlight(e){ke(e),l()},get overlayFill(){return Ke()},set overlayFill(e){Ke(e),l()},get output(){return Se()},set output(e){Se(e),l()}});return qe(),zt}export{br as C};
