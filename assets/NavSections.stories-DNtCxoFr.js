import{p as dt,a as m,aj as lt,al as ht,$ as wt,h as ut,X as xt,j as d,f as vt,n as a,k as v,i as O,t as b,o as g,g as e,e as l,m as J,a1 as nt,s as R,W as ct,q as x,O as rt,a0 as qt,l as Ot,b as Lt,c as jt,Z as Et,_ as Mt}from"./iframe-BMlGGSEh.js";import{i as ft,w as Ht,c as Rt,d as Ut}from"./create-runtime-stories-DY8P5Zzy.js";import{e as St,i as kt}from"./each-x1Fw04Zn.js";import{s as q}from"./slot-BP_Qo1ZM.js";import{s as H}from"./attributes-In2loFLY.js";import{s as U}from"./class-Dzh9Da8g.js";import{b as Nt}from"./this-DAt889jq.js";import{C as Wt}from"./Container-D8GaV-Ar.js";import{c as Xt}from"./attributes-Co-1QMVx.js";import{s as Zt,l as G}from"./utils-VWytQRnm.js";import{B as zt}from"./BackLink-C53HG-9R.js";import"./style-CcY6orqc.js";import"./Theme-CQg0Djfs.js";import"./svelte-head-Bckk2Lft.js";import"./html-vr7QzKP9.js";import"./_commonjsHelpers-CqkleIqs.js";var Ft=d('<h2 class="ons-table-of-contents__title ons-u-fs-r--b ons-u-mb-s">Contents</h2>'),Gt=d("<a> </a>"),Jt=d('<li class="ons-list__item"><a> </a></li>'),Kt=d('<ol class="ons-list ons-u-mb-no ons-list--dashed"></ol>'),Qt=d('<li class="ons-list__item"><!> <!></li>'),Yt=d('<nav class="ons-table-of-contents" aria-label="Sections in this page"><!> <ol class="ons-list ons-u-mb-l ons-list--dashed"></ol></nav>'),te=d('<div><div class="ons-nav-sections-content ons-grid__col ons-col-8@m svelte-1l0kwqg"><!> <!> <!></div> <div class="ons-nav-sections-toc ons-grid__col ons-grid__col--sticky@m ons-col-4@m svelte-1l0kwqg"><aside class="ons-table-of-contents-container" role="complementary"><!> <!> <!></aside></div></div> <!>',1);function pt(C,t){dt(t,!1);const[L,K]=xt(),N=()=>ct(V,"$sections",L);let h=m(t,"id",8,"toc"),p=m(t,"cls",8,null),S=m(t,"width",8,"wide"),j=m(t,"contentsLabel",8,"Page contents"),$=m(t,"noContents",8,!1),u=m(t,"marginTop",8,!1),_=m(t,"marginBottom",8,!0),n=J(),r=J(),i=J(!1);lt("tocId",h());const V=ht([]);lt("sections",V);const E=ht();lt("observer",E);function st(o){if(o.length===0)return[];const D=[];let c={subsections:[]};for(const f of o)f.dataset.subsection!=="true"?((c.title||c.subsections.length>0)&&D.push(c),c={id:f.id,title:f.dataset.title,subsections:[]}):c.subsections.push({id:f.id,title:f.dataset.title});return[...D,c]}wt(()=>{$()||nt(E,new IntersectionObserver((o,D)=>{for(let c=0;c<o.length;c++)if(o[c].isIntersecting){R(r,o[c].target.id);break}},{root:null,rootMargin:"-25% 0px -75%",threshold:0})),e(n).prepend(e(n).lastElementChild),R(i,!0)}),ft(),Wt(C,{get cls(){return p()},get width(){return S()},get marginTop(){return u()},get marginBottom(){return _()},children:(o,D)=>{var c=te(),f=vt(c);let Q;var Y=a(f),s=a(Y);q(s,t,"before",{},null);var T=v(s,2);q(T,t,"default",{},null);var W=v(T,2);q(W,t,"after",{},null);var it=v(Y,2),ot=a(it),k=a(ot);q(k,t,"before-nav",{},null);var y=v(k,2);{var B=P=>{var mt=Yt(),_t=a(mt);{var Vt=z=>{var w=Ft();l(z,w)};O(_t,z=>{j()&&z(Vt)})}var Dt=v(_t,2);St(Dt,5,()=>st(N()),kt,(z,w)=>{var bt=Qt(),yt=a(bt);{var Tt=A=>{var I=Gt();let tt;var F=a(I);b(et=>{H(I,"href",`#${e(w).id??""}`),tt=U(I,1,"ons-list__link",null,tt,et),x(F,e(w).title)},[()=>({"ons-table-of-contents__link-active":e(w).id===e(r)})],g),l(A,I)};O(yt,A=>{e(w).id&&e(w).title&&A(Tt)})}var Bt=v(yt,2);{var Pt=A=>{var I=Kt();St(I,5,()=>e(w).subsections,kt,(tt,F)=>{var et=Jt(),at=a(et);let gt;var At=a(at);b(It=>{H(at,"href",`#${e(F).id??""}`),gt=U(at,1,"ons-list__link",null,gt,It),x(At,e(F).title)},[()=>({"ons-table-of-contents__link-active":e(F).id===e(r)})],g),l(tt,et)}),l(A,I)};O(Bt,A=>{e(w).subsections.length>0&&A(Pt)})}l(z,bt)}),l(P,mt)};O(y,P=>{$()||P(B)})}var X=v(y,2);q(X,t,"after-nav",{},null),Nt(f,P=>R(n,P),()=>e(n));var Z=v(f,2);q(Z,t,"footer",{},null),b(P=>Q=U(f,1,"ons-grid ons-grid--spaced ons-grid--loose ons-js-toc-container svelte-1l0kwqg",null,Q,P),[()=>({"flip-display-order":!e(i)})],g),l(o,c)},$$slots:{default:!0}}),ut(),K()}pt.__docgen={data:[{name:"id",visibility:"public",description:"ID for back-linking to table of contents",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1,defaultValue:'"toc"'},{name:"cls",visibility:"public",description:"Optional: Set an additional CSS class for the section",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1,defaultValue:"null"},{name:"width",visibility:"public",description:"Sets the width of the container",keywords:[],kind:"let",type:{kind:"union",type:[{kind:"const",type:"string",value:"narrow",text:'"narrow"'},{kind:"const",type:"string",value:"medium",text:'"medium"'},{kind:"const",type:"string",value:"wide",text:'"wide"'},{kind:"const",type:"string",value:"wider",text:'"wider"'},{kind:"const",type:"string",value:"full",text:'"full"'}],text:'"narrow" | "medium" | "wide" | "wider" | "full"'},static:!1,readonly:!1,defaultValue:'"wide"'},{name:"contentsLabel",visibility:"public",description:"A label for the page contents nav",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1,defaultValue:'"Page contents"'},{name:"noContents",visibility:"public",description:"Don't include table of contents (allows for custom uses of nav panel)",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"false"},{name:"marginTop",visibility:"public",description:"Adds margin above section",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"false"},{name:"marginBottom",visibility:"public",description:"Adds margin below section",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"true"}],name:"NavSections.svelte"};var ee=d("<h3> </h3>"),ne=d("<h2> </h2>"),se=d('<section data-type="NavSection"><!> <!> <!></section>');function M(C,t){dt(t,!1);const[L,K]=xt(),N=()=>ct(_,"$sections",L),h=()=>ct(n,"$observer",L);let p=m(t,"title",8,"Section title"),S=m(t,"id",24,()=>Zt(p())),j=m(t,"cls",8,null),$=m(t,"hideTitle",8,!1),u=m(t,"subsection",8,!1);const _=rt("sections"),n=rt("observer"),r=rt("tocId");let i=J(),V=J(!1),E=!1;nt(_,[...N().filter(s=>s.id!==S()),{id:S(),dataset:{title:p(),subsection:String(u())}}]);function st(s,T){T&&s&&!E&&(nt(_,[...e(i).parentElement.getElementsByTagName("section")].filter(W=>W.dataset.type==="NavSection")),s.observe(e(i)),E=!0)}wt(()=>R(V,!0)),qt(()=>{h()&&h().unobserve(e(i)),N()&&nt(_,N().filter(s=>s.id!==S())),R(V,E=!1)}),Ot(()=>(h(),e(V)),()=>{st(h(),e(V))}),Lt(),ft();var o=se(),D=a(o);{var c=s=>{var T=jt(),W=vt(T);{var it=k=>{var y=ee();let B;var X=a(y);b(Z=>{B=U(y,1,"subsection-title",null,B,Z),x(X,p())},[()=>({"ons-u-vh":$()})],g),l(k,y)},ot=k=>{var y=ne();let B;var X=a(y);b(Z=>{B=U(y,1,"section-title",null,B,Z),x(X,p())},[()=>({"ons-u-vh":$()})],g),l(k,y)};O(W,k=>{u()?k(it):k(ot,!1)})}l(s,T)};O(D,s=>{p()&&s(c)})}var f=v(D,2);q(f,t,"default",{},null);var Q=v(f,2);{var Y=s=>{zt(s,{get href(){return`#${r??""}`},cls:"ons-u-d-no@m"})};O(Q,s=>{r&&s(Y)})}Nt(o,s=>R(i,s),()=>e(i)),b(()=>{H(o,"id",S()),H(o,"data-title",p()),H(o,"data-subsection",u()),U(o,1,Xt(j())),H(o,"aria-label",p())}),l(C,o),ut(),K()}M.__docgen={data:[{name:"title",visibility:"public",description:"Sets the title of the section",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1,defaultValue:'"Section title"'},{name:"id",visibility:"public",description:"Sets the unique ID of the section (if not set, this will be slugified from the title)",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1,defaultValue:"..."},{name:"cls",visibility:"public",description:"Optional: Set an additional CSS class for the section",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1,defaultValue:"null"},{name:"hideTitle",visibility:"public",description:"Allows the h2 title tag for the section to be visually hidden",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"false"},{name:"subsection",visibility:"public",description:"Treat a section as sub-section. It will have an h3 title, and will be indented in the contents table",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"false"}],name:"NavSection.svelte"};const ie=`Use this component to allow users to quickly jump to named sections within a long page of content.

As the user scrolls down the page, a table of contents will remain visible on the left of the viewport and will highlight the subheading of the section currently in view.

<!-- prettier-ignore -->
\`\`\`html
<script>
  import { NavSections, NavSection } from "@onsvisual/svelte-components";
<\/script>

<NavSections>
  <NavSection title="Section one">
    <p>Contents of first section.</p>
  </NavSection>
  <NavSection title="Subsection A" subsection>
    <p>Contents of subsection.</p>
  </NavSection>
  <NavSection title="Subsection B" subsection>
    <p>Contents of subsection.</p>
  </NavSection>
  <NavSection title="Section two">
    <p>Contents of third section.</p>
  </NavSection>
</NavSections>
\`\`\`
`,oe=(C,t=Et)=>{pt(C,Mt(t,{children:(L,K)=>{var N=fe(),h=vt(N);M(h,{title:"Section one",children:(u,_)=>{var n=re(),r=a(n);b(i=>x(r,i),[G],g),l(u,n)},$$slots:{default:!0}});var p=v(h,2);M(p,{title:"Subsection A",subsection:!0,children:(u,_)=>{var n=ce(),r=a(n);b(i=>x(r,i),[()=>G(4,1)],g),l(u,n)},$$slots:{default:!0}});var S=v(p,2);M(S,{title:"Subsection B",subsection:!0,children:(u,_)=>{var n=de(),r=a(n);b(i=>x(r,i),[()=>G(4,2)],g),l(u,n)},$$slots:{default:!0}});var j=v(S,2);M(j,{title:"Section two",children:(u,_)=>{var n=ue(),r=a(n);b(i=>x(r,i),[()=>G(4,3)],g),l(u,n)},$$slots:{default:!0}});var $=v(j,2);M($,{title:"Section three",children:(u,_)=>{var n=ve(),r=a(n);b(i=>x(r,i),[G],g),l(u,n)},$$slots:{default:!0}}),l(L,N)},$$slots:{default:!0}}))},Ct={...Ht(ie),layout:"fullscreen"};Ct.docs.story={inline:!1,iframeHeight:600};const ae={title:"Layout/NavSections",component:pt,tags:["autodocs"],argTypes:{},parameters:Ct},{Story:le}=Ut();var re=d("<p> </p>"),ce=d("<p> </p>"),de=d("<p> </p>"),ue=d("<p> </p>"),ve=d("<p> </p>"),fe=d("<!> <!> <!> <!> <!>",1);function $t(C,t){dt(t,!1),ft(),le(C,{name:"Default",args:{},get template(){return oe},parameters:{__svelteCsf:{rawCode:`<NavSections {...args}>
	<NavSection title="Section one">
		<p>
			{lipsum()}
		</p>
	</NavSection>
	<NavSection title="Subsection A" subsection>
		<p>
			{lipsum(4, 1)}
		</p>
	</NavSection>
	<NavSection title="Subsection B" subsection>
		<p>
			{lipsum(4, 2)}
		</p>
	</NavSection>
	<NavSection title="Section two">
		<p>
			{lipsum(4, 3)}
		</p>
	</NavSection>
	<NavSection title="Section three">
		<p>
			{lipsum()}
		</p>
	</NavSection>
</NavSections>`}}}),ut()}$t.__docgen={data:[],name:"NavSections.stories.svelte"};const pe=Rt($t,ae),Be=["Default"],Pe={...pe.Default,tags:["svelte-csf-v5"]};export{Pe as Default,Be as __namedExportsOrder,ae as default};
