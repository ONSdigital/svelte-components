import{p as ut,a as p,ak as rt,ao as gt,$ as kt,l as wt,b as xt,h as vt,X as Nt,j as d,f as st,n as i,i as $,k as u,e as o,a1 as nt,s as F,m as it,g as e,W as dt,c as Ct,t as y,o as x,q as N,O as ct,a0 as Mt,Z as Ht,_ as Rt}from"./iframe-DblgdR9c.js";import{i as ft,w as Ut,c as Wt,d as Xt}from"./create-runtime-stories-VjmG1RUC.js";import{e as ht,i as St}from"./each-DyZ4LWhx.js";import{s as O}from"./slot-BP_Qo1ZM.js";import{s as U}from"./attributes-CRQ3k2v3.js";import{s as G}from"./class-Dzh9Da8g.js";import{C as Zt}from"./Container-Denbr5vS.js";import{c as zt}from"./attributes-Co-1QMVx.js";import{b as Ft}from"./this-DGAyYNJn.js";import{s as Gt,l as z}from"./utils-VWytQRnm.js";import{B as Jt}from"./BackLink-C941a6XX.js";import"./style-CcY6orqc.js";import"./Theme-DeBAaVhe.js";import"./svelte-head-CTEoEUwJ.js";import"./html-CORolPqq.js";import"./_commonjsHelpers-CqkleIqs.js";var Kt=d('<h2 class="ons-table-of-contents__title ons-u-fs-r--b ons-u-mb-s">Contents</h2>'),Qt=d("<a> </a>"),Yt=d('<li class="ons-list__item"><a> </a></li>'),te=d('<ol class="ons-list ons-u-mb-no ons-list--dashed"></ol>'),ee=d('<li class="ons-list__item"><!> <!></li>'),ne=d('<nav class="ons-table-of-contents" aria-label="Sections in this page"><!> <ol class="ons-list ons-u-mb-l ons-list--dashed"><!></ol></nav>'),se=d('<div class="ons-grid ons-grid--spaced ons-grid--loose ons-js-toc-container"><div class="ons-grid__col ons-grid__col--sticky@m ons-col-4@m"><aside class="ons-table-of-contents-container" role="complementary"><!> <!> <!></aside></div> <div class="ons-grid__col ons-col-8@m"><!> <!> <!></div></div> <!>',1);function pt(V,t){ut(t,!1);const[L,J]=Nt(),g=()=>dt(a,"$sections",L),m=it();let f=p(t,"id",8,"toc"),C=p(t,"cls",8,null),q=p(t,"width",8,"wide"),j=p(t,"contentsLabel",8,"Page contents"),r=p(t,"noContents",8,!1),_=p(t,"marginTop",8,!1),s=p(t,"marginBottom",8,!0),c=it();rt("tocId",f());const a=gt([]);rt("sections",a);const E=gt();rt("observer",E);function h(S){const v=[];let l={subsections:[]};for(const b of S)b.dataset.subsection!=="true"?((l.title||l.subsections.length>0)&&v.push(l),l={id:b.id,title:b.dataset.title,subsections:[]}):l.subsections.push({id:b.id,title:b.dataset.title});return[...v,l]}kt(()=>{r()||nt(E,new IntersectionObserver((S,v)=>{for(let l=0;l<S.length;l++)if(S[l].isIntersecting){F(c,S[l].target.id);break}},{root:null,rootMargin:"-25% 0px -75%",threshold:0}))}),wt(()=>g(),()=>{F(m,h(g()))}),xt(),ft(),Zt(V,{get cls(){return C()},get width(){return q()},get marginTop(){return _()},get marginBottom(){return s()},children:(S,v)=>{var l=se(),b=st(l),W=i(b),ot=i(W),K=i(ot);O(K,t,"before-nav",{},null);var n=u(K,2);{var M=T=>{var H=ne(),mt=i(H);{var Dt=B=>{var Y=Kt();o(B,Y)};$(mt,B=>{j()&&B(Dt)})}var Tt=u(mt,2),Bt=i(Tt);{var Pt=B=>{var Y=Ct(),At=st(Y);ht(At,1,()=>e(m),St,(It,P)=>{var _t=ee(),bt=i(_t);{var Ot=A=>{var I=Qt();let tt;var Z=i(I);y(et=>{U(I,"href",`#${e(P).id??""}`),tt=G(I,1,"ons-list__link",null,tt,et),N(Z,e(P).title)},[()=>({"ons-table-of-contents__link-active":e(P).id===e(c)})],x),o(A,I)};$(bt,A=>{e(P).id&&e(P).title&&A(Ot)})}var Lt=u(bt,2);{var qt=A=>{var I=te();ht(I,5,()=>e(P).subsections,St,(tt,Z)=>{var et=Yt(),lt=i(et);let yt;var jt=i(lt);y(Et=>{U(lt,"href",`#${e(Z).id??""}`),yt=G(lt,1,"ons-list__link",null,yt,Et),N(jt,e(Z).title)},[()=>({"ons-table-of-contents__link-active":e(Z).id===e(c)})],x),o(tt,et)}),o(A,I)};$(Lt,A=>{e(P).subsections.length>0&&A(qt)})}o(It,_t)}),o(B,Y)};$(Bt,B=>{e(m)&&B(Pt)})}o(T,H)};$(n,T=>{r()||T(M)})}var X=u(n,2);O(X,t,"after-nav",{},null);var at=u(W,2),Q=i(at);O(Q,t,"before",{},null);var k=u(Q,2);O(k,t,"default",{},null);var w=u(k,2);O(w,t,"after",{},null);var D=u(b,2);O(D,t,"footer",{},null),o(S,l)},$$slots:{default:!0}}),vt(),J()}pt.__docgen={data:[{name:"id",visibility:"public",description:"ID for back-linking to table of contents",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1,defaultValue:'"toc"'},{name:"cls",visibility:"public",description:"Optional: Set an additional CSS class for the section",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1,defaultValue:"null"},{name:"width",visibility:"public",description:"Sets the width of the container",keywords:[],kind:"let",type:{kind:"union",type:[{kind:"const",type:"string",value:"narrow",text:'"narrow"'},{kind:"const",type:"string",value:"medium",text:'"medium"'},{kind:"const",type:"string",value:"wide",text:'"wide"'},{kind:"const",type:"string",value:"wider",text:'"wider"'},{kind:"const",type:"string",value:"full",text:'"full"'}],text:'"narrow" | "medium" | "wide" | "wider" | "full"'},static:!1,readonly:!1,defaultValue:'"wide"'},{name:"contentsLabel",visibility:"public",description:"A label for the page contents nav",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1,defaultValue:'"Page contents"'},{name:"noContents",visibility:"public",description:"Don't include table of contents (allows for custom uses of nav panel)",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"false"},{name:"marginTop",visibility:"public",description:"Adds margin above section",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"false"},{name:"marginBottom",visibility:"public",description:"Adds margin below section",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"true"}],name:"NavSections.svelte"};var ie=d("<h3> </h3>"),oe=d("<h2> </h2>"),ae=d('<section data-type="NavSection"><!> <!> <!></section>');function R(V,t){ut(t,!1);const[L,J]=Nt(),g=()=>dt(_,"$sections",L),m=()=>dt(s,"$observer",L);let f=p(t,"title",8,"Section title"),C=p(t,"id",24,()=>Gt(f())),q=p(t,"cls",8,null),j=p(t,"hideTitle",8,!1),r=p(t,"subsection",8,!1);const _=ct("sections"),s=ct("observer"),c=ct("tocId");let a=it(!1),E=!1,h=it({id:C(),dataset:{title:f(),subsection:String(r())}});nt(_,[...g().filter(n=>n.id!==e(h).id),e(h)]);function S(n,M){M&&n&&!E&&(nt(_,[...e(h).parentElement.getElementsByTagName("section")].filter(X=>X.dataset.type==="NavSection")),n.observe(e(h)),E=!0)}kt(()=>F(a,!0)),Mt(()=>{m()&&m().unobserve(e(h)),g()&&nt(_,g().filter(n=>n.id!==C())),F(a,E=!1)}),wt(()=>(m(),e(a)),()=>{S(m(),e(a))}),xt(),ft();var v=ae(),l=i(v);{var b=n=>{var M=Ct(),X=st(M);{var at=k=>{var w=ie();let D;var T=i(w);y(H=>{D=G(w,1,"subsection-title",null,D,H),N(T,f())},[()=>({"ons-u-vh":j()})],x),o(k,w)},Q=k=>{var w=oe();let D;var T=i(w);y(H=>{D=G(w,1,"section-title",null,D,H),N(T,f())},[()=>({"ons-u-vh":j()})],x),o(k,w)};$(X,k=>{r()?k(at):k(Q,!1)})}o(n,M)};$(l,n=>{f()&&n(b)})}var W=u(l,2);O(W,t,"default",{},null);var ot=u(W,2);{var K=n=>{Jt(n,{get href(){return`#${c??""}`},cls:"ons-u-d-no@m"})};$(ot,n=>{c&&n(K)})}Ft(v,n=>F(h,n),()=>e(h)),y(()=>{U(v,"id",C()),U(v,"data-title",f()),U(v,"data-subsection",r()),G(v,1,zt(q())),U(v,"aria-label",f())}),o(V,v),vt(),J()}R.__docgen={data:[{name:"title",visibility:"public",description:"Sets the title of the section",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1,defaultValue:'"Section title"'},{name:"id",visibility:"public",description:"Sets the unique ID of the section (if not set, this will be slugified from the title)",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1,defaultValue:"..."},{name:"cls",visibility:"public",description:"Optional: Set an additional CSS class for the section",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1,defaultValue:"null"},{name:"hideTitle",visibility:"public",description:"Allows the h2 title tag for the section to be visually hidden",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"false"},{name:"subsection",visibility:"public",description:"Treat a section as sub-section. It will have an h3 title, and will be indented in the contents table",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"false"}],name:"NavSection.svelte"};const le=`Use this component to allow users to quickly jump to named sections within a long page of content.\r
\r
As the user scrolls down the page, a table of contents will remain visible on the left of the viewport and will highlight the subheading of the section currently in view.\r
\r
<!-- prettier-ignore -->\r
\`\`\`html\r
<script>\r
  import { NavSections, NavSection } from "@onsvisual/svelte-components";\r
<\/script>\r
\r
<NavSections>\r
  <NavSection title="Section one">\r
    <p>Contents of first section.</p>\r
  </NavSection>\r
  <NavSection title="Subsection A" subsection>\r
    <p>Contents of subsection.</p>\r
  </NavSection>\r
  <NavSection title="Subsection B" subsection>\r
    <p>Contents of subsection.</p>\r
  </NavSection>\r
  <NavSection title="Section two">\r
    <p>Contents of third section.</p>\r
  </NavSection>\r
</NavSections>\r
\`\`\`\r
`,re=(V,t=Ht)=>{pt(V,Rt(t,{children:(L,J)=>{var g=_e(),m=st(g);R(m,{title:"Section one",children:(r,_)=>{var s=ue(),c=i(s);y(a=>N(c,a),[z],x),o(r,s)},$$slots:{default:!0}});var f=u(m,2);R(f,{title:"Subsection A",subsection:!0,children:(r,_)=>{var s=ve(),c=i(s);y(a=>N(c,a),[()=>z(4,1)],x),o(r,s)},$$slots:{default:!0}});var C=u(f,2);R(C,{title:"Subsection B",subsection:!0,children:(r,_)=>{var s=fe(),c=i(s);y(a=>N(c,a),[()=>z(4,2)],x),o(r,s)},$$slots:{default:!0}});var q=u(C,2);R(q,{title:"Section two",children:(r,_)=>{var s=pe(),c=i(s);y(a=>N(c,a),[()=>z(4,3)],x),o(r,s)},$$slots:{default:!0}});var j=u(q,2);R(j,{title:"Section three",children:(r,_)=>{var s=me(),c=i(s);y(a=>N(c,a),[z],x),o(r,s)},$$slots:{default:!0}}),o(L,g)},$$slots:{default:!0}}))},$t={...Ut(le),layout:"fullscreen"};$t.docs.story={inline:!1,iframeHeight:600};const ce={title:"Layout/NavSections",component:pt,tags:["autodocs"],argTypes:{},parameters:$t},{Story:de}=Xt();var ue=d("<p> </p>"),ve=d("<p> </p>"),fe=d("<p> </p>"),pe=d("<p> </p>"),me=d("<p> </p>"),_e=d("<!> <!> <!> <!> <!>",1);function Vt(V,t){ut(t,!1),ft(),de(V,{name:"Default",args:{},get template(){return re},parameters:{__svelteCsf:{rawCode:`<NavSections {...args}>\r
	<NavSection title="Section one">\r
		<p>\r
			{lipsum()}\r
		</p>\r
	</NavSection>\r
	<NavSection title="Subsection A" subsection>\r
		<p>\r
			{lipsum(4, 1)}\r
		</p>\r
	</NavSection>\r
	<NavSection title="Subsection B" subsection>\r
		<p>\r
			{lipsum(4, 2)}\r
		</p>\r
	</NavSection>\r
	<NavSection title="Section two">\r
		<p>\r
			{lipsum(4, 3)}\r
		</p>\r
	</NavSection>\r
	<NavSection title="Section three">\r
		<p>\r
			{lipsum()}\r
		</p>\r
	</NavSection>\r
</NavSections>`}}}),vt()}Vt.__docgen={data:[],name:"NavSections.stories.svelte"};const be=Wt(Vt,ce),Ie=["Default"],Oe={...be.Default,tags:["svelte-csf-v5"]};export{Oe as Default,Ie as __namedExportsOrder,ce as default};
