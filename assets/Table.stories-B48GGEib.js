import{p as ae,a as m,m as A,l as Z,b as ue,j as _,i as $,t as H,e as u,h as se,n as r,k as W,o as h,g as e,s as F,d as ee,q as E,c as pe,f as oe,u as be}from"./iframe-Ctfpl9ZJ.js";import{i as le,w as ye,c as fe,d as he}from"./create-runtime-stories-DgJbsNY1.js";import{e as R,i as L}from"./each-a10QJc0s.js";import{h as _e}from"./html-Qe-F4bYj.js";import{s as f}from"./attributes-Cz_CYo18.js";import{s as C}from"./class-Dzh9Da8g.js";import{s as ve}from"./style-CcY6orqc.js";import{c as ge}from"./attributes-Co-1QMVx.js";import{f as te,a as ke,d as xe,i as we}from"./utils-DXjJT5W2.js";import"./_commonjsHelpers-CqkleIqs.js";var He=_('<caption class="ons-table__caption"> </caption>'),Ce=_('<th scope="col"><button type="button" class="ons-table__sort-button"> <svg id="sort-sprite-id-0" class="ons-icon" viewBox="0 0 12 19" xmlns="http://www.w3.org/2000/svg" focusable="false" fill="currentColor" role="img" title="ons-icon-sort-sprite"><path class="ons-topTriangle" d="M6 0l6 7.2H0L6 0zm0 18.6l6-7.2H0l6 7.2zm0 3.6l6 7.2H0l6-7.2z"></path><path class="ons-bottomTriangle" d="M6 18.6l6-7.2H0l6 7.2zm0 3.6l6 7.2H0l6-7.2z"></path></svg></button></th>'),Se=_('<th scope="col"><span class="ons-table__header-text"> </span></th>'),Te=_("<td><!></td>"),Me=_('<tr class="ons-table__row"></tr>'),De=_('<div><table><!><thead class="ons-table__head svelte-yk94at"><tr class="ons-table__row"></tr></thead><tbody class="ons-table__body"></tbody></table></div>');function ne(j,s){ae(s,!1);const i=A(),k=A();let S=m(s,"title",8,""),T=m(s,"compact",8,!1),I=m(s,"responsive",8,!1),N=m(s,"rowHover",8,!1),p=m(s,"height",8,"auto"),M=m(s,"data",24,()=>[]),b=m(s,"columns",24,()=>Array.isArray(M())&&M()[0]?Object.keys(M()[0]).map(t=>({key:t,label:t})):[]),O=A([...M()]),D=A(b().map(t=>"none")),ie=m(s,"cls",8,"");Z(()=>ee(b()),()=>{F(i,b().map(t=>t.sortable).includes(!0))}),Z(()=>(ee(b()),te),()=>{F(k,b().map(t=>te(t.dp)))}),ue(),le();var V=De();let Q;var x=r(V);let U;var X=r(x);{var ce=t=>{var a=He(),o=r(a);H(()=>E(o,S())),u(t,a)};$(X,t=>{S()&&t(ce)})}var Y=W(X),de=r(Y);R(de,5,b,L,(t,a,o)=>{var z=pe(),c=oe(z);{var q=n=>{var l=Ce();let y;var g=r(l);f(g,"data-index",o);var B=r(g);H(d=>{y=C(l,1,"ons-table__header svelte-yk94at",null,y,d),f(l,"aria-sort",e(D)[o]),f(g,"aria-label",`Sort by ${e(a).label??""}`),E(B,e(a).label)},[()=>({"ons-table__header--numeric":e(a).numeric})],h),be("click",g,()=>{F(D,e(D).map((d,w)=>w===o&&d==="ascending"?"descending":w===o?"ascending":"none")),F(O,e(O).sort((d,w)=>e(D)[o]==="ascending"?ke(d[e(a).key],w[e(a).key]):xe(d[e(a).key],w[e(a).key])))}),u(n,l)},v=n=>{var l=Se();let y;var g=r(l),B=r(g);H(d=>{y=C(l,1,"ons-table__header svelte-yk94at",null,y,d),E(B,e(a).label)},[()=>({"ons-table__header--numeric":e(a).numeric})],h),u(n,l)};$(c,n=>{e(a).sortable?n(q):n(v,!1)})}u(t,z)});var me=W(Y);R(me,5,()=>e(O),L,(t,a)=>{var o=Me();R(o,5,b,L,(z,c,q)=>{var v=Te();let n;var l=r(v);_e(l,()=>e(c).numeric&&we(e(a)[e(c).key])?e(k)[q](e(a)[e(c).key]):e(a)[e(c).key]||"&ndash;"),H(y=>{n=C(v,1,"ons-table__cell",null,n,y),f(v,"data-th",e(c).label)},[()=>({"ons-table__cell--numeric":e(c).numeric})],h),u(z,v)}),u(t,o)}),H(t=>{C(V,1,ge(ie())),Q=ve(V,"",Q,{overflow:typeof p()=="number"?"auto":null,height:typeof p()=="number"?`${p()}px`:null,display:typeof p()!="number"?"contents":null}),U=C(x,1,"ons-table svelte-yk94at",null,U,t),f(x,"data-aria-sort",e(i)?"Sort by":null),f(x,"data-aria-asc",e(i)?"ascending":null),f(x,"data-aria-desc",e(i)?"descending":null)},[()=>({"ons-table--sortable":e(i),"ons-table--compact":T(),"ons-table--responsive":I(),"ons-table--row-hover":N(),"sticky-header":typeof p()=="number"})],h),u(j,V),se()}ne.__docgen={data:[{name:"title",visibility:"public",description:"An optional title for the table",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1,defaultValue:'""'},{name:"compact",visibility:"public",description:"Make the chart smaller/more compact",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"false"},{name:"responsive",visibility:"public",description:"Make the chart responsive (changes layout on narrow screens)",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"false"},{name:"rowHover",visibility:"public",description:"Highlight rows on hover",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"false"},{name:"height",visibility:"public",description:'Maximum height of table (in pixels). The header row becomes sticky unless the value is "auto" (default).',keywords:[],kind:"let",type:{kind:"union",type:[{kind:"type",type:"number",text:"number"},{kind:"const",type:"string",value:"auto",text:'"auto"'}],text:'number | "auto"'},static:!1,readonly:!1,defaultValue:'"auto"'},{name:"data",visibility:"public",description:"Rows of data",keywords:[],kind:"let",type:{kind:"type",type:"array",text:"object[]"},static:!1,readonly:!1,defaultValue:"[]"},{name:"columns",visibility:"public",description:"Optional metadata for formatting columns. Array of {key, label, sortable?, numeric?, dp?} objects",keywords:[],kind:"let",type:{kind:"type",type:"array",text:"object[]"},static:!1,readonly:!1,defaultValue:"..."},{name:"cls",visibility:"public",description:"Optional: Set an additional CSS class for the component",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1,defaultValue:'""'}],name:"Table.svelte"};const Ve=`A table component with various customisation options.

<!-- prettier-ignore -->
\`\`\`html
<script>
  import { Table } from "@onsvisual/svelte-components";

  const data = [
    { col1: "Item one", col2: 10 },
    { col1: "Item two", col2: 20 },
    { col1: "Item three", col2: 30 },
  ];
  const columns = [
    { key: "col1", label: "Text column" },
    { key: "col2", label: "Numeric column", numeric: true, sortable: true },
  ];
<\/script>

<Table {data} {columns} />
\`\`\`
`,P=[{country:"Scotland",mountain:"Ben Nevis",height:1345},{country:"Wales",mountain:"Snowdon",height:1085},{country:"England",mountain:"Scarfell Pike",height:978},{country:"Northern Ireland",mountain:"Slieve Donard",height:850}],G=[{key:"country",label:"Country",sortable:!0},{key:"mountain",label:"Highest mountain"},{key:"height",label:"Height in metres",sortable:!0,numeric:!0}],ze={title:"Data visualisation/Table",component:ne,tags:["autodocs"],argTypes:{},parameters:ye(Ve)},{Story:J}=he();var Ae=_("<!> <!> <!>",1);function re(j,s){ae(s,!1),le();var i=Ae(),k=oe(i);const S=h(()=>({data:P,columns:G}));J(k,{name:"Default",get args(){return e(S)},parameters:{__svelteCsf:{rawCode:"<Table {...args} />"}}});var T=W(k,2);const I=h(()=>({data:P,columns:G,height:200}));J(T,{name:"Fixed height with sticky header",get args(){return e(I)},parameters:{__svelteCsf:{rawCode:"<Table {...args} />"}}});var N=W(T,2);const p=h(()=>({data:P,columns:G,compact:!0}));J(N,{name:"Compact mode",get args(){return e(p)},parameters:{__svelteCsf:{rawCode:"<Table {...args} />"}}}),u(j,i),se()}re.__docgen={data:[],name:"Table.stories.svelte"};const K=fe(re,ze),Le=["Default","FixedHeightWithStickyHeader","CompactMode"],Pe={...K.Default,tags:["svelte-csf-v5"]},Ge={...K.FixedHeightWithStickyHeader,tags:["svelte-csf-v5"]},Je={...K.CompactMode,tags:["svelte-csf-v5"]};export{Je as CompactMode,Pe as Default,Ge as FixedHeightWithStickyHeader,Le as __namedExportsOrder,ze as default};
