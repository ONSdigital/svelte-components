{"version":3,"file":"Observe.stories-571095d4.js","sources":["../../src/wrappers/Observe/docs/component.md?raw","../../src/wrappers/Observe/Observe.svelte","../../src/wrappers/Observe/Observe.stories.svelte"],"sourcesContent":["export default \"A wrapper component that uses IntersectionObserver to monitor whether the elements in contains are within the current viewport.\\n\\nThis component can be useful for triggering actions such as lazy loading of data/images or scroll-driven interactions.\\n\\nThis component has **enter** and **exit** events, triggered when it enters or leaves the viewport. It also has a **visible** binding which has a value of **true** when it is within the viewport.\\n\\n<!-- prettier-ignore -->\\n```html\\n<script>\\n  import { Observe } from \\\"@onsvisual/svelte-components\\\";\\n\\n  const colors = [\\\"yellow\\\", \\\"green\\\", \\\"blue\\\", \\\"purple\\\", \\\"red\\\", \\\"orange\\\"];\\n  const visible = {}; // Binding for visiblity of divs\\n</script>\\n\\n{#each colors as color}\\n<Observe\\n  on:enter={() => console.log(`${color} entered`)}\\n  on:exit={() => console.log(`${color} exited`)}\\n  bind:visible={visible[color]}>\\n  <div class=\\\"section\\\" style:background={color} style:height=\\\"400px\\\"/>\\n</Observe>\\n{/each}\\n```\\n\"","<script>\n  import { onMount, onDestroy, createEventDispatcher } from \"svelte\";\n\n  const dispatch = createEventDispatcher();\n\n  /**\n   * Bind to this variable to monitor visiblity (boolean true/false).\n   * @type {boolean}\n   */\n  export let visible = false;\n\n  let el, observer;\n\n  const callback = (entries, observer) => {\n    entries.forEach((entry) => {\n      let intersecting = entry.isIntersecting;\n      if (!visible && intersecting) dispatch(\"enter\", entry);\n      if (visible && !intersecting) dispatch(\"exit\", entry);\n      visible = intersecting;\n    });\n  };\n\n  onMount(() => {\n    let options = {};\n\n    observer = new IntersectionObserver(callback, options);\n    observer.observe(el);\n  });\n\n  onDestroy(() => observer.unobserve(el));\n</script>\n\n<div bind:this=\"{el}\">\n  <slot />\n</div>\n","<script>\n  import { Meta, Template, Story } from \"@storybook/addon-svelte-csf\";\n\n  // @ts-ignore\n  import componentDocs from \"./docs/component.md?raw\";\n  import Observe from \"./Observe.svelte\";\n  import { withComponentDocs } from \"../../js/withParams.js\";\n\n  const colors = [\"yellow\", \"green\", \"blue\", \"purple\", \"red\", \"orange\"];\n  const visible = {}; // Binding for visiblity of divs\n</script>\n\n<Meta\n  title=\"Wrappers/Observe\"\n  component=\"{Observe}\"\n  argTypes=\"{{}}\"\n  {...withComponentDocs(componentDocs)}\n/>\n\n<Template let:args>\n  {#each colors as color}\n    <Observe\n      on:enter=\"{() => console.log(`${color} entered`)}\"\n      on:exit=\"{() => console.log(`${color} exited`)}\"\n      bind:visible=\"{visible[color]}\"\n    >\n      <div style:background=\"{color}\" style:height=\"400px\"></div>\n    </Observe>\n  {/each}\n</Template>\n\n<Story name=\"Default\" args=\"{{}}\" />\n"],"names":["componentDocs","insert","target","div","anchor","dispatch","createEventDispatcher","visible","$$props","el","observer","callback","entries","entry","intersecting","$$invalidate","onMount","options","onDestroy","$$value","ctx","observe_props","observe_changes","i","each_blocks","Observe","withComponentDocs","dirty","get_spread_object","colors","$$self","color","value"],"mappings":"wUAAA,MAAeA,EAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wGCgCfC,EAEKC,EAAAC,EAAAC,CAAA,wOA/BG,MAAAC,EAAWC,IAMN,GAAA,CAAA,QAAAC,EAAU,EAAK,EAAAC,EAEtBC,EAAIC,QAEFC,EAAQ,CAAIC,EAASF,IAAQ,CACjCE,EAAQ,QAASC,GAAK,KAChBC,EAAeD,EAAM,eACpB,CAAAN,GAAWO,GAAcT,EAAS,QAASQ,CAAK,EACjDN,IAAYO,GAAcT,EAAS,OAAQQ,CAAK,EACpDE,EAAA,EAAAR,EAAUO,CAAY,KAI1BE,EAAO,IAAA,KACDC,EAAO,CAAA,EAEXP,EAAe,IAAA,qBAAqBC,EAAUM,CAAO,EACrDP,EAAS,QAAQD,CAAE,IAGrBS,EAAgB,IAAAR,EAAS,UAAUD,CAAE,CAAA,2CAGtBA,EAAEU,i5BCNWC,EAAK,CAAA,CAAA,gCAA7BnB,EAA0DC,EAAAC,EAAAC,CAAA,uMAF3C,OAAAgB,KAAQA,EAAK,CAAA,CAAA,IAAA,SAAbC,EAAA,QAAAD,KAAQA,EAAK,CAAA,CAAA,yMAAbE,EAAA,QAAAF,KAAQA,EAAK,CAAA,CAAA,kIAJzBA,EAAM,CAAA,uBAAX,OAAIG,GAAA,sMAACH,EAAM,CAAA,oBAAX,OAAIG,GAAA,EAAA,iHAAJ,OAAIA,EAAAC,EAAA,OAAAD,GAAA,yCAAJ,OAAIA,GAAA,wLANME,CAAO,gBAEfC,EAAkB1B,CAAa,yYAFvByB,CAAO,OAEfE,EAAA,GAAAC,EAAAF,EAAkB1B,CAAa,CAAA,4RAR7B6B,EAAM,CAAI,SAAU,QAAS,OAAQ,SAAU,MAAO,QAAQ,EAC9DtB,EAAO,CAAA,kBAeMuB,EAAA,GAAA,UAAAvB,EAAQwB,CAAK,EAAAC,CAAA,IAAbzB,EAAQwB,CAAK,EAAAC,0BAFX,QAAQ,IAAG,GAAID,WAAK,KACrB,QAAQ,IAAG,GAAIA,UAAK;;;;;;;;"}