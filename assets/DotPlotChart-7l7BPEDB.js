import{p as gt,P as Bt,a as r,W as O,c as Ae,f as X,i as b,e as s,h as ct,X as dt,U as Be,t as J,o as R,g as a,k as o,n as Te,l as Le,b as Rt,j as xe,m as Me,Y as l,s as We,d as P,V as Ie,q as we}from"./iframe-DBsyqvFn.js";import{i as xt}from"./create-runtime-stories-CCKQSsu0.js";import{s as He}from"./slot-BP_Qo1ZM.js";import{s as Et}from"./style-CcY6orqc.js";import{b as Gt}from"./this-ClUvWaqJ.js";import{b as st}from"./misc-MAbOxoiX.js";import{t as ut,L as Ot,c as Xt,S as qt,a as Ut,b as Yt,s as It,o as Vt,A as Jt,d as Nt,g as Qt,T as Zt,e as jt,f as pt,F as $t,E as er}from"./DotPlotChart.svelte_svelte_type_style_lang-BZKiIAl3.js";import{e as ze,i as Ke}from"./each-BYtnwUiW.js";import{s as x}from"./attributes-DPGyZbyW.js";import{l as tr}from"./linear-CZTuTj73.js";import{b as rr}from"./band-DjA_z5N7.js";var lr=Be("<line></line>"),ar=Be("<circle></circle>"),nr=Be('<circle class=""></circle>'),ir=Be('<g class="line-group"></g><g class="dot-group"><!><!></g>',1);function or(Re,t){gt(t,!1);const[F,Ee]=dt(),g=()=>O(A,"$custom",F),D=()=>O(ye,"$coords",F),N=()=>O(le,"$xScale",F),C=()=>O(Z,"$yScale",F),u=()=>O(fe,"$z",F),ve=()=>O(L,"$zGet",F),i=()=>O(he,"$data",F),Q=()=>O(k,"$zRange",F),{data:he,z:fe,xScale:le,yScale:Z,zGet:L,zRange:k,custom:A,yDomain:me}=Bt("LayerCake");let M=r(t,"hovered",8,null),E=r(t,"selected",8,null),W=r(t,"highlighted",24,()=>[]),j=r(t,"overlayFill",8,!1),ye=g().coords,_=g().idKey,_e=g().colorHover?g().colorHover:"orange",w=g().colorSelect?g().colorSelect:"black",p=g().colorHighlight?g().colorHighlight:"black",ae=g().lineColor?g().lineColor:"grey",$=g().lineWidth?g().lineWidth:2,q=g().radius?g().radius:6;xt();var ee=Ae(),ne=X(ee);{var ie=oe=>{var se=ir(),ue=X(se);ze(ue,5,()=>D().map(m=>({x:m.map(v=>v.x),y:m[0].y})),Ke,(m,v)=>{var h=lr();J((B,G,c,H)=>{x(h,"x1",B),x(h,"x2",G),x(h,"y1",c),x(h,"y2",H),x(h,"stroke",ae),x(h,"stroke-width",$)},[()=>N()(Math.min(...a(v).x)),()=>N()(Math.max(...a(v).x)),()=>C()(a(v).y)+C().bandwidth()/2,()=>C()(a(v).y)+C().bandwidth()/2],R),s(m,h)});var U=o(ue),Y=Te(U);ze(Y,1,D,Ke,(m,v,h)=>{var B=Ae(),G=X(B);ze(G,1,()=>a(v),Ke,(c,H,te)=>{var z=ar();J((I,y,V)=>{x(z,"cx",I),x(z,"cy",y),x(z,"r",q),x(z,"fill",V)},[()=>N()(a(H).x),()=>C()(a(H).y)+C().bandwidth()/2,()=>u()?ve()(i()[h][te]):Q()[0]],R),s(c,z)}),s(m,B)});var ge=o(Y);{var be=m=>{var v=Ae(),h=X(v);ze(h,1,D,Ke,(B,G,c)=>{var H=Ae(),te=X(H);ze(te,1,()=>a(G),Ke,(z,I,y)=>{var V=Ae(),ke=X(V);{var Se=re=>{var K=nr();J((De,ce,Ce,de)=>{x(K,"cx",De),x(K,"cy",ce),x(K,"r",q),x(K,"fill",Ce),x(K,"stroke",i()[c][y][_]==M()?_e:i()[c][y][_]==E()?w:p),x(K,"stroke-width",de)},[()=>N()(a(I).x),()=>C()(a(I).y)+C().bandwidth()/2,()=>j()&&i()[c][y][_]==E()?w:j()&W().includes(i()[c][y][_])?p:"none",()=>i()[c][y][_]==M()||i()[c][y][_]==E()||W().includes(i()[c][y][_])?$:0],R),s(re,K)};b(ke,re=>{[...W(),E(),M()].includes(i()[c][y][_])&&re(Se)})}s(z,V)}),s(B,H)}),s(m,v)};b(ge,m=>{_&&(M()||E()||W()[0])&&m(be)})}s(oe,se)};b(ne,oe=>{D()&&oe(ie)})}s(Re,ee),ct(),Ee()}var sr=xe('<h5 class="visuallyhidden svelte-1fy6g2i"> </h5>'),ur=xe('<div style="margin-top: 40px"></div>'),gr=xe("<!> <!> <!> <!>",1),cr=xe("<!> <!> <!> <!>",1),dr=xe('<div class="visuallyhidden svelte-1fy6g2i"><!></div>'),xr=xe('<div><!> <!> <!> <!> <!> <!> <!> <div class="chart-container svelte-1fy6g2i" aria-hidden="true"><!></div> <!> <!></div> <!>',1);function Hr(Re,t){gt(t,!1);const[F,Ee]=dt(),g=()=>O(Ne,"$xDomain",F),D=Me(),N=Me(),C=Me();let u=r(t,"data",12),ve=r(t,"barHeight",12,40),i=r(t,"height",12,null),Q=r(t,"ssr",12,!1),he=r(t,"ssrWidth",12,300),fe=r(t,"ssrHeight",28,()=>typeof i()=="number"?i():200),le=r(t,"animation",12,!0),Z=r(t,"duration",12,800),L=r(t,"xKey",12,"x"),k=r(t,"yKey",12,"y"),A=r(t,"zKey",12,null),me=r(t,"idKey",28,k),M=r(t,"xScale",12,"linear"),E=r(t,"xFormatTick",12,Xt),W=r(t,"xMax",12,null),j=r(t,"xMin",12,null),ye=r(t,"xAxis",12,!0),_=r(t,"yAxis",12,!0),_e=r(t,"xTicks",12,4),w=r(t,"zDomain",12,null),p=r(t,"textColor",12,"#666"),ae=r(t,"tickColor",12,"#d9d9d9"),$=r(t,"tickDashed",12,!1),q=r(t,"title",12,null),ee=r(t,"subtitle",12,null),ne=r(t,"alt",12,null),ie=r(t,"footer",12,null),oe=r(t,"legend",12,!1),se=r(t,"table",12,!1),ue=r(t,"snapTicks",12,!1),U=r(t,"mode",12,"default"),Y=r(t,"padding",28,()=>({top:0,bottom:20,left:35,right:0})),ge=r(t,"color",12,null),be=r(t,"colors",28,()=>ge()?[ge()]:["#206095","#A8BD3A","#003C57","#27A0CC","#118C7B","#F66068","#746CB1","#22D0B6","lightgrey"]),m=r(t,"radius",12,6),v=r(t,"lineWidth",12,2.5),h=r(t,"lineColor",12,"darkgrey"),B=r(t,"interactive",12,!0),G=r(t,"xPrefix",12,""),c=r(t,"xSuffix",12,""),H=r(t,"yPrefix",12,""),te=r(t,"ySuffix",12,""),z=r(t,"hover",12,!1),I=r(t,"hovered",12,null),y=r(t,"colorHover",12,"orange"),V=r(t,"select",12,!1),ke=r(t,"selected",12,null),Se=r(t,"colorSelect",12,"black"),re=r(t,"highlighted",28,()=>[]),K=r(t,"colorHighlight",12,"black"),De=r(t,"overlayFill",12,!1),ce=r(t,"output",12,null),Ce=r(t,"xAxisLabel",12,""),de=r(t,"yAxisLabel",12,""),Ge=Me();const Ve={duration:Z(),easing:Yt},vt=ut(void 0,Ve),Oe=(e,n,f)=>f.indexOf(e)==n;function Je(e,n,f,d){let S=e.map(Ye=>Ye[f]),Fe=j()?j():Math.min(...S)>0?0:Math.min(...S),Ue=d||(Math.max(...S)<0?0:Math.max(...S));return[Fe,Ue]}function ht(e,n,f,d){let S=Je(e,n,f,d);(S[0]!=Pe[0]||S[1]!=Pe[1])&&(Ne.set(S,{duration:le()?Z():0}),Pe=S)}let Pe=Je(u(),U(),L(),W());const Ne=ut(Pe,Ve);Le(()=>(P(u()),P(U()),P(L()),P(W())),()=>{ht(u(),U(),L(),W())}),Le(()=>(P(u()),P(k())),()=>{We(D,u().map(e=>e[k()]).filter(Oe))}),Le(()=>(P(w()),P(A()),P(u())),()=>{We(N,Array.isArray(w())?w():A()&&typeof w()=="function"?u().map(e=>e[A()]).filter(Oe).sort(w()):A()?u().map(e=>e[A()]).filter(Oe):null)}),Le(()=>(P(u()),a(D),P(k())),()=>{We(C,Qt(u(),a(D),k()))}),Rt(),xt();var Qe=xr(),Xe=X(Qe),Ze=Te(Xe);{var ft=e=>{Zt(e,{children:(n,f)=>{var d=Ie();J(()=>we(d,q())),s(n,d)},$$slots:{default:!0}})};b(Ze,e=>{q()&&e(ft)})}var je=o(Ze,2);{var mt=e=>{jt(e,{children:(n,f)=>{var d=Ie();J(()=>we(d,ee())),s(n,d)},$$slots:{default:!0}})};b(je,e=>{ee()&&e(mt)})}var pe=o(je,2);{var yt=e=>{var n=sr(),f=Te(n);J(()=>we(f,ne())),s(e,n)};b(pe,e=>{ne()&&e(yt)})}var $e=o(pe,2);He($e,t,"options",{},null);var et=o($e,2);b(et,e=>{});var tt=o(et,2);He(tt,t,"legend",{},null);var rt=o(tt,2);{var _t=e=>{var n=ur();s(e,n)};b(rt,e=>{de()&&e(_t)})}var qe=o(rt,2),bt=Te(qe);const kt=R(()=>Q()?fe():null),St=R(()=>Q()?he():null),Dt=R(()=>typeof M()=="function"?M()():M()=="log"?It():tr()),Ct=R(()=>rr().round(!0)),At=R(Vt),Ht=R(()=>({type:"dotplot",mode:U(),idKey:me(),coords:vt,radius:m(),lineWidth:v(),lineColor:h(),colorSelect:Se(),colorHover:y(),colorHighlight:K(),animation:le(),duration:Z()}));Ot(bt,{get padding(){return Y()},get ssr(){return Q()},get height(){return a(kt)},get width(){return a(St)},get x(){return L()},get y(){return k()},get z(){return A()},get xDomain(){return g()},get yDomain(){return a(D)},get xScale(){return a(Dt)},get yScale(){return a(Ct)},get zScale(){return a(At)},get zDomain(){return a(N)},get zRange(){return be()},get data(){return a(C)},get flatData(){return u()},get custom(){return a(Ht)},children:(e,n)=>{var f=cr(),d=X(f);qt(d,{});var S=o(d,2);He(S,t,"back",{},null);var Fe=o(S,2);Ut(Fe,{get pointerEvents(){return B()},children:(Ye,vr)=>{var at=gr(),nt=X(at);{var Mt=T=>{Jt(T,{get ticks(){return _e()},get formatTick(){return E()},get snapTicks(){return ue()},get prefix(){return G()},get suffix(){return c()},get textColor(){return p()},get tickColor(){return ae()},get tickDashed(){return $()},get xAxisLabel(){return Ce()}})};b(nt,T=>{ye()&&T(Mt)})}var it=o(nt,2);{var Wt=T=>{Nt(T,{gridlines:!1,get prefix(){return H()},get suffix(){return te()},get textColor(){return p()},get tickColor(){return ae()},get tickDashed(){return $()},get yAxisLabel(){return de()}})};b(it,T=>{_()&&T(Wt)})}var ot=o(it,2);or(ot,{get select(){return V()},get selected(){return ke()},get hover(){return z()},get hovered(){return I()},get highlighted(){return re()},get overlayFill(){return De()},$$events:{hover(T){st.call(this,t,T)},select(T){st.call(this,t,T)}}});var wt=o(ot,2);He(wt,t,"svg",{},null),s(Ye,at)},$$slots:{default:!0}});var Ue=o(Fe,2);He(Ue,t,"front",{},null),s(e,f)},$$slots:{default:!0}});var lt=o(qe,2);{var zt=e=>{var n=dr(),f=Te(n);pt(f,{get data(){return u()},get key1(){return k()},get key2(){return L()}}),s(e,n)};b(lt,e=>{se()&&e(zt)})}var Kt=o(lt,2);{var Tt=e=>{$t(e,{children:(n,f)=>{var d=Ie();J(()=>we(d,ie())),s(n,d)},$$slots:{default:!0}})};b(Kt,e=>{ie()&&e(Tt)})}Gt(Xe,e=>We(Ge,e),()=>a(Ge));var Pt=o(Xe,2);{var Ft=e=>{const n=R(()=>[me(),L(),A(),k()]);er(e,{get el(){return a(Ge)},get data(){return u()},get keys(){return a(n)},get title(){return q()},get output(){return ce()}})};b(Pt,e=>{ce()&&e(Ft)})}J(()=>Et(qe,`height: ${(typeof i()=="number"?`${i()}px`:i()?i():a(D)?`${Y().top+Y().bottom+ve()*a(D).length}px`:"300px")??""}`)),s(Re,Qe);var Lt=ct({get data(){return u()},set data(e){u(e),l()},get barHeight(){return ve()},set barHeight(e){ve(e),l()},get height(){return i()},set height(e){i(e),l()},get ssr(){return Q()},set ssr(e){Q(e),l()},get ssrWidth(){return he()},set ssrWidth(e){he(e),l()},get ssrHeight(){return fe()},set ssrHeight(e){fe(e),l()},get animation(){return le()},set animation(e){le(e),l()},get duration(){return Z()},set duration(e){Z(e),l()},get xKey(){return L()},set xKey(e){L(e),l()},get yKey(){return k()},set yKey(e){k(e),l()},get zKey(){return A()},set zKey(e){A(e),l()},get idKey(){return me()},set idKey(e){me(e),l()},get xScale(){return M()},set xScale(e){M(e),l()},get xFormatTick(){return E()},set xFormatTick(e){E(e),l()},get xMax(){return W()},set xMax(e){W(e),l()},get xMin(){return j()},set xMin(e){j(e),l()},get xAxis(){return ye()},set xAxis(e){ye(e),l()},get yAxis(){return _()},set yAxis(e){_(e),l()},get xTicks(){return _e()},set xTicks(e){_e(e),l()},get zDomain(){return w()},set zDomain(e){w(e),l()},get textColor(){return p()},set textColor(e){p(e),l()},get tickColor(){return ae()},set tickColor(e){ae(e),l()},get tickDashed(){return $()},set tickDashed(e){$(e),l()},get title(){return q()},set title(e){q(e),l()},get subtitle(){return ee()},set subtitle(e){ee(e),l()},get alt(){return ne()},set alt(e){ne(e),l()},get footer(){return ie()},set footer(e){ie(e),l()},get legend(){return oe()},set legend(e){oe(e),l()},get table(){return se()},set table(e){se(e),l()},get snapTicks(){return ue()},set snapTicks(e){ue(e),l()},get mode(){return U()},set mode(e){U(e),l()},get padding(){return Y()},set padding(e){Y(e),l()},get color(){return ge()},set color(e){ge(e),l()},get colors(){return be()},set colors(e){be(e),l()},get radius(){return m()},set radius(e){m(e),l()},get lineWidth(){return v()},set lineWidth(e){v(e),l()},get lineColor(){return h()},set lineColor(e){h(e),l()},get interactive(){return B()},set interactive(e){B(e),l()},get xPrefix(){return G()},set xPrefix(e){G(e),l()},get xSuffix(){return c()},set xSuffix(e){c(e),l()},get yPrefix(){return H()},set yPrefix(e){H(e),l()},get ySuffix(){return te()},set ySuffix(e){te(e),l()},get hover(){return z()},set hover(e){z(e),l()},get hovered(){return I()},set hovered(e){I(e),l()},get colorHover(){return y()},set colorHover(e){y(e),l()},get select(){return V()},set select(e){V(e),l()},get selected(){return ke()},set selected(e){ke(e),l()},get colorSelect(){return Se()},set colorSelect(e){Se(e),l()},get highlighted(){return re()},set highlighted(e){re(e),l()},get colorHighlight(){return K()},set colorHighlight(e){K(e),l()},get overlayFill(){return De()},set overlayFill(e){De(e),l()},get output(){return ce()},set output(e){ce(e),l()},get xAxisLabel(){return Ce()},set xAxisLabel(e){Ce(e),l()},get yAxisLabel(){return de()},set yAxisLabel(e){de(e),l()}});return Ee(),Lt}export{Hr as D};
