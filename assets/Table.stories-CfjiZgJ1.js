import{p as ee,a as n,m as E,l as de,b as ue,j as h,i as Z,t as C,e as m,h as te,n as i,k as V,o as b,g as e,s as R,d as me,q as L,c as be,f as ae,u as pe}from"./iframe-DRONkSsd.js";import{i as se,w as ye,c as fe,d as ve}from"./create-runtime-stories-DLzChHzu.js";import{e as P,i as G}from"./each-zMDmBvqu.js";import{h as he}from"./html-pjAgaoPw.js";import{s as v}from"./attributes-DfYTFl74.js";import{s as T}from"./class-Dzh9Da8g.js";import{s as _e}from"./style-CcY6orqc.js";import{c as ge}from"./attributes-Co-1QMVx.js";import{f as $,a as ke,b as xe,i as we}from"./utils-VWytQRnm.js";import"./_commonjsHelpers-CqkleIqs.js";var Se=h('<caption class="ons-table__caption"> </caption>'),He=h('<th scope="col"><button type="button" class="ons-table__sort-button"> <svg id="sort-sprite-id-0" class="ons-icon" viewBox="0 0 12 19" xmlns="http://www.w3.org/2000/svg" focusable="false" fill="currentColor" role="img" title="ons-icon-sort-sprite"><path class="ons-topTriangle" d="M6 0l6 7.2H0L6 0zm0 18.6l6-7.2H0l6 7.2zm0 3.6l6 7.2H0l6-7.2z"></path><path class="ons-bottomTriangle" d="M6 18.6l6-7.2H0l6 7.2zm0 3.6l6 7.2H0l6-7.2z"></path></svg></button></th>'),Ce=h('<th scope="col"><span class="ons-table__header-text"> </span></th>'),Te=h("<td><!></td>"),Ve=h('<tr class="ons-table__row"></tr>'),Me=h('<div><table><!><thead class="ons-table__head svelte-yk94at"><tr class="ons-table__row"></tr></thead><tbody class="ons-table__body"></tbody></table></div>');function le(z,s){ee(s,!1);const x=E();let w=n(s,"title",8,null),j=n(s,"compact",8,!1),c=n(s,"sortable",8,!1),I=n(s,"responsive",8,!1),M=n(s,"rowHover",8,!1),p=n(s,"height",8,"auto"),_=n(s,"data",24,()=>[]),y=n(s,"columns",24,()=>Array.isArray(_())&&_()[0]?Object.keys(_()[0]).map(a=>({key:a,label:a})):[]),O=E([..._()]),D=E(y().map(()=>"none")),re=n(s,"cls",8,null);de(()=>(me(y()),$),()=>{R(x,y().map(a=>a.formatter||$(a.dp)))}),ue(),se();var W=Me();let Q;var S=i(W);let U;var X=i(S);{var ne=a=>{var t=Se(),l=i(t);C(()=>L(l,w())),m(a,t)};Z(X,a=>{w()&&a(ne)})}var Y=V(X),ie=i(Y);P(ie,5,y,G,(a,t,l)=>{var N=be(),d=ae(N);{var q=r=>{var o=He();let f;var k=i(o);v(k,"data-index",l);var B=i(k);C(u=>{f=T(o,1,"ons-table__header svelte-yk94at",null,f,u),v(o,"aria-sort",e(D)[l]),v(k,"aria-label",`Sort by ${e(t).label??""}`),L(B,e(t).label)},[()=>({"ons-table__header--numeric":e(t).numeric})],b),pe("click",k,()=>{R(D,e(D).map((u,H)=>H===l&&u==="ascending"?"descending":H===l?"ascending":"none")),R(O,e(O).sort((u,H)=>e(D)[l]==="ascending"?ke(u[e(t).key],H[e(t).key]):xe(u[e(t).key],H[e(t).key])))}),m(r,o)},g=r=>{var o=Ce();let f;var k=i(o),B=i(k);C(u=>{f=T(o,1,"ons-table__header svelte-yk94at",null,f,u),L(B,e(t).label)},[()=>({"ons-table__header--numeric":e(t).numeric})],b),m(r,o)};Z(d,r=>{c()?r(q):r(g,!1)})}m(a,N)});var ce=V(Y);P(ce,5,()=>e(O),G,(a,t)=>{var l=Ve();P(l,5,y,G,(N,d,q)=>{var g=Te();let r;var o=i(g);he(o,()=>e(d).numeric&&we(e(t)[e(d).key])?e(x)[q](e(t)[e(d).key]):e(t)[e(d).key]||"&ndash;"),C(f=>{r=T(g,1,"ons-table__cell",null,r,f),v(g,"data-th",e(d).label)},[()=>({"ons-table__cell--numeric":e(d).numeric})],b),m(N,g)}),m(a,l)}),C(a=>{T(W,1,ge(re())),Q=_e(W,"",Q,{overflow:typeof p()=="number"?"auto":null,height:typeof p()=="number"?`${p()}px`:null,display:typeof p()!="number"?"contents":null}),U=T(S,1,"ons-table svelte-yk94at",null,U,a),v(S,"data-aria-sort",c()?"Sort by":null),v(S,"data-aria-asc",c()?"ascending":null),v(S,"data-aria-desc",c()?"descending":null)},[()=>({"ons-table--sortable":c(),"ons-table--compact":j(),"ons-table--responsive":I(),"ons-table--row-hover":M(),"sticky-header":typeof p()=="number"})],b),m(z,W),te()}le.__docgen={data:[{name:"title",visibility:"public",description:"An optional title for the table",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1,defaultValue:"null"},{name:"compact",visibility:"public",description:"Make the table smaller/more compact",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"false"},{name:"sortable",visibility:"public",description:"Make the table sortable",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"false"},{name:"responsive",visibility:"public",description:"Make the chart responsive (changes layout on narrow screens)",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"false"},{name:"rowHover",visibility:"public",description:"Highlight rows on hover",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"false"},{name:"height",visibility:"public",description:'Maximum height of table (in pixels). The header row becomes sticky unless the value is "auto" (default).',keywords:[],kind:"let",type:{kind:"union",type:[{kind:"type",type:"number",text:"number"},{kind:"const",type:"string",value:"auto",text:'"auto"'}],text:'number | "auto"'},static:!1,readonly:!1,defaultValue:'"auto"'},{name:"data",visibility:"public",description:"Rows of data",keywords:[],kind:"let",type:{kind:"type",type:"array",text:"object[]"},static:!1,readonly:!1,defaultValue:"[]"},{name:"columns",visibility:"public",description:"Optional metadata for formatting columns. Array of {key, label, numeric?, dp?, formatter?} objects",keywords:[],kind:"let",type:{kind:"type",type:"array",text:"object[]"},static:!1,readonly:!1,defaultValue:"..."},{name:"cls",visibility:"public",description:"Optional: Set an additional CSS class for the component",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1,defaultValue:"null"}],name:"Table.svelte"};const De=`A table component with various customisation options.\r
\r
<!-- prettier-ignore -->\r
\`\`\`html\r
<script>\r
  import { Table } from "@onsvisual/svelte-components";\r
\r
  const data = [\r
    { col1: "Item one", col2: 10 },\r
    { col1: "Item two", col2: 20 },\r
    { col1: "Item three", col2: 30 },\r
  ];\r
  const columns = [\r
    { key: "col1", label: "Text column" },\r
    { key: "col2", label: "Numeric column", numeric: true},\r
  ];\r
<\/script>\r
\r
<Table {data} {columns} />\r
\`\`\`\r
`,J=[{country:"Scotland",mountain:"Ben Nevis",height:1345},{country:"Wales",mountain:"Snowdon",height:1085},{country:"England",mountain:"Scarfell Pike",height:978},{country:"Northern Ireland",mountain:"Slieve Donard",height:850}],K=[{key:"country",label:"Country"},{key:"mountain",label:"Highest mountain"},{key:"height",label:"Height in metres",numeric:!0}],We=[{measure:"First measure",value:1},{measure:"Second measure",value:2},{measure:"Third measure",value:null},{measure:"Fourth measure",value:3}],Ne=[{key:"measure",label:"Measure"},{key:"value",label:"Value",numeric:!0}],Ae={title:"Data visualisation/Table",component:le,tags:["autodocs"],argTypes:{},parameters:ye(De)},{Story:A}=ve();var Fe=h("<!> <!> <!> <!>",1);function oe(z,s){ee(s,!1),se();var x=Fe(),w=ae(x);const j=b(()=>({data:J,columns:K}));A(w,{name:"Default",get args(){return e(j)},parameters:{__svelteCsf:{rawCode:"<Table {...args} />"}}});var c=V(w,2);const I=b(()=>({data:J,columns:K,height:200}));A(c,{name:"Fixed height with sticky header",get args(){return e(I)},parameters:{__svelteCsf:{rawCode:"<Table {...args} />"}}});var M=V(c,2);const p=b(()=>({data:J,columns:K,sortable:!0,compact:!0}));A(M,{name:"Compact mode, sortable",get args(){return e(p)},parameters:{__svelteCsf:{rawCode:"<Table {...args} />"}}});var _=V(M,2);const y=b(()=>({data:We,columns:Ne,sortable:!0}));A(_,{name:"Sortable with null values",get args(){return e(y)},parameters:{__svelteCsf:{rawCode:"<Table {...args} />"}}}),m(z,x),te()}oe.__docgen={data:[],name:"Table.stories.svelte"};const F=fe(oe,Ae),Ge=["Default","FixedHeightWithStickyHeader","CompactModeSortable","SortableWithNullValues"],Je={...F.Default,tags:["svelte-csf-v5"]},Ke={...F.FixedHeightWithStickyHeader,tags:["svelte-csf-v5"]},Qe={...F.CompactModeSortable,tags:["svelte-csf-v5"]},Ue={...F.SortableWithNullValues,tags:["svelte-csf-v5"]};export{Qe as CompactModeSortable,Je as Default,Ke as FixedHeightWithStickyHeader,Ue as SortableWithNullValues,Ge as __namedExportsOrder,Ae as default};
