const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./accessible-autocomplete.min-D9ZjvLTw.js","./_commonjsHelpers-CqkleIqs.js"])))=>i.map(i=>d[i]);
import{p as me,Q as ve,a as l,$ as he,l as ge,b as ke,c as J,f as M,i as v,e as m,h as we,s as E,m as X,g as w,d as _e,j as _,n as K,k as Y,t as R,o as q,q as xe,aj as Ve,R as Le}from"./iframe-BBQ72IkI.js";import{i as Ce}from"./create-runtime-stories-DkoCa4Fo.js";import{a as Se}from"./actions-C65pmnzq.js";import{s as $}from"./attributes-CzQPs7bH.js";import{s as D}from"./class-Dzh9Da8g.js";import{D as Te}from"./Dropdown-y55jiF71.js";import{I as Oe}from"./Input-DY0ECPmv.js";var Ie=_("<label> </label>"),Ae=_('<button type="reset" title="Clear selection" aria-label="Clear selection" class="ons-autocomplete-clear svelte-nc31vb"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" viewBox="0 0 14 14" width="18"><path fill="currentColor" d="M13.6 1 l -0.71 -0.71 a 0.5 0.5 0 0 0 -0.71 0 l -5.25 5.25 l -5.25 -5.25 a 0.51 0.51 0 0 0 -0.71 0 l -0.71 0.71 a 0.5 0.5 0 0 0 0 0.71 l 5.25 5.25 l -5.25 5.25 a 0.5 0.5 0 0 0 0 0.71 l 0.71 0.71 a 0.5 0.5 0 0 0 0.71 0 l 5.25 -5.25 l 5.25 5.25 a 0.5 0.5 0 0 0 0.71 0 l 0.71 -0.71 a 0.5 0.5 0 0 0 0 -0.71 l -5.25 -5.25 l 5.25 -5.25 a 0.5 0.5 0 0 0 0 -0.71Z"></path></svg></button>'),Me=_("<div></div> <!>",1),Ee=_('<div><!> <div class="ons-autocomplete-wrapper svelte-nc31vb"><!></div></div>');function Ke(ee,a){me(a,!1);const F=ve(),j=(e=1e3)=>new Promise(t=>setTimeout(t,e)),te=e=>`<svg class="${e==null?void 0:e.className}" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" viewBox="0 0 11.75 7.7" width="18" style="z-index:1"><path fill="currentColor" d="m1.37.15 4.5 5.1 4.5-5.1a.37.37 0 0 1 .6 0l.7.7a.45.45 0 0 1 0 .5l-5.5 6.2a.37.37 0 0 1-.6 0l-5.5-6.1a.64.64 0 0 1 0-.6l.7-.7a.64.64 0 0 1 .6 0Z"></path></svg>`;let x=X(!1),i,V,L=X(!1),f=l(a,"id",8,"autocomplete"),C=l(a,"name",24,f),d=l(a,"mode",8,"default"),ae=l(a,"clearable",24,()=>d()!=="search"),B=l(a,"autoClear",24,()=>d()==="search"),h=l(a,"label",24,()=>d()==="search"?"Type to select":"Select an option"),S=l(a,"hideLabel",8,!1),P=l(a,"placeholder",24,()=>d()==="search"?"Enter text":"Select one"),n=l(a,"value",12,null),g=l(a,"options",24,()=>[]),c=l(a,"labelKey",8,"label"),H=l(a,"groupKey",8,null),le=l(a,"renderFallback",8,!1),ie=l(a,"minLength",24,()=>d()==="search"?1:0),ne=l(a,"loadOptions",8,(e,t)=>{const s=d()!=="search"&&g().map(o=>o[c()]).includes(e)?g():g().filter(o=>o[c()].match(new RegExp(`\\b${e.replace(/[^\w\s]/gi,"")}`,"i")));t(s)}),N=l(a,"clearInput",8,()=>{n(null),F("clear",null)}),se=l(a,"cls",8,null);async function Z(e){E(L,!0),i.value=e||"",await j(110),i.focus({preventScroll:!0}),i.blur(),E(L,!1)}function re(e){return e&&e[c()]}function z(e,t=""){return e.replace(new RegExp(`\\b${t.replace(/[^\w\s]/gi,"")}`,"i"),s=>`<b>${s}</b>`)}function oe(e){const t=(i==null?void 0:i.value)||"";return e&&(H()?`${z((e==null?void 0:e[c()])||"",t)} <span class="muted-text">${e[H()]}</span>`:z((e==null?void 0:e[c()])||"",t))}async function Q(e){e&&n()!==e&&(n(e),F("change",n()),n()&&B()&&(await j(0),N()()))}function de(e){e.target.value||Q(null)}async function T(e){var t;V||(V=(await Ve(async()=>{const{default:s}=await import("./accessible-autocomplete.min-D9ZjvLTw.js").then(o=>o.a);return{default:s}},__vite__mapDeps([0,1]),import.meta.url)).default),V({element:e,id:f(),name:C(),defaultValue:((t=n())==null?void 0:t[c()])||void 0,source:ne(),autoselect:!0,onConfirm:Q,confirmOnBlur:!1,placeholder:P(),displayMenu:"overlay",showAllValues:d()==="default",dropdownArrow:te,minLength:ie(),templates:{inputValue:re,suggestion:oe}}),i=e.querySelector(`#${f()}`),i.addEventListener("blur",de)}function ce(e){if(i){const t=e==null?void 0:e[c()];t&&i.value!==t?Z(t):!e&&i.value&&Z("")}}he(async()=>{E(x,!0)}),ge(()=>_e(n()),()=>{ce(n())}),ke(),Ce();var U=J(),ue=M(U);{var fe=e=>{var t=J(),s=M(t);{var o=u=>{const I=q(()=>{var r;return(r=n())==null?void 0:r[c()]});Oe(u,{get id(){return f()},get name(){return C()},get label(){return h()},get hideLabel(){return S()},get value(){return w(I)},width:null})},O=u=>{Te(u,{get id(){return f()},get name(){return C()},get options(){return g()},get label(){return h()},get hideLabel(){return S()},get placeholder(){return P()},get value(){return n()},width:null})};v(s,u=>{d()==="search"?u(o):u(O,!1)})}m(e,t)},pe=e=>{var t=Ee(),s=K(t);{var o=r=>{var p=Ie();let y;var k=K(p);R(A=>{$(p,"for",f()),y=D(p,1,"ons-label",null,y,A),xe(k,h())},[()=>({"ons-u-vh":S()})],q),m(r,p)};v(s,r=>{h()&&r(o)})}var O=Y(s,2),u=K(O);{var I=r=>{var p=Me(),y=M(p);let k;Se(y,b=>T==null?void 0:T(b));var A=Y(y,2);{var ye=b=>{var W=Ae();Le("click",W,function(...be){var G;(G=N())==null||G.apply(this,be)}),m(b,W)};v(A,b=>{ae()&&!B()&&n()&&b(ye)})}R(b=>{$(y,"id",`${f()??""}-container`),k=D(y,1,"ons-autocomplete svelte-nc31vb",null,k,b)},[()=>({"hide-menu":w(L)})],q),m(r,p)};v(u,r=>{w(x)&&r(I)})}R(()=>D(t,1,`ons-field ${se()??""}`,"svelte-nc31vb")),m(e,t)};v(ue,e=>{le()&&!w(x)?e(fe):e(pe,!1)})}m(ee,U),we()}Ke.__docgen={data:[{name:"id",visibility:"public",description:"Unique id for the HTML element",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1,defaultValue:'"autocomplete"'},{name:"name",visibility:"public",description:"Name for the HTML element",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1,defaultValue:"..."},{name:"mode",visibility:"public",description:'The mode can be either "default" or "search"',keywords:[],kind:"let",type:{kind:"union",type:[{kind:"const",type:"string",value:"default",text:'"default"'},{kind:"const",type:"string",value:"search",text:'"search"'}],text:'"default" | "search"'},static:!1,readonly:!1,defaultValue:'"default"'},{name:"clearable",visibility:"public",description:"Defines whether the selection can be cleared",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"..."},{name:"autoClear",visibility:"public",description:'Clear value on selection (default for "search" mode)',keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"..."},{name:"label",visibility:"public",description:"A label to describe the element (expected for accessibility)",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1,defaultValue:"..."},{name:"hideLabel",visibility:"public",description:"Visually hide the label",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"false"},{name:"placeholder",visibility:"public",description:"An optional placeholder text",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1,defaultValue:"..."},{name:"value",visibility:"public",description:"A prop to bind to for the selected value",keywords:[],kind:"let",static:!1,readonly:!1,defaultValue:"null"},{name:"options",visibility:"public",description:"An array of options, formatted {id, label}",keywords:[],kind:"let",type:{kind:"type",type:"any",text:"any"},static:!1,readonly:!1,defaultValue:"[]"},{name:"labelKey",visibility:"public",description:"The attribute of an option that defines its label/name",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1,defaultValue:'"label"'},{name:"groupKey",visibility:"public",description:"The attribute of an option that defines its group (optional)",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1,defaultValue:"null"},{name:"renderFallback",visibility:"public",description:"When using SSR or pre-rendering, this option will render a text input or dropdown before the page is hydrated (allows for progressive enhancement).",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"false"},{name:"minLength",visibility:"public",description:"Optional: Minimum query length to return results",keywords:[],kind:"let",type:{kind:"type",type:"number",text:"number"},static:!1,readonly:!1,defaultValue:"..."},{name:"loadOptions",visibility:"public",description:"Optional: Override function for loading/filtering options based on the entered text",keywords:[],kind:"let",type:{kind:"type",type:"object",text:"Function"},static:!1,readonly:!1,defaultValue:"function"},{name:"clearInput",visibility:"public",description:"Call this function externally to clear the input",keywords:[],kind:"let",type:{kind:"type",type:"object",text:"Function"},static:!1,readonly:!1,defaultValue:"function"},{name:"cls",visibility:"public",description:"Optional: Set an additional CSS class for the component",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1,defaultValue:"null"}],name:"Select.svelte"};export{Ke as S};
