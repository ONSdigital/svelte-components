{"version":3,"file":"Tabs.stories-bb306aa4.js","sources":["../../src/layout/Tabs/docs/component.md?raw","../../src/layout/Tabs/Tabs.svelte","../../src/layout/Tabs/Tab.svelte","../../src/layout/Tabs/Tabs.stories.svelte"],"sourcesContent":["export default \"Use tabs to help users navigate between short sections of related content within a single page, showing one section at a time.\\n\\nBased on [this ONS Design System component](https://service-manual.ons.gov.uk/design-system/components/tabs).\\n\\n<!-- prettier-ignore -->\\n```html\\n<script>\\n  import { Tab, Tabs } from \\\"@onsvisual/svelte-components\\\";\\n</script>\\n\\n<Tabs>\\n  <Tab title=\\\"Tab one\\\">Contents of tab panel one.</Tab>\\n  <Tab title=\\\"Tab two\\\">Contents of tab panel two.</Tab>\\n  <Tab title=\\\"Tab three\\\">Contents of tab panel three.</Tab>\\n</Tabs>\\n```\\n\"","<script>\n  import { setContext } from \"svelte\";\n  import { writable } from \"svelte/store\";\n\n  /**\n   * Make tabs smaller/more compact\n   */\n  export let compact = false;\n  /**\n   * Include a border around the tab panel\n   * @type {boolean}\n   */\n  export let border = false;\n  /**\n   * The ID of selected tab (for binding)\n   * @type {string|null}\n   */\n  export let selected = null;\n\n  const sections = writable([]);\n  setContext(\"sections\", sections);\n\n  const _selected = writable(null);\n  setContext(\"selected\", _selected);\n\n  function showSection(id) {\n    $_selected = id;\n    [...$sections].forEach(\n      (s) =>\n        (s.el.className =\n          s.id === id ? \"ons-tabs__panel\" : \"ons-tabs__panel ons-tabs__panel--hidden\")\n    );\n  }\n\n  $: if (selected !== $_selected) selected = $_selected;\n</script>\n\n<section class=\"ons-tabs\" class:ons-tabs__border=\"{border}\">\n  <h2 class=\"ons-tabs__title ons-u-fs-r--b ons-u-mt-no ons-u-vh\">Contents</h2>\n  <div class=\"ons-tabs__container\">\n    <ul class=\"ons-tabs__list ons-tabs__list--row\" role=\"tablist\">\n      {#each $sections as section}\n        <li\n          id=\"tab_{section.id}\"\n          class=\"ons-tab__list-item ons-tab__list-item--row\"\n          role=\"presentation\"\n        >\n          <a\n            href=\"#{section.id}\"\n            class=\"ons-tab ons-tab--row\"\n            class:ons-tab--compact=\"{compact}\"\n            class:ons-tab--selected=\"{section.id === selected}\"\n            data-ga=\"click\"\n            data-ga-category=\"tabs\"\n            data-ga-action=\"Show: {section.title}\"\n            data-ga-label=\"Show: {section.title}\"\n            aria-selected=\"{section.id === selected ? 'true' : 'false'}\"\n            on:click|preventDefault=\"{() => showSection(section.id)}\">{section.title}</a\n          >\n        </li>\n      {/each}\n    </ul>\n  </div>\n  <slot />\n</section>\n\n<style>\n  .ons-tabs__list::after {\n    content: none;\n  }\n  .ons-tab--compact {\n    font-size: 16px;\n    height: 36px;\n    padding: 0 12px;\n    line-height: 2;\n  }\n  .ons-tab {\n    text-underline-offset: 0;\n    border-color: var(--hinted, #e2e2e3);\n  }\n  .ons-tab[aria-selected=\"true\"] {\n    border-color: var(--ons-color-borders);\n  }\n  .ons-tab:focus {\n    box-shadow: inset 0 0 0 4px var(--hinted, #e2e2e3), inset 12px 0 0 0 var(--hinted, #e2e2e3),\n      inset -12px 0 0 0 var(--hinted, #e2e2e3), inset 0 -8px 0 0 #222;\n  }\n  .ons-tab[aria-selected=\"true\"]:focus {\n    box-shadow: inset 0 0 0 4px var(--background, white), inset 12px 0 0 0 var(--background, white),\n      inset -12px 0 0 0 var(--background, white), inset 0 -8px 0 0 #222;\n  }\n  .ons-tab--row {\n    background: var(--hinted, #e2e2e3);\n  }\n  .ons-tab[aria-selected=\"true\"]:not(:focus) {\n    background-color: var(--background, white);\n  }\n  .ons-tabs__border > .ons-tabs__container {\n    border: none;\n  }\n  .ons-tabs__border :global(.ons-tabs__panel) {\n    border: 1px solid var(--ons-color-borders);\n    border-radius: 4px;\n    border-top-left-radius: 0;\n    padding-left: 12px;\n    padding-right: 12px;\n  }\n</style>\n","<script>\n  import { onMount, onDestroy, getContext } from \"svelte\";\n  import { slugify } from \"../../js/utils.js\";\n\n  /**\n   * Title of tab/panel\n   * @type {string}\n   */\n  export let title = \"Tab title\";\n  /**\n   * Hide the title within the panel\n   * @type {boolean}\n   */\n  export let hideTitle = false;\n  /**\n   * ID/slug for tab (auto-generated from title if not set)\n   * @type {string}\n   */\n  export let id = slugify(title);\n\n  const sections = getContext(\"sections\");\n  const selected = getContext(\"selected\");\n\n  let el;\n\n  onMount(() => {\n    if (sections) {\n      if (!$sections[0] && ($selected || $selected === null)) $selected = id;\n      $sections = [...$sections, { title, id, el }];\n    }\n  });\n\n  onDestroy(() => {\n    if (sections) {\n      $sections = $sections.filter((s) => s.id !== id);\n    }\n  });\n</script>\n\n<section\n  id=\"{id}\"\n  class=\"ons-tabs__panel\"\n  bind:this=\"{el}\"\n  class:ons-tabs__panel--hidden=\"{$selected !== id}\"\n>\n  <h2 id=\"{id}-content-title\" class=\"ons-u-vh\" class:ons-u-vh=\"{hideTitle}\">{title}</h2>\n  <slot />\n</section>\n","<script>\n  import { Meta, Template, Story } from \"@storybook/addon-svelte-csf\";\n\n  // @ts-ignore\n  import componentDocs from \"./docs/component.md?raw\";\n  import Tabs from \"./Tabs.svelte\";\n  import Tab from \"./Tab.svelte\";\n  import { withComponentDocs } from \"../../js/withParams.js\";\n</script>\n\n<Meta\n  title=\"Layout/Tabs\"\n  component=\"{Tabs}\"\n  argTypes=\"{{}}\"\n  {...withComponentDocs(componentDocs)}\n/>\n\n<Template let:args>\n  <div style:padding=\"12px\">\n    <Tabs {...args}>\n      <Tab title=\"Tab one\" hideTitle=\"{args.hideTitle}\">Contents of tab panel one.</Tab>\n      <Tab title=\"Tab two\" hideTitle=\"{args.hideTitle}\">Contents of tab panel two.</Tab>\n      <Tab title=\"Tab three\" hideTitle=\"{args.hideTitle}\">Contents of tab panel three.</Tab>\n    </Tabs>\n  </div>\n</Template>\n\n<Story name=\"Default\" args=\"{{}}\" />\n\n<Story name=\"Tab panel border\" args=\"{{ border: true }}\" />\n\n<Story name=\"Compact, hidden titles\" args=\"{{ compact: true, hideTitle: true }}\" />\n"],"names":["componentDocs","t0_value","ctx","attr","a","a_href_value","a_data_ga_action_value","a_data_ga_label_value","li","li_id_value","insert","target","anchor","append","dirty","set_data","t0","i","section","h2","div","ul","compact","$$props","border","selected","sections","writable","setContext","_selected","showSection","id","set_store_value","$_selected","$sections","s","$$invalidate","toggle_class","title","hideTitle","slugify","getContext","el","onMount","$selected","onDestroy","$$value","tab0_changes","tab1_changes","tab2_changes","Tabs","withComponentDocs","get_spread_object"],"mappings":"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"}