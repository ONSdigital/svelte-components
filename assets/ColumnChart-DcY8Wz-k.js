import{p as it,P as Tt,r as qt,a as r,W as te,l as de,b as ot,c as Oe,f as fe,i as W,e as S,h as st,X as ut,s as ve,m as he,U as Te,g as n,k as x,t as ge,o as M,u as We,j as ze,n as Me,Y as l,d as B,V as Re,q as Ce}from"./iframe-Ctfpl9ZJ.js";import{i as ct}from"./create-runtime-stories-DgJbsNY1.js";import{s as Le}from"./slot-BP_Qo1ZM.js";import{s as Et}from"./style-CcY6orqc.js";import{b as wt}from"./this-Bh_Zmyuy.js";import{b as nt}from"./misc-DE_n4L7q.js";import{t as at,L as Bt,c as Ot,S as Rt,a as Gt,b as Yt,s as It,o as Ut,A as Xt,d as Vt,g as Jt,T as Nt,e as Qt,f as Zt,F as pt,E as jt}from"./DotPlotChart.svelte_svelte_type_style_lang-Bxtb_LkM.js";import{e as Ge,i as Ye}from"./each-a10QJc0s.js";import{s as O}from"./attributes-Cz_CYo18.js";import{L as $t}from"./Legend-BTT-romR.js";import{b as er}from"./band-D29EiVDJ.js";import{l as tr}from"./linear-CZTuTj73.js";var rr=Te('<polygon class="line-confidence svelte-maq6yn"></polygon>'),lr=Te('<g class="line-group svelte-maq6yn"></g>'),nr=Te('<polygon class="column-rect svelte-maq6yn"></polygon>'),ar=Te('<!><g class="column-group svelte-maq6yn"></g>',1);function ir(qe,t){it(t,!1);const[X,Ee]=ut(),h=()=>te(ae,"$custom",X),me=()=>te(oe,"$coords",X),C=()=>te(L,"$yScale",X),m=()=>te(ne,"$data",X),d=()=>te(ye,"$config",X),R=()=>te(T,"$zGet",X),Z=()=>te(A,"$zRange",X),V=he(),re=he(),le=he(),{data:ne,yScale:L,zGet:T,zRange:A,config:ye,custom:ae}=Tt("LayerCake"),xe=qt();let G=r(t,"hover",8,!1),J=r(t,"hovered",12,null),N=r(t,"select",8,!1),Y=r(t,"selected",12,null),ie=r(t,"highlighted",24,()=>[]),P=r(t,"overlayFill",8,!1),oe=h().coords,_=h().idKey,_e=h().colorHover?h().colorHover:"orange",p=h().colorSelect?h().colorSelect:"black",se=h().colorHighlight?h().colorHighlight:"black",He=h().lineWidth?h().lineWidth:2,z=h().markerWidth?h().markerWidth:2.5;function j(o,s){G()&&(J(s?s[_]:null),xe("hover",{id:J(),data:s,event:o}))}function be(o,s){N()&&(Y(s?s[_]:null),xe("select",{id:Y(),data:s,event:o}))}de(()=>h(),()=>{ve(V,h().mode?h().mode:"default")}),de(()=>{},()=>{ve(re,(o,s,c,F)=>(c=Math.abs(F-c)<z?F+z:c,`${o},${c} ${o},${F} ${s},${F} ${s},${c}`))}),de(()=>{},()=>{ve(le,o=>{const s=[];for(let c=0;c<o[0].length;c++){const F=Math.min(...o.map(H=>H[c].y1)),ce=Math.max(...o.map(H=>H[c].y1));s.push({x0:o[0][c].x0,x1:o[0][c].x1,y0:F,y1:ce})}return s})}),ot(),ct();var ue=Oe(),ke=fe(ue);{var Se=o=>{var s=ar(),c=fe(s);{var F=H=>{var $=lr();Ge($,5,()=>n(le)(me()),Ye,(g,q,I)=>{var E=rr();O(E,"data-id",I),O(E,"opacity",.3),ge((U,f)=>{O(E,"points",U),O(E,"fill",f)},[()=>n(re)(n(q).x0,n(q).x1,C()(n(q).y0),C()(n(q).y1)),()=>P()&&m()[0][I][_]==Y()?p:P()&&ie().includes(m()[0][I][_])?se:d().z?R()(m()[0][I]):Z()[0]],M),S(g,E)}),S(H,$)};W(c,H=>{n(V)==="confidence"&&H(F)})}var ce=x(c);Ge(ce,5,me,Ye,(H,$,g)=>{var q=Oe(),I=fe(q);Ge(I,1,()=>n($),Ye,(E,U,f)=>{var Ae=Oe(),De=fe(Ae);{var Ke=Q=>{var y=nr();O(y,"data-id",f),ge((D,v,b)=>{O(y,"transform",`translate(0 ${n(V)=="barcode"||n(V)=="comparison"&&g>0?-z/2:0})`),O(y,"points",D),O(y,"stroke",m()[g][f][_]==J()?_e:m()[g][f][_]==Y()?p:se),O(y,"stroke-width",v),O(y,"fill",b),O(y,"tabindex",G()||N()?0:-1)},[()=>n(re)(n(U).x0,n(U).x1,C()(n(U).y0),C()(n(U).y1)),()=>m()[g][f][_]==J()||m()[g][f][_]==Y()||ie().includes(m()[g][f][_])?He:0,()=>P()&&m()[g][f][_]==Y()?p:P()&&ie().includes(m()[g][f][_])?se:d().z?R()(m()[g][f]):Z()[0]],M),We("mouseover",y,function(...D){var v;(v=G()?b=>j(b,m()[g][f]):null)==null||v.apply(this,D)}),We("mouseleave",y,function(...D){var v;(v=G()?b=>j(b,null):null)==null||v.apply(this,D)}),We("focus",y,function(...D){var v;(v=N()?b=>j(b,m()[g][f]):null)==null||v.apply(this,D)}),We("blur",y,function(...D){var v;(v=N()?b=>j(b,null):null)==null||v.apply(this,D)}),We("click",y,function(...D){var v;(v=N()?b=>be(b,m()[g][f]):null)==null||v.apply(this,D)}),S(Q,y)};W(De,Q=>{n(V)==="confidence"&&g>0||Q(Ke)})}S(E,Ae)}),S(H,q)}),S(o,s)};W(ke,o=>{me()&&o(Se)})}S(qe,ue),st(),Ee()}var or=ze('<h5 class="visuallyhidden svelte-1fy6g2i"> </h5>'),sr=ze('<div style="margin-top: 40px"></div>'),ur=ze("<!> <!> <!> <!>",1),cr=ze("<!> <!> <!> <!>",1),gr=ze('<div class="visuallyhidden svelte-1fy6g2i"><!></div>'),dr=ze('<div><!> <!> <!> <!> <!> <!> <!> <div class="chart-container svelte-1fy6g2i" aria-hidden="true"><!></div> <!> <!></div> <!>',1);function Hr(qe,t){it(t,!1);const[X,Ee]=ut(),h=()=>te(Ue,"$yDomain",X),me=he(),C=he(),m=he();let d=r(t,"data",12),R=r(t,"height",12,200),Z=r(t,"ssr",12,!1),V=r(t,"ssrWidth",12,300),re=r(t,"ssrHeight",28,()=>typeof R()=="number"?R():200),le=r(t,"animation",12,!0),ne=r(t,"duration",12,800),L=r(t,"xKey",12,"x"),T=r(t,"yKey",12,"y"),A=r(t,"zKey",12,null),ye=r(t,"idKey",28,L),ae=r(t,"yScale",12,"linear"),xe=r(t,"yFormatTick",12,Ot),G=r(t,"yMax",12,null),J=r(t,"yMin",12,null),N=r(t,"xAxis",12,!0),Y=r(t,"yAxis",12,!0),ie=r(t,"yTicks",12,4),P=r(t,"zDomain",12,null),oe=r(t,"title",12,null),_=r(t,"subtitle",12,null),_e=r(t,"alt",12,null),p=r(t,"footer",12,null),se=r(t,"legend",12,!1),He=r(t,"table",12,!1),z=r(t,"mode",12,"default"),j=r(t,"padding",28,()=>({top:0,bottom:20,left:35,right:0})),be=r(t,"color",12,null),ue=r(t,"colors",28,()=>be()?[be()]:["#206095","#A8BD3A","#003C57","#27A0CC","#118C7B","#F66068","#746CB1","#22D0B6","lightgrey"]),ke=r(t,"markerWidth",12,2.5),Se=r(t,"spacing",12,.2),o=r(t,"interactive",12,!0),s=r(t,"xPrefix",12,""),c=r(t,"xSuffix",12,""),F=r(t,"yPrefix",12,""),ce=r(t,"ySuffix",12,""),H=r(t,"hover",12,!1),$=r(t,"hovered",12,null),g=r(t,"colorHover",12,"orange"),q=r(t,"select",12,!1),I=r(t,"selected",12,null),E=r(t,"colorSelect",12,"black"),U=r(t,"highlighted",28,()=>[]),f=r(t,"colorHighlight",12,"black"),Ae=r(t,"overlayFill",12,!1),De=r(t,"output",12,null),Ke=r(t,"xAxisLabel",12,""),Q=r(t,"yAxisLabel",12,""),y=he();const D={duration:ne(),easing:Yt},v=at(void 0,D),b=(e,a,i)=>i.indexOf(e)==a;function gt(e,a){let i=[];return a.forEach(u=>{let k=0,ee=0;e.filter(K=>K[L()]==u).map(K=>K[T()]).forEach(K=>{K>=0?k+=K:ee+=K}),k!=0&&i.push(k),ee!=0&&i.push(ee)}),i}function Ie(e,a,i,u){let k=a=="stacked"&&A()?gt(e,e.map(K=>K[L()]).filter(b)):e.map(K=>K[i]),ee=J()?J():Math.min(...k)>0?0:Math.min(...k),Fe=u||(Math.max(...k)<0?0:Math.max(...k));return[ee,Fe]}function dt(e,a,i,u){let k=Ie(e,a,i,u);(k[0]!=Pe[0]||k[1]!=Pe[1])&&(Ue.set(k,{duration:le()?ne():0}),Pe=k)}let Pe=Ie(d(),z(),T(),G());const Ue=at(Pe,D);de(()=>(B(d()),B(z()),B(T()),B(G())),()=>{dt(d(),z(),T(),G())}),de(()=>(B(d()),B(L())),()=>{ve(me,d().map(e=>e[L()]).filter(b))}),de(()=>(B(P()),B(A()),B(d())),()=>{ve(C,Array.isArray(P())?P():A()&&typeof P()=="function"?d().map(e=>e[A()]).filter(b).sort(P()):A()?d().map(e=>e[A()]).filter(b):null)}),de(()=>(B(d()),n(C),B(A())),()=>{ve(m,Jt(d(),n(C),A()))}),ot(),ct();var Xe=dr(),we=fe(Xe),Ve=Me(we);{var ft=e=>{Nt(e,{children:(a,i)=>{var u=Re();ge(()=>Ce(u,oe())),S(a,u)},$$slots:{default:!0}})};W(Ve,e=>{oe()&&e(ft)})}var Je=x(Ve,2);{var vt=e=>{Qt(e,{children:(a,i)=>{var u=Re();ge(()=>Ce(u,_())),S(a,u)},$$slots:{default:!0}})};W(Je,e=>{_()&&e(vt)})}var Ne=x(Je,2);{var ht=e=>{var a=or(),i=Me(a);ge(()=>Ce(i,_e())),S(e,a)};W(Ne,e=>{_e()&&e(ht)})}var Qe=x(Ne,2);Le(Qe,t,"options",{},null);var Ze=x(Qe,2);{var mt=e=>{const a=M(()=>z()=="barcode"),i=M(()=>z()=="comparison"),u=M(()=>z()=="confidence");$t(e,{get domain(){return n(C)},get colors(){return ue()},get markerWidth(){return ke()},get line(){return n(a)},get comparison(){return n(i)},get confidence(){return n(u)},get yAxisLabel(){return Q()}})};W(Ze,e=>{se()&&n(C)&&e(mt)})}var pe=x(Ze,2);Le(pe,t,"legend",{},null);var je=x(pe,2);{var yt=e=>{var a=sr();S(e,a)};W(je,e=>{Q()&&e(yt)})}var Be=x(je,2),xt=Me(Be);const _t=M(()=>Z()?re():null),bt=M(()=>Z()?V():null),kt=M(()=>er().paddingInner(Se()).paddingOuter(Se()).round(!0)),St=M(()=>typeof ae()=="function"?ae()():ae()=="log"?It():tr()),At=M(Ut),Dt=M(()=>({type:"column",mode:z(),idKey:ye(),coords:v,markerWidth:ke(),colorSelect:E(),colorHover:g(),colorHighlight:f(),animation:le(),duration:ne()}));Bt(xt,{get padding(){return j()},get ssr(){return Z()},get height(){return n(_t)},get width(){return n(bt)},get x(){return L()},get y(){return T()},get z(){return A()},get xDomain(){return n(me)},get yDomain(){return h()},get zDomain(){return n(C)},get xScale(){return n(kt)},get yScale(){return n(St)},get zScale(){return n(At)},get zRange(){return ue()},get data(){return n(m)},get flatData(){return d()},get custom(){return n(Dt)},children:(e,a)=>{var i=cr(),u=fe(i);Rt(u,{});var k=x(u,2);Le(k,t,"back",{},null);var ee=x(k,2);Gt(ee,{get pointerEvents(){return o()},children:(K,fr)=>{var et=ur(),tt=fe(et);{var Ft=w=>{Xt(w,{gridlines:!1,get prefix(){return s()},get suffix(){return c()},get xAxisLabel(){return Ke()}})};W(tt,w=>{N()&&w(Ft)})}var rt=x(tt,2);{var Mt=w=>{Vt(w,{get ticks(){return ie()},get formatTick(){return xe()},get prefix(){return F()},get suffix(){return ce()},get yAxisLabel(){return Q()}})};W(rt,w=>{Y()&&w(Mt)})}var lt=x(rt,2);ir(lt,{get select(){return q()},get selected(){return I()},get hover(){return H()},get hovered(){return $()},get highlighted(){return U()},get overlayFill(){return Ae()},$$events:{hover(w){nt.call(this,t,w)},select(w){nt.call(this,t,w)}}});var Ct=x(lt,2);Le(Ct,t,"svg",{},null),S(K,et)},$$slots:{default:!0}});var Fe=x(ee,2);Le(Fe,t,"front",{},null),S(e,i)},$$slots:{default:!0}});var $e=x(Be,2);{var zt=e=>{var a=gr(),i=Me(a);Zt(i,{get data(){return d()},get key1(){return L()},get key2(){return T()}}),S(e,a)};W($e,e=>{He()&&e(zt)})}var Ht=x($e,2);{var Kt=e=>{pt(e,{children:(a,i)=>{var u=Re();ge(()=>Ce(u,p())),S(a,u)},$$slots:{default:!0}})};W(Ht,e=>{p()&&e(Kt)})}wt(we,e=>ve(y,e),()=>n(y));var Wt=x(we,2);{var Lt=e=>{const a=M(()=>[ye(),L(),A(),T()]);jt(e,{get el(){return n(y)},get data(){return d()},get keys(){return n(a)},get title(){return oe()},get output(){return De()}})};W(Wt,e=>{De()&&e(Lt)})}ge(()=>Et(Be,`height: ${(typeof R()=="number"?R()+"px":R())??""}`)),S(qe,Xe);var Pt=st({get data(){return d()},set data(e){d(e),l()},get height(){return R()},set height(e){R(e),l()},get ssr(){return Z()},set ssr(e){Z(e),l()},get ssrWidth(){return V()},set ssrWidth(e){V(e),l()},get ssrHeight(){return re()},set ssrHeight(e){re(e),l()},get animation(){return le()},set animation(e){le(e),l()},get duration(){return ne()},set duration(e){ne(e),l()},get xKey(){return L()},set xKey(e){L(e),l()},get yKey(){return T()},set yKey(e){T(e),l()},get zKey(){return A()},set zKey(e){A(e),l()},get idKey(){return ye()},set idKey(e){ye(e),l()},get yScale(){return ae()},set yScale(e){ae(e),l()},get yFormatTick(){return xe()},set yFormatTick(e){xe(e),l()},get yMax(){return G()},set yMax(e){G(e),l()},get yMin(){return J()},set yMin(e){J(e),l()},get xAxis(){return N()},set xAxis(e){N(e),l()},get yAxis(){return Y()},set yAxis(e){Y(e),l()},get yTicks(){return ie()},set yTicks(e){ie(e),l()},get zDomain(){return P()},set zDomain(e){P(e),l()},get title(){return oe()},set title(e){oe(e),l()},get subtitle(){return _()},set subtitle(e){_(e),l()},get alt(){return _e()},set alt(e){_e(e),l()},get footer(){return p()},set footer(e){p(e),l()},get legend(){return se()},set legend(e){se(e),l()},get table(){return He()},set table(e){He(e),l()},get mode(){return z()},set mode(e){z(e),l()},get padding(){return j()},set padding(e){j(e),l()},get color(){return be()},set color(e){be(e),l()},get colors(){return ue()},set colors(e){ue(e),l()},get markerWidth(){return ke()},set markerWidth(e){ke(e),l()},get spacing(){return Se()},set spacing(e){Se(e),l()},get interactive(){return o()},set interactive(e){o(e),l()},get xPrefix(){return s()},set xPrefix(e){s(e),l()},get xSuffix(){return c()},set xSuffix(e){c(e),l()},get yPrefix(){return F()},set yPrefix(e){F(e),l()},get ySuffix(){return ce()},set ySuffix(e){ce(e),l()},get hover(){return H()},set hover(e){H(e),l()},get hovered(){return $()},set hovered(e){$(e),l()},get colorHover(){return g()},set colorHover(e){g(e),l()},get select(){return q()},set select(e){q(e),l()},get selected(){return I()},set selected(e){I(e),l()},get colorSelect(){return E()},set colorSelect(e){E(e),l()},get highlighted(){return U()},set highlighted(e){U(e),l()},get colorHighlight(){return f()},set colorHighlight(e){f(e),l()},get overlayFill(){return Ae()},set overlayFill(e){Ae(e),l()},get output(){return De()},set output(e){De(e),l()},get xAxisLabel(){return Ke()},set xAxisLabel(e){Ke(e),l()},get yAxisLabel(){return Q()},set yAxisLabel(e){Q(e),l()}});return Ee(),Pt}export{Hr as C};
