{"version":3,"file":"Checkbox-05890867.js","sources":["../../src/inputs/Checkbox/Checkbox.svelte"],"sourcesContent":["<script>\n  import { onMount, onDestroy, getContext, createEventDispatcher } from \"svelte\";\n\n  const dispatch = createEventDispatcher();\n\n  /**\n   * ID for input element\n   * @type {string}\n   */\n  export let id;\n  /**\n   * Name of checkbox group (optional)\n   * @type {string|null}\n   */\n  export let name = null;\n  /**\n   * Value for input element (defaults to ID)\n   * @type {string|object}\n   */\n  export let value = id;\n  /**\n   * Label for input\n   * @type {string}\n   */\n  export let label;\n  /**\n   * Binding for checked state of input\n   * @type {boolean}\n   */\n  export let checked = false;\n  /**\n   * Binding for checked state of input\n   * @type {array|null}\n   */\n  export let group = null;\n  /**\n   * (Optional) Extended description for element\n   * @type {string}\n   */\n  export let description = null;\n  /**\n   * Set display mode of checkbox\n   * @type {\"default\"|\"ghost\"}\n   */\n  export let variant = \"default\";\n  /**\n   * Option to disable input\n   * @type {boolean}\n   */\n  export let disabled = false;\n  /**\n   * Compact mode (no border)\n   * @type {boolean}\n   */\n  export let compact = false;\n\n  const checkboxes = getContext(\"checkboxes\");\n\n  let el;\n\n  function findAncestor(el, cls) {\n    while ((el = el.parentElement) && !el.classList.contains(cls));\n    return el;\n  }\n\n  function updateGroup() {\n    const newGroup = $checkboxes.filter((c) => c.checked).map((c) => c.id);\n    if (newGroup.join() !== group.join()) group = newGroup;\n  }\n\n  function doChange(e) {\n    if (Array.isArray(group) && Array.isArray($checkboxes)) {\n      updateGroup();\n    }\n    dispatch(\"change\", { id, checked, group, e });\n  }\n\n  onMount(() => {\n    if (Array.isArray(group) && Array.isArray($checkboxes)) {\n      const root = findAncestor(el, \"ons-checkboxes__items\");\n      $checkboxes = [...root.getElementsByTagName(\"input\")];\n      updateGroup();\n    }\n  });\n\n  onDestroy(() => {\n    if (Array.isArray(group) && Array.isArray($checkboxes)) {\n      $checkboxes = $checkboxes.filter((c) => c.id !== id);\n      updateGroup();\n    }\n  });\n</script>\n\n<span\n  class=\"ons-checkboxes__item\"\n  class:ons-checkboxes__item--ghost=\"{variant === 'ghost'}\"\n  class:ons-checkboxes__item--no-border=\"{compact}\"\n>\n  <span class=\"ons-checkbox\" class:ons-checkbox--no-border=\"{compact}\">\n    <input\n      type=\"checkbox\"\n      id=\"{id}\"\n      name=\"{name}\"\n      value=\"{value}\"\n      bind:checked=\"{checked}\"\n      class=\"ons-checkbox__input ons-js-checkbox\"\n      disabled=\"{disabled}\"\n      aria-disabled=\"{disabled}\"\n      on:change=\"{doChange}\"\n      bind:this=\"{el}\"\n    />\n    <label\n      class=\"ons-checkbox__label\"\n      class:ons-label--with-description=\"{description}\"\n      for=\"{id}\"\n      id=\"{id}-label\"\n      aria-describedby=\"{description ? `${id}-label-description-hint` : null}\"\n    >\n      {label}\n      {#if description}\n        <span class=\"ons-label__aria-hidden-description\" aria-hidden=\"true\"\n          ><span class=\"ons-label__description ons-radio__label--with-description\">\n            {description}\n          </span></span\n        >\n      {/if}\n    </label>\n    {#if description}\n      <span\n        class=\"ons-label__visually-hidden-description ons-u-vh\"\n        id=\"{id}-label-description-hint\"\n      >\n        {description}\n      </span>\n    {/if}\n  </span>\n</span>\n\n<style>\n  .ons-checkboxes__item {\n    display: table;\n  }\n  .ons-checkbox__input:disabled {\n    border: 2px solid var(--ons-color-border-disabled);\n  }\n  .ons-checkboxes__item label::before {\n    background: none;\n    border-color: currentColor;\n    box-shadow: 0 0 0 1px currentColor;\n  }\n  .ons-checkboxes__item--ghost label::before {\n    opacity: 60%;\n  }\n  .ons-checkboxes__item .ons-checkbox__input:focus + .ons-checkbox__label::before {\n    box-shadow: 0 0 0 1px currentColor, 0 0 0 4px #fbc900;\n    opacity: 100%;\n  }\n  .ons-checkboxes__item input {\n    background: none;\n    border-color: currentColor;\n  }\n  .ons-checkboxes__item input::after {\n    border-color: currentColor;\n    border-width: 0 0 3px 3px !important;\n  }\n\n  .ons-checkboxes__item--no-border .ons-checkbox__input:focus {\n    box-shadow: 0 0 0 1px currentColor, 0 0 0 4px #fbc900;\n  }\n</style>\n"],"names":["ctx","insert","target","span1","anchor","append","span0","span","create_if_block_1","create_if_block","toggle_class","input","label_1","findAncestor","el","cls","dispatch","createEventDispatcher","id","$$props","name","value","label","checked","group","description","variant","disabled","compact","checkboxes","getContext","updateGroup","newGroup","$checkboxes","c","$$invalidate","doChange","e","onMount","root","set_store_value","onDestroy","$$value"],"mappings":"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"}