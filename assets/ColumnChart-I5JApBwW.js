import{p as at,T as Lt,r as Ft,a as r,W as re,l as ce,b as it,c as Be,f as ge,i as M,e as k,h as ot,X as st,s as de,m as fe,U as We,g as n,k as b,t as ue,o as Y,u as Te,j as Le,n as Pe,Y as l,d as E,V as Oe,q as Ce}from"./iframe-CdLTztPY.js";import{i as ut}from"./create-runtime-stories-u1sPLo9Z.js";import{s as He}from"./slot-BP_Qo1ZM.js";import{s as Mt}from"./style-CcY6orqc.js";import{b as Pt}from"./this-CAeovWhp.js";import{b as lt}from"./misc-D2AayZnY.js";import{t as nt,L as Ct,c as Wt,S as Gt,a as qt,b as Et,s as wt,o as Bt,A as Ot,d as Rt,g as Yt,T as It,e as Ut,f as Xt,F as Vt,E as Jt}from"./DotPlotChart.svelte_svelte_type_style_lang-DLwrTM0o.js";import{e as Re,i as Ye}from"./each-2PzVorn6.js";import{s as w}from"./attributes-DeOHCz_0.js";import{L as Nt}from"./Legend-eafqpAmZ.js";import{b as Qt}from"./band-Cvf1_FL6.js";import{l as Zt}from"./linear-CZTuTj73.js";var pt=We('<polygon class="line-confidence svelte-maq6yn"></polygon>'),jt=We('<g class="line-group svelte-maq6yn"></g>'),$t=We('<polygon class="column-rect svelte-maq6yn"></polygon>'),er=We('<!><g class="column-group svelte-maq6yn"></g>',1);function tr(Ge,t){at(t,!1);const[I,qe]=st(),m=()=>re(ne,"$custom",I),ve=()=>re(he,"$coords",I),P=()=>re(S,"$yScale",I),y=()=>re(C,"$data",I),f=()=>re(Ae,"$config",I),Q=()=>re(ye,"$zGet",I),me=()=>re(le,"$zRange",I),B=fe(),U=fe(),D=fe(),{data:C,yScale:S,zGet:ye,zRange:le,config:Ae,custom:ne}=Lt("LayerCake"),ae=Ft();let Z=r(t,"hover",8,!1),p=r(t,"hovered",12,null),X=r(t,"select",8,!1),A=r(t,"selected",12,null),V=r(t,"highlighted",24,()=>[]),J=r(t,"overlayFill",8,!1),he=m().coords,h=m().idKey,De=m().colorHover?m().colorHover:"orange",j=m().colorSelect?m().colorSelect:"black",N=m().colorHighlight?m().colorHighlight:"black",ze=m().lineWidth?m().lineWidth:2,z=m().markerWidth?m().markerWidth:2.5;function $(s,u){Z()&&(p(u?u[h]:null),ae("hover",{id:p(),data:u,event:s}))}function xe(s,u){X()&&(A(u?u[h]:null),ae("select",{id:A(),data:u,event:s}))}ce(()=>m(),()=>{de(B,m().mode?m().mode:"default")}),ce(()=>{},()=>{de(U,(s,u,g,F)=>(g=Math.abs(F-g)<z?F+z:g,`${s},${g} ${s},${F} ${u},${F} ${u},${g}`))}),ce(()=>{},()=>{de(D,s=>{const u=[];for(let g=0;g<s[0].length;g++){const F=Math.min(...s.map(K=>K[g].y1)),oe=Math.max(...s.map(K=>K[g].y1));u.push({x0:s[0][g].x0,x1:s[0][g].x1,y0:F,y1:oe})}return u})}),it(),ut();var ie=Be(),_e=ge(ie);{var be=s=>{var u=er(),g=ge(u);{var F=K=>{var ee=jt();Re(ee,5,()=>n(D)(ve()),Ye,(d,W,O)=>{var G=pt();w(G,"data-id",O),w(G,"opacity",.3),ue((R,v)=>{w(G,"points",R),w(G,"fill",v)},[()=>n(U)(n(W).x0,n(W).x1,P()(n(W).y0),P()(n(W).y1)),()=>J()&&y()[0][O][h]==A()?j:J()&&V().includes(y()[0][O][h])?N:f().z?Q()(y()[0][O]):me()[0]],Y),k(d,G)}),k(K,ee)};M(g,K=>{n(B)==="confidence"&&K(F)})}var oe=b(g);Re(oe,5,ve,Ye,(K,ee,d)=>{var W=Be(),O=ge(W);Re(O,1,()=>n(ee),Ye,(G,R,v)=>{var ke=Be(),Ke=ge(ke);{var Se=se=>{var x=$t();w(x,"data-id",v),ue((T,i,H)=>{w(x,"transform",`translate(0 ${n(B)=="barcode"||n(B)=="comparison"&&d>0?-z/2:0})`),w(x,"points",T),w(x,"stroke",y()[d][v][h]==p()?De:y()[d][v][h]==A()?j:N),w(x,"stroke-width",i),w(x,"fill",H),w(x,"tabindex",Z()||X()?0:-1)},[()=>n(U)(n(R).x0,n(R).x1,P()(n(R).y0),P()(n(R).y1)),()=>y()[d][v][h]==p()||y()[d][v][h]==A()||V().includes(y()[d][v][h])?ze:0,()=>J()&&y()[d][v][h]==A()?j:J()&&V().includes(y()[d][v][h])?N:f().z?Q()(y()[d][v]):me()[0]],Y),Te("mouseover",x,function(...T){var i;(i=Z()?H=>$(H,y()[d][v]):null)==null||i.apply(this,T)}),Te("mouseleave",x,function(...T){var i;(i=Z()?H=>$(H,null):null)==null||i.apply(this,T)}),Te("focus",x,function(...T){var i;(i=X()?H=>$(H,y()[d][v]):null)==null||i.apply(this,T)}),Te("blur",x,function(...T){var i;(i=X()?H=>$(H,null):null)==null||i.apply(this,T)}),Te("click",x,function(...T){var i;(i=X()?H=>xe(H,y()[d][v]):null)==null||i.apply(this,T)}),k(se,x)};M(Ke,se=>{n(B)==="confidence"&&d>0||se(Se)})}k(G,ke)}),k(K,W)}),k(s,u)};M(_e,s=>{ve()&&s(be)})}k(Ge,ie),ot(),qe()}var rr=Le('<h5 class="visuallyhidden svelte-1fy6g2i"> </h5>'),lr=Le("<!> <!> <!> <!>",1),nr=Le("<!> <!> <!> <!>",1),ar=Le('<div class="visuallyhidden svelte-1fy6g2i"><!></div>'),ir=Le('<div><!> <!> <!> <!> <!> <!> <div class="chart-container svelte-1fy6g2i" aria-hidden="true"><!></div> <!> <!></div> <!>',1);function br(Ge,t){at(t,!1);const[I,qe]=st(),m=()=>re(Ue,"$yDomain",I),ve=fe(),P=fe(),y=fe();let f=r(t,"data",12),Q=r(t,"height",12,200),me=r(t,"ssr",12,!1),B=r(t,"animation",12,!0),U=r(t,"duration",12,800),D=r(t,"xKey",12,"x"),C=r(t,"yKey",12,"y"),S=r(t,"zKey",12,null),ye=r(t,"idKey",28,D),le=r(t,"yScale",12,"linear"),Ae=r(t,"yFormatTick",12,Wt),ne=r(t,"yMax",12,null),ae=r(t,"yMin",12,null),Z=r(t,"xAxis",12,!0),p=r(t,"yAxis",12,!0),X=r(t,"yTicks",12,4),A=r(t,"zDomain",12,null),V=r(t,"title",12,null),J=r(t,"subtitle",12,null),he=r(t,"alt",12,null),h=r(t,"footer",12,null),De=r(t,"legend",12,!1),j=r(t,"xAxisLabel",12,""),N=r(t,"yAxisLabel",12,""),ze=r(t,"table",12,!1),z=r(t,"mode",12,"default"),$=r(t,"padding",28,()=>({top:N()?35:0,bottom:j()?55:20,left:35,right:0})),xe=r(t,"color",12,null),ie=r(t,"colors",28,()=>xe()?[xe()]:["#206095","#A8BD3A","#003C57","#27A0CC","#118C7B","#F66068","#746CB1","#22D0B6","lightgrey"]),_e=r(t,"markerWidth",12,2.5),be=r(t,"spacing",12,.2),s=r(t,"interactive",12,!0),u=r(t,"xPrefix",12,""),g=r(t,"xSuffix",12,""),F=r(t,"yPrefix",12,""),oe=r(t,"ySuffix",12,""),K=r(t,"yTrimGridlines",12,!0),ee=r(t,"hover",12,!1),d=r(t,"hovered",12,null),W=r(t,"colorHover",12,"orange"),O=r(t,"select",12,!1),G=r(t,"selected",12,null),R=r(t,"colorSelect",12,"black"),v=r(t,"highlighted",28,()=>[]),ke=r(t,"colorHighlight",12,"black"),Ke=r(t,"overlayFill",12,!1),Se=r(t,"output",12,null),se=fe();const x={duration:U(),easing:Et},T=nt(void 0,x),i=(e,a,o)=>o.indexOf(e)==a;function H(e,a){let o=[];return a.forEach(c=>{let _=0,te=0;e.filter(L=>L[D()]==c).map(L=>L[C()]).forEach(L=>{L>=0?_+=L:te+=L}),_!=0&&o.push(_),te!=0&&o.push(te)}),o}function Ie(e,a,o,c){let _=a=="stacked"&&S()?H(e,e.map(L=>L[D()]).filter(i)):e.map(L=>L[o]),te=ae()?ae():Math.min(..._)>0?0:Math.min(..._),Me=c||(Math.max(..._)<0?0:Math.max(..._));return[te,Me]}function ct(e,a,o,c){let _=Ie(e,a,o,c);(_[0]!=Fe[0]||_[1]!=Fe[1])&&(Ue.set(_,{duration:B()?U():0}),Fe=_)}let Fe=Ie(f(),z(),C(),ne());const Ue=nt(Fe,x);ce(()=>(E(f()),E(z()),E(C()),E(ne())),()=>{ct(f(),z(),C(),ne())}),ce(()=>(E(f()),E(D())),()=>{de(ve,f().map(e=>e[D()]).filter(i))}),ce(()=>(E(A()),E(S()),E(f())),()=>{de(P,Array.isArray(A())?A():S()&&typeof A()=="function"?f().map(e=>e[S()]).filter(i).sort(A()):S()?f().map(e=>e[S()]).filter(i):null)}),ce(()=>(E(f()),n(P),E(S())),()=>{de(y,Yt(f(),n(P),S()))}),it(),ut();var Xe=ir(),Ee=ge(Xe),Ve=Pe(Ee);{var gt=e=>{It(e,{children:(a,o)=>{var c=Oe();ue(()=>Ce(c,V())),k(a,c)},$$slots:{default:!0}})};M(Ve,e=>{V()&&e(gt)})}var Je=b(Ve,2);{var dt=e=>{Ut(e,{children:(a,o)=>{var c=Oe();ue(()=>Ce(c,J())),k(a,c)},$$slots:{default:!0}})};M(Je,e=>{J()&&e(dt)})}var Ne=b(Je,2);{var ft=e=>{var a=rr(),o=Pe(a);ue(()=>Ce(o,he())),k(e,a)};M(Ne,e=>{he()&&e(ft)})}var Qe=b(Ne,2);He(Qe,t,"options",{},null);var Ze=b(Qe,2);{var vt=e=>{const a=Y(()=>z()=="barcode"),o=Y(()=>z()=="comparison"),c=Y(()=>z()=="confidence");Nt(e,{get domain(){return n(P)},get colors(){return ie()},get markerWidth(){return _e()},get line(){return n(a)},get comparison(){return n(o)},get confidence(){return n(c)},get yAxisLabel(){return N()}})};M(Ze,e=>{De()&&n(P)&&e(vt)})}var pe=b(Ze,2);He(pe,t,"legend",{},null);var we=b(pe,2),mt=Pe(we);const yt=Y(()=>Qt().paddingInner(be()).paddingOuter(be()).round(!0)),ht=Y(()=>typeof le()=="function"?le()():le()=="log"?wt():Zt()),xt=Y(Bt),_t=Y(()=>({type:"column",mode:z(),idKey:ye(),coords:T,markerWidth:_e(),colorSelect:R(),colorHover:W(),colorHighlight:ke(),animation:B(),duration:U()}));Ct(mt,{get padding(){return $()},get ssr(){return me()},get x(){return D()},get y(){return C()},get z(){return S()},get xDomain(){return n(ve)},get yDomain(){return m()},get zDomain(){return n(P)},get xScale(){return n(yt)},get yScale(){return n(ht)},get zScale(){return n(xt)},get zRange(){return ie()},get data(){return n(y)},get flatData(){return f()},get custom(){return n(_t)},children:(e,a)=>{var o=nr(),c=ge(o);Gt(c,{});var _=b(c,2);He(_,t,"back",{},null);var te=b(_,2);qt(te,{get pointerEvents(){return s()},children:(L,or)=>{var $e=lr(),et=ge($e);{var Kt=q=>{Ot(q,{gridlines:!1,get prefix(){return u()},get suffix(){return g()},get xAxisLabel(){return j()}})};M(et,q=>{Z()&&q(Kt)})}var tt=b(et,2);{var Tt=q=>{Rt(q,{get ticks(){return X()},get formatTick(){return Ae()},get prefix(){return F()},get suffix(){return oe()},get yAxisLabel(){return N()},get trimGridlinesLeft(){return K()}})};M(tt,q=>{p()&&q(Tt)})}var rt=b(tt,2);tr(rt,{get select(){return O()},get selected(){return G()},get hover(){return ee()},get hovered(){return d()},get highlighted(){return v()},get overlayFill(){return Ke()},$$events:{hover(q){lt.call(this,t,q)},select(q){lt.call(this,t,q)}}});var Ht=b(rt,2);He(Ht,t,"svg",{},null),k(L,$e)},$$slots:{default:!0}});var Me=b(te,2);He(Me,t,"front",{},null),k(e,o)},$$slots:{default:!0}});var je=b(we,2);{var bt=e=>{var a=ar(),o=Pe(a);Xt(o,{get data(){return f()},get key1(){return D()},get key2(){return C()}}),k(e,a)};M(je,e=>{ze()&&e(bt)})}var kt=b(je,2);{var St=e=>{Vt(e,{children:(a,o)=>{var c=Oe();ue(()=>Ce(c,h())),k(a,c)},$$slots:{default:!0}})};M(kt,e=>{h()&&e(St)})}Pt(Ee,e=>de(se,e),()=>n(se));var At=b(Ee,2);{var Dt=e=>{const a=Y(()=>[ye(),D(),S(),C()]);Jt(e,{get el(){return n(se)},get data(){return f()},get keys(){return n(a)},get title(){return V()},get output(){return Se()}})};M(At,e=>{Se()&&e(Dt)})}ue(()=>Mt(we,`height: ${(typeof Q()=="number"?Q()+"px":Q())??""}`)),k(Ge,Xe);var zt=ot({get data(){return f()},set data(e){f(e),l()},get height(){return Q()},set height(e){Q(e),l()},get ssr(){return me()},set ssr(e){me(e),l()},get animation(){return B()},set animation(e){B(e),l()},get duration(){return U()},set duration(e){U(e),l()},get xKey(){return D()},set xKey(e){D(e),l()},get yKey(){return C()},set yKey(e){C(e),l()},get zKey(){return S()},set zKey(e){S(e),l()},get idKey(){return ye()},set idKey(e){ye(e),l()},get yScale(){return le()},set yScale(e){le(e),l()},get yFormatTick(){return Ae()},set yFormatTick(e){Ae(e),l()},get yMax(){return ne()},set yMax(e){ne(e),l()},get yMin(){return ae()},set yMin(e){ae(e),l()},get xAxis(){return Z()},set xAxis(e){Z(e),l()},get yAxis(){return p()},set yAxis(e){p(e),l()},get yTicks(){return X()},set yTicks(e){X(e),l()},get zDomain(){return A()},set zDomain(e){A(e),l()},get title(){return V()},set title(e){V(e),l()},get subtitle(){return J()},set subtitle(e){J(e),l()},get alt(){return he()},set alt(e){he(e),l()},get footer(){return h()},set footer(e){h(e),l()},get legend(){return De()},set legend(e){De(e),l()},get xAxisLabel(){return j()},set xAxisLabel(e){j(e),l()},get yAxisLabel(){return N()},set yAxisLabel(e){N(e),l()},get table(){return ze()},set table(e){ze(e),l()},get mode(){return z()},set mode(e){z(e),l()},get padding(){return $()},set padding(e){$(e),l()},get color(){return xe()},set color(e){xe(e),l()},get colors(){return ie()},set colors(e){ie(e),l()},get markerWidth(){return _e()},set markerWidth(e){_e(e),l()},get spacing(){return be()},set spacing(e){be(e),l()},get interactive(){return s()},set interactive(e){s(e),l()},get xPrefix(){return u()},set xPrefix(e){u(e),l()},get xSuffix(){return g()},set xSuffix(e){g(e),l()},get yPrefix(){return F()},set yPrefix(e){F(e),l()},get ySuffix(){return oe()},set ySuffix(e){oe(e),l()},get yTrimGridlines(){return K()},set yTrimGridlines(e){K(e),l()},get hover(){return ee()},set hover(e){ee(e),l()},get hovered(){return d()},set hovered(e){d(e),l()},get colorHover(){return W()},set colorHover(e){W(e),l()},get select(){return O()},set select(e){O(e),l()},get selected(){return G()},set selected(e){G(e),l()},get colorSelect(){return R()},set colorSelect(e){R(e),l()},get highlighted(){return v()},set highlighted(e){v(e),l()},get colorHighlight(){return ke()},set colorHighlight(e){ke(e),l()},get overlayFill(){return Ke()},set overlayFill(e){Ke(e),l()},get output(){return Se()},set output(e){Se(e),l()}});return qe(),zt}export{br as C};
